"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@solana-mobile";
exports.ids = ["vendor-chunks/@solana-mobile"];
exports.modules = {

/***/ "(ssr)/./node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/lib/esm/index.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/lib/esm/index.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   startRemoteScenario: () => (/* binding */ startRemoteScenario),\n/* harmony export */   transact: () => (/* binding */ transact)\n/* harmony export */ });\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"(ssr)/./node_modules/@solana/web3.js/lib/index.esm.js\");\n/* harmony import */ var _solana_mobile_mobile_wallet_adapter_protocol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana-mobile/mobile-wallet-adapter-protocol */ \"(ssr)/./node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/index.js\");\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ function __rest(s, e) {\n    var t = {};\n    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\nfunction __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\nfunction fromUint8Array(byteArray) {\n    return window.btoa(String.fromCharCode.call(null, ...byteArray));\n}\nfunction toUint8Array(base64EncodedByteArray) {\n    return new Uint8Array(window.atob(base64EncodedByteArray).split(\"\").map((c)=>c.charCodeAt(0)));\n}\nfunction getPayloadFromTransaction(transaction) {\n    const serializedTransaction = \"version\" in transaction ? transaction.serialize() : transaction.serialize({\n        requireAllSignatures: false,\n        verifySignatures: false\n    });\n    const payload = fromUint8Array(serializedTransaction);\n    return payload;\n}\nfunction getTransactionFromWireMessage(byteArray) {\n    const numSignatures = byteArray[0];\n    const messageOffset = numSignatures * _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.SIGNATURE_LENGTH_IN_BYTES + 1;\n    const version = _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedMessage.deserializeMessageVersion(byteArray.slice(messageOffset, byteArray.length));\n    if (version === \"legacy\") {\n        return _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.Transaction.from(byteArray);\n    } else {\n        return _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedTransaction.deserialize(byteArray);\n    }\n}\nfunction transact(callback, config) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const augmentedCallback = (wallet)=>{\n            return callback(augmentWalletAPI(wallet));\n        };\n        return yield (0,_solana_mobile_mobile_wallet_adapter_protocol__WEBPACK_IMPORTED_MODULE_1__.transact)(augmentedCallback, config);\n    });\n}\nfunction startRemoteScenario(config) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const { wallet, close, associationUrl } = yield (0,_solana_mobile_mobile_wallet_adapter_protocol__WEBPACK_IMPORTED_MODULE_1__.startRemoteScenario)(config);\n        const augmentedPromise = wallet.then((wallet)=>{\n            return augmentWalletAPI(wallet);\n        });\n        return {\n            wallet: augmentedPromise,\n            close,\n            associationUrl\n        };\n    });\n}\nfunction augmentWalletAPI(wallet) {\n    return new Proxy({}, {\n        get (target, p) {\n            if (target[p] == null) {\n                switch(p){\n                    case \"signAndSendTransactions\":\n                        target[p] = function(_a) {\n                            var { minContextSlot, commitment, skipPreflight, maxRetries, waitForCommitmentToSendNextTransaction, transactions } = _a, rest = __rest(_a, [\n                                \"minContextSlot\",\n                                \"commitment\",\n                                \"skipPreflight\",\n                                \"maxRetries\",\n                                \"waitForCommitmentToSendNextTransaction\",\n                                \"transactions\"\n                            ]);\n                            return __awaiter(this, void 0, void 0, function*() {\n                                const payloads = transactions.map(getPayloadFromTransaction);\n                                const options = {\n                                    min_context_slot: minContextSlot,\n                                    commitment: commitment,\n                                    skip_preflight: skipPreflight,\n                                    max_retries: maxRetries,\n                                    wait_for_commitment_to_send_next_transaction: waitForCommitmentToSendNextTransaction\n                                };\n                                const { signatures: base64EncodedSignatures } = yield wallet.signAndSendTransactions(Object.assign(Object.assign(Object.assign({}, rest), Object.values(options).some((element)=>element != null) ? {\n                                    options: options\n                                } : null), {\n                                    payloads\n                                }));\n                                const signatures = base64EncodedSignatures.map(toUint8Array).map(bs58__WEBPACK_IMPORTED_MODULE_2__.encode);\n                                return signatures;\n                            });\n                        };\n                        break;\n                    case \"signMessages\":\n                        target[p] = function(_a) {\n                            var { payloads } = _a, rest = __rest(_a, [\n                                \"payloads\"\n                            ]);\n                            return __awaiter(this, void 0, void 0, function*() {\n                                const base64EncodedPayloads = payloads.map(fromUint8Array);\n                                const { signed_payloads: base64EncodedSignedMessages } = yield wallet.signMessages(Object.assign(Object.assign({}, rest), {\n                                    payloads: base64EncodedPayloads\n                                }));\n                                const signedMessages = base64EncodedSignedMessages.map(toUint8Array);\n                                return signedMessages;\n                            });\n                        };\n                        break;\n                    case \"signTransactions\":\n                        target[p] = function(_a) {\n                            var { transactions } = _a, rest = __rest(_a, [\n                                \"transactions\"\n                            ]);\n                            return __awaiter(this, void 0, void 0, function*() {\n                                const payloads = transactions.map(getPayloadFromTransaction);\n                                const { signed_payloads: base64EncodedCompiledTransactions } = yield wallet.signTransactions(Object.assign(Object.assign({}, rest), {\n                                    payloads\n                                }));\n                                const compiledTransactions = base64EncodedCompiledTransactions.map(toUint8Array);\n                                const signedTransactions = compiledTransactions.map(getTransactionFromWireMessage);\n                                return signedTransactions;\n                            });\n                        };\n                        break;\n                    default:\n                        {\n                            target[p] = wallet[p];\n                            break;\n                        }\n                }\n            }\n            return target[p];\n        },\n        defineProperty () {\n            return false;\n        },\n        deleteProperty () {\n            return false;\n        }\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNvbGFuYS1tb2JpbGUvbW9iaWxlLXdhbGxldC1hZGFwdGVyLXByb3RvY29sLXdlYjNqcy9saWIvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlIO0FBQ29CO0FBQzdHO0FBRXhCOzs7Ozs7Ozs7Ozs7OzhFQWE4RSxHQUU5RSxTQUFTUyxPQUFPQyxDQUFDLEVBQUVDLENBQUM7SUFDaEIsSUFBSUMsSUFBSSxDQUFDO0lBQ1QsSUFBSyxJQUFJQyxLQUFLSCxFQUFHLElBQUlJLE9BQU9DLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNQLEdBQUdHLE1BQU1GLEVBQUVPLE9BQU8sQ0FBQ0wsS0FBSyxHQUM5RUQsQ0FBQyxDQUFDQyxFQUFFLEdBQUdILENBQUMsQ0FBQ0csRUFBRTtJQUNmLElBQUlILEtBQUssUUFBUSxPQUFPSSxPQUFPSyxxQkFBcUIsS0FBSyxZQUNyRCxJQUFLLElBQUlDLElBQUksR0FBR1AsSUFBSUMsT0FBT0sscUJBQXFCLENBQUNULElBQUlVLElBQUlQLEVBQUVRLE1BQU0sRUFBRUQsSUFBSztRQUNwRSxJQUFJVCxFQUFFTyxPQUFPLENBQUNMLENBQUMsQ0FBQ08sRUFBRSxJQUFJLEtBQUtOLE9BQU9DLFNBQVMsQ0FBQ08sb0JBQW9CLENBQUNMLElBQUksQ0FBQ1AsR0FBR0csQ0FBQyxDQUFDTyxFQUFFLEdBQ3pFUixDQUFDLENBQUNDLENBQUMsQ0FBQ08sRUFBRSxDQUFDLEdBQUdWLENBQUMsQ0FBQ0csQ0FBQyxDQUFDTyxFQUFFLENBQUM7SUFDekI7SUFDSixPQUFPUjtBQUNYO0FBRUEsU0FBU1csVUFBVUMsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLENBQUMsRUFBRUMsU0FBUztJQUNoRCxTQUFTQyxNQUFNQyxLQUFLO1FBQUksT0FBT0EsaUJBQWlCSCxJQUFJRyxRQUFRLElBQUlILEVBQUUsU0FBVUksT0FBTztZQUFJQSxRQUFRRDtRQUFRO0lBQUk7SUFDM0csT0FBTyxJQUFL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cmNlcyI6WyJ3ZWJwYWNrOi8vYmxpbmstYnVpbGRlci8uL25vZGVfbW9kdWxlcy9Ac29sYW5hLW1vYmlsZS9tb2JpbGUtd2FsbGV0LWFkYXB0ZXItcHJvdG9jb2wtd2ViM2pzL2xpYi9lc20vaW5kZXguanM/MGI2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZXJzaW9uZWRNZXNzYWdlLCBUcmFuc2FjdGlvbiwgVmVyc2lvbmVkVHJhbnNhY3Rpb24sIFNJR05BVFVSRV9MRU5HVEhfSU5fQllURVMgfSBmcm9tICdAc29sYW5hL3dlYjMuanMnO1xuaW1wb3J0IHsgdHJhbnNhY3QgYXMgdHJhbnNhY3QkMSwgc3RhcnRSZW1vdGVTY2VuYXJpbyBhcyBzdGFydFJlbW90ZVNjZW5hcmlvJDEgfSBmcm9tICdAc29sYW5hLW1vYmlsZS9tb2JpbGUtd2FsbGV0LWFkYXB0ZXItcHJvdG9jb2wnO1xuaW1wb3J0IGJzNTggZnJvbSAnYnM1OCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGZyb21VaW50OEFycmF5KGJ5dGVBcnJheSkge1xuICAgIHJldHVybiB3aW5kb3cuYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmNhbGwobnVsbCwgLi4uYnl0ZUFycmF5KSk7XG59XG5mdW5jdGlvbiB0b1VpbnQ4QXJyYXkoYmFzZTY0RW5jb2RlZEJ5dGVBcnJheSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheSh3aW5kb3dcbiAgICAgICAgLmF0b2IoYmFzZTY0RW5jb2RlZEJ5dGVBcnJheSlcbiAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAubWFwKChjKSA9PiBjLmNoYXJDb2RlQXQoMCkpKTtcbn1cblxuZnVuY3Rpb24gZ2V0UGF5bG9hZEZyb21UcmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbiA9ICd2ZXJzaW9uJyBpbiB0cmFuc2FjdGlvblxuICAgICAgICA/IHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSgpXG4gICAgICAgIDogdHJhbnNhY3Rpb24uc2VyaWFsaXplKHtcbiAgICAgICAgICAgIHJlcXVpcmVBbGxTaWduYXR1cmVzOiBmYWxzZSxcbiAgICAgICAgICAgIHZlcmlmeVNpZ25hdHVyZXM6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICBjb25zdCBwYXlsb2FkID0gZnJvbVVpbnQ4QXJyYXkoc2VyaWFsaXplZFRyYW5zYWN0aW9uKTtcbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uRnJvbVdpcmVNZXNzYWdlKGJ5dGVBcnJheSkge1xuICAgIGNvbnN0IG51bVNpZ25hdHVyZXMgPSBieXRlQXJyYXlbMF07XG4gICAgY29uc3QgbWVzc2FnZU9mZnNldCA9IG51bVNpZ25hdHVyZXMgKiBTSUdOQVRVUkVfTEVOR1RIX0lOX0JZVEVTICsgMTtcbiAgICBjb25zdCB2ZXJzaW9uID0gVmVyc2lvbmVkTWVzc2FnZS5kZXNlcmlhbGl6ZU1lc3NhZ2VWZXJzaW9uKGJ5dGVBcnJheS5zbGljZShtZXNzYWdlT2Zmc2V0LCBieXRlQXJyYXkubGVuZ3RoKSk7XG4gICAgaWYgKHZlcnNpb24gPT09ICdsZWdhY3knKSB7XG4gICAgICAgIHJldHVybiBUcmFuc2FjdGlvbi5mcm9tKGJ5dGVBcnJheSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gVmVyc2lvbmVkVHJhbnNhY3Rpb24uZGVzZXJpYWxpemUoYnl0ZUFycmF5KTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2FjdChjYWxsYmFjaywgY29uZmlnKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgYXVnbWVudGVkQ2FsbGJhY2sgPSAod2FsbGV0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soYXVnbWVudFdhbGxldEFQSSh3YWxsZXQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHlpZWxkIHRyYW5zYWN0JDEoYXVnbWVudGVkQ2FsbGJhY2ssIGNvbmZpZyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzdGFydFJlbW90ZVNjZW5hcmlvKGNvbmZpZykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHsgd2FsbGV0LCBjbG9zZSwgYXNzb2NpYXRpb25VcmwgfSA9IHlpZWxkIHN0YXJ0UmVtb3RlU2NlbmFyaW8kMShjb25maWcpO1xuICAgICAgICBjb25zdCBhdWdtZW50ZWRQcm9taXNlID0gd2FsbGV0LnRoZW4oKHdhbGxldCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF1Z21lbnRXYWxsZXRBUEkod2FsbGV0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IHdhbGxldDogYXVnbWVudGVkUHJvbWlzZSwgY2xvc2UsIGFzc29jaWF0aW9uVXJsIH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiBhdWdtZW50V2FsbGV0QVBJKHdhbGxldCkge1xuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KHRhcmdldCwgcCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldFtwXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpZ25BbmRTZW5kVHJhbnNhY3Rpb25zJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtwXSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB7IG1pbkNvbnRleHRTbG90LCBjb21taXRtZW50LCBza2lwUHJlZmxpZ2h0LCBtYXhSZXRyaWVzLCB3YWl0Rm9yQ29tbWl0bWVudFRvU2VuZE5leHRUcmFuc2FjdGlvbiwgdHJhbnNhY3Rpb25zIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wibWluQ29udGV4dFNsb3RcIiwgXCJjb21taXRtZW50XCIsIFwic2tpcFByZWZsaWdodFwiLCBcIm1heFJldHJpZXNcIiwgXCJ3YWl0Rm9yQ29tbWl0bWVudFRvU2VuZE5leHRUcmFuc2FjdGlvblwiLCBcInRyYW5zYWN0aW9uc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZHMgPSB0cmFuc2FjdGlvbnMubWFwKGdldFBheWxvYWRGcm9tVHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluX2NvbnRleHRfc2xvdDogbWluQ29udGV4dFNsb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXRtZW50OiBjb21taXRtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcF9wcmVmbGlnaHQ6IHNraXBQcmVmbGlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfcmV0cmllczogbWF4UmV0cmllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRfZm9yX2NvbW1pdG1lbnRfdG9fc2VuZF9uZXh0X3RyYW5zYWN0aW9uOiB3YWl0Rm9yQ29tbWl0bWVudFRvU2VuZE5leHRUcmFuc2FjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNpZ25hdHVyZXM6IGJhc2U2NEVuY29kZWRTaWduYXR1cmVzIH0gPSB5aWVsZCB3YWxsZXQuc2lnbkFuZFNlbmRUcmFuc2FjdGlvbnMoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3QpLCAoT2JqZWN0LnZhbHVlcyhvcHRpb25zKS5zb21lKGVsZW1lbnQgPT4gZWxlbWVudCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IG9wdGlvbnM6IG9wdGlvbnMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsKSksIHsgcGF5bG9hZHMgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWduYXR1cmVzID0gYmFzZTY0RW5jb2RlZFNpZ25hdHVyZXMubWFwKHRvVWludDhBcnJheSkubWFwKGJzNTguZW5jb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25hdHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpZ25NZXNzYWdlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbcF0gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeyBwYXlsb2FkcyB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInBheWxvYWRzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRFbmNvZGVkUGF5bG9hZHMgPSBwYXlsb2Fkcy5tYXAoZnJvbVVpbnQ4QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNpZ25lZF9wYXlsb2FkczogYmFzZTY0RW5jb2RlZFNpZ25lZE1lc3NhZ2VzIH0gPSB5aWVsZCB3YWxsZXQuc2lnbk1lc3NhZ2VzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzdCksIHsgcGF5bG9hZHM6IGJhc2U2NEVuY29kZWRQYXlsb2FkcyB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZE1lc3NhZ2VzID0gYmFzZTY0RW5jb2RlZFNpZ25lZE1lc3NhZ2VzLm1hcCh0b1VpbnQ4QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmVkTWVzc2FnZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NpZ25UcmFuc2FjdGlvbnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3BdID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHsgdHJhbnNhY3Rpb25zIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1widHJhbnNhY3Rpb25zXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkcyA9IHRyYW5zYWN0aW9ucy5tYXAoZ2V0UGF5bG9hZEZyb21UcmFuc2FjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2lnbmVkX3BheWxvYWRzOiBiYXNlNjRFbmNvZGVkQ29tcGlsZWRUcmFuc2FjdGlvbnMgfSA9IHlpZWxkIHdhbGxldC5zaWduVHJhbnNhY3Rpb25zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzdCksIHsgcGF5bG9hZHMgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21waWxlZFRyYW5zYWN0aW9ucyA9IGJhc2U2NEVuY29kZWRDb21waWxlZFRyYW5zYWN0aW9ucy5tYXAodG9VaW50OEFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb25zID0gY29tcGlsZWRUcmFuc2FjdGlvbnMubWFwKGdldFRyYW5zYWN0aW9uRnJvbVdpcmVNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25lZFRyYW5zYWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3BdID0gd2FsbGV0W3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3BdO1xuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVQcm9wZXJ0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlUHJvcGVydHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IHN0YXJ0UmVtb3RlU2NlbmFyaW8sIHRyYW5zYWN0IH07XG4iXSwibmFtZXMiOlsiVmVyc2lvbmVkTWVzc2FnZSIsIlRyYW5zYWN0aW9uIiwiVmVyc2lvbmVkVHJhbnNhY3Rpb24iLCJTSUdOQVRVUkVfTEVOR1RIX0lOX0JZVEVTIiwidHJhbnNhY3QiLCJ0cmFuc2FjdCQxIiwic3RhcnRSZW1vdGVTY2VuYXJpbyIsInN0YXJ0UmVtb3RlU2NlbmFyaW8kMSIsImJzNTgiLCJfX3Jlc3QiLCJzIiwiZSIsInQiLCJwIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImkiLCJsZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwidmFsdWUiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiZnJvbVVpbnQ4QXJyYXkiLCJieXRlQXJyYXkiLCJ3aW5kb3ciLCJidG9hIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidG9VaW50OEFycmF5IiwiYmFzZTY0RW5jb2RlZEJ5dGVBcnJheSIsIlVpbnQ4QXJyYXkiLCJhdG9iIiwic3BsaXQiLCJtYXAiLCJjIiwiY2hhckNvZGVBdCIsImdldFBheWxvYWRGcm9tVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbiIsInNlcmlhbGl6ZWRUcmFuc2FjdGlvbiIsInNlcmlhbGl6ZSIsInJlcXVpcmVBbGxTaWduYXR1cmVzIiwidmVyaWZ5U2lnbmF0dXJlcyIsInBheWxvYWQiLCJnZXRUcmFuc2FjdGlvbkZyb21XaXJlTWVzc2FnZSIsIm51bVNpZ25hdHVyZXMiLCJtZXNzYWdlT2Zmc2V0IiwidmVyc2lvbiIsImRlc2VyaWFsaXplTWVzc2FnZVZlcnNpb24iLCJzbGljZSIsImZyb20iLCJkZXNlcmlhbGl6ZSIsImNhbGxiYWNrIiwiY29uZmlnIiwiYXVnbWVudGVkQ2FsbGJhY2siLCJ3YWxsZXQiLCJhdWdtZW50V2FsbGV0QVBJIiwiY2xvc2UiLCJhc3NvY2lhdGlvblVybCIsImF1Z21lbnRlZFByb21pc2UiLCJQcm94eSIsImdldCIsInRhcmdldCIsIl9hIiwibWluQ29udGV4dFNsb3QiLCJjb21taXRtZW50Iiwic2tpcFByZWZsaWdodCIsIm1heFJldHJpZXMiLCJ3YWl0Rm9yQ29tbWl0bWVudFRvU2VuZE5leHRUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9ucyIsInJlc3QiLCJwYXlsb2FkcyIsIm9wdGlvbnMiLCJtaW5fY29udGV4dF9zbG90Iiwic2tpcF9wcmVmbGlnaHQiLCJtYXhfcmV0cmllcyIsIndhaXRfZm9yX2NvbW1pdG1lbnRfdG9fc2VuZF9uZXh0X3RyYW5zYWN0aW9uIiwic2lnbmF0dXJlcyIsImJhc2U2NEVuY29kZWRTaWduYXR1cmVzIiwic2lnbkFuZFNlbmRUcmFuc2FjdGlvbnMiLCJhc3NpZ24iLCJ2YWx1ZXMiLCJzb21lIiwiZWxlbWVudCIsImVuY29kZSIsImJhc2U2NEVuY29kZWRQYXlsb2FkcyIsInNpZ25lZF9wYXlsb2FkcyIsImJhc2U2NEVuY29kZWRTaWduZWRNZXNzYWdlcyIsInNpZ25NZXNzYWdlcyIsInNpZ25lZE1lc3NhZ2VzIiwiYmFzZTY0RW5jb2RlZENvbXBpbGVkVHJhbnNhY3Rpb25zIiwic2lnblRyYW5zYWN0aW9ucyIsImNvbXBpbGVkVHJhbnNhY3Rpb25zIiwic2lnbmVkVHJhbnNhY3Rpb25zIiwiZGVmaW5lUHJvcGVydHkiLCJkZWxldGVQcm9wZXJ0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/lib/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SolanaCloneAuthorization: () => (/* binding */ SolanaCloneAuthorization),\n/* harmony export */   SolanaMobileWalletAdapterError: () => (/* binding */ SolanaMobileWalletAdapterError),\n/* harmony export */   SolanaMobileWalletAdapterErrorCode: () => (/* binding */ SolanaMobileWalletAdapterErrorCode),\n/* harmony export */   SolanaMobileWalletAdapterProtocolError: () => (/* binding */ SolanaMobileWalletAdapterProtocolError),\n/* harmony export */   SolanaMobileWalletAdapterProtocolErrorCode: () => (/* binding */ SolanaMobileWalletAdapterProtocolErrorCode),\n/* harmony export */   SolanaSignInWithSolana: () => (/* binding */ SolanaSignInWithSolana),\n/* harmony export */   SolanaSignTransactions: () => (/* binding */ SolanaSignTransactions),\n/* harmony export */   startRemoteScenario: () => (/* binding */ startRemoteScenario),\n/* harmony export */   transact: () => (/* binding */ transact)\n/* harmony export */ });\n/* harmony import */ var _solana_wallet_standard_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/wallet-standard-util */ \"(ssr)/./node_modules/@solana/wallet-standard-util/lib/esm/signIn.js\");\n\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nconst SolanaMobileWalletAdapterErrorCode = {\n    ERROR_ASSOCIATION_PORT_OUT_OF_RANGE: \"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE\",\n    ERROR_REFLECTOR_ID_OUT_OF_RANGE: \"ERROR_REFLECTOR_ID_OUT_OF_RANGE\",\n    ERROR_FORBIDDEN_WALLET_BASE_URL: \"ERROR_FORBIDDEN_WALLET_BASE_URL\",\n    ERROR_SECURE_CONTEXT_REQUIRED: \"ERROR_SECURE_CONTEXT_REQUIRED\",\n    ERROR_SESSION_CLOSED: \"ERROR_SESSION_CLOSED\",\n    ERROR_SESSION_TIMEOUT: \"ERROR_SESSION_TIMEOUT\",\n    ERROR_WALLET_NOT_FOUND: \"ERROR_WALLET_NOT_FOUND\",\n    ERROR_INVALID_PROTOCOL_VERSION: \"ERROR_INVALID_PROTOCOL_VERSION\",\n    ERROR_BROWSER_NOT_SUPPORTED: \"ERROR_BROWSER_NOT_SUPPORTED\"\n};\nclass SolanaMobileWalletAdapterError extends Error {\n    constructor(...args){\n        const [code, message, data] = args;\n        super(message);\n        this.code = code;\n        this.data = data;\n        this.name = \"SolanaMobileWalletAdapterError\";\n    }\n}\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nconst SolanaMobileWalletAdapterProtocolErrorCode = {\n    // Keep these in sync with `mobilewalletadapter/common/ProtocolContract.java`.\n    ERROR_AUTHORIZATION_FAILED: -1,\n    ERROR_INVALID_PAYLOADS: -2,\n    ERROR_NOT_SIGNED: -3,\n    ERROR_NOT_SUBMITTED: -4,\n    ERROR_TOO_MANY_PAYLOADS: -5,\n    ERROR_ATTEST_ORIGIN_ANDROID: -100\n};\nclass SolanaMobileWalletAdapterProtocolError extends Error {\n    constructor(...args){\n        const [jsonRpcMessageId, code, message, data] = args;\n        super(message);\n        this.code = code;\n        this.data = data;\n        this.jsonRpcMessageId = jsonRpcMessageId;\n        this.name = \"SolanaMobileWalletAdapterProtocolError\";\n    }\n}\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ function __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\nfunction encode(input) {\n    return window.btoa(input);\n}\nfunction fromUint8Array(byteArray, urlsafe) {\n    const base64 = window.btoa(String.fromCharCode.call(null, ...byteArray));\n    if (urlsafe) {\n        return base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    } else return base64;\n}\nfunction toUint8Array(base64EncodedByteArray) {\n    return new Uint8Array(window.atob(base64EncodedByteArray).split(\"\").map((c)=>c.charCodeAt(0)));\n}\nfunction createHelloReq(ecdhPublicKey, associationKeypairPrivateKey) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const publicKeyBuffer = yield crypto.subtle.exportKey(\"raw\", ecdhPublicKey);\n        const signatureBuffer = yield crypto.subtle.sign({\n            hash: \"SHA-256\",\n            name: \"ECDSA\"\n        }, associationKeypairPrivateKey, publicKeyBuffer);\n        const response = new Uint8Array(publicKeyBuffer.byteLength + signatureBuffer.byteLength);\n        response.set(new Uint8Array(publicKeyBuffer), 0);\n        response.set(new Uint8Array(signatureBuffer), publicKeyBuffer.byteLength);\n        return response;\n    });\n}\nfunction createSIWSMessage(payload) {\n    return (0,_solana_wallet_standard_util__WEBPACK_IMPORTED_MODULE_0__.createSignInMessageText)(payload);\n}\nfunction createSIWSMessageBase64(payload) {\n    return encode(createSIWSMessage(payload));\n}\n// optional features\nconst SolanaSignTransactions = \"solana:signTransactions\";\nconst SolanaCloneAuthorization = \"solana:cloneAuthorization\";\nconst SolanaSignInWithSolana = \"solana:signInWithSolana\";\n/**\n * Creates a {@link MobileWallet} proxy that handles backwards compatibility and API to RPC conversion.\n *\n * @param protocolVersion the protocol version in use for this session/request\n * @param protocolRequestHandler callback function that handles sending the RPC request to the wallet endpoint.\n * @returns a {@link MobileWallet} proxy\n */ function createMobileWalletProxy(protocolVersion, protocolRequestHandler) {\n    return new Proxy({}, {\n        get (target, p) {\n            // Wrapping a Proxy in a promise results in the Proxy being asked for a 'then' property so must \n            // return null if 'then' is called on this proxy to let the 'resolve()' call know this is not a promise.\n            // see: https://stackoverflow.com/a/53890904\n            //@ts-ignore\n            if (p === \"then\") {\n                return null;\n            }\n            if (target[p] == null) {\n                target[p] = function(inputParams) {\n                    return __awaiter(this, void 0, void 0, function*() {\n                        const { method, params } = handleMobileWalletRequest(p, inputParams, protocolVersion);\n                        const result = yield protocolRequestHandler(method, params);\n                        // if the request tried to sign in but the wallet did not return a sign in result, fallback on message signing\n                        if (method === \"authorize\" && params.sign_in_payload && !result.sign_in_result) {\n                            result[\"sign_in_result\"] = yield signInFallback(params.sign_in_payload, result, protocolRequestHandler);\n                        }\n                        return handleMobileWalletResponse(p, result, protocolVersion);\n                    });\n                };\n            }\n            return target[p];\n        },\n        defineProperty () {\n            return false;\n        },\n        deleteProperty () {\n            return false;\n        }\n    });\n}\n/**\n * Handles all {@link MobileWallet} API requests and determines the correct MWA RPC method and params to call.\n * This handles backwards compatibility, based on the provided @protocolVersion.\n *\n * @param methodName the name of {@link MobileWallet} method that was called\n * @param methodParams the parameters that were passed to the method\n * @param protocolVersion the protocol version in use for this session/request\n * @returns the RPC request method and params that should be sent to the wallet endpoint\n */ function handleMobileWalletRequest(methodName, methodParams, protocolVersion) {\n    let params = methodParams;\n    let method = methodName.toString().replace(/[A-Z]/g, (letter)=>`_${letter.toLowerCase()}`).toLowerCase();\n    switch(methodName){\n        case \"authorize\":\n            {\n                let { chain } = params;\n                if (protocolVersion === \"legacy\") {\n                    switch(chain){\n                        case \"solana:testnet\":\n                            {\n                                chain = \"testnet\";\n                                break;\n                            }\n                        case \"solana:devnet\":\n                            {\n                                chain = \"devnet\";\n                                break;\n                            }\n                        case \"solana:mainnet\":\n                            {\n                                chain = \"mainnet-beta\";\n                                break;\n                            }\n                        default:\n                            {\n                                chain = params.cluster;\n                            }\n                    }\n                    params.cluster = chain;\n                } else {\n                    switch(chain){\n                        case \"testnet\":\n                        case \"devnet\":\n                            {\n                                chain = `solana:${chain}`;\n                                break;\n                            }\n                        case \"mainnet-beta\":\n                            {\n                                chain = \"solana:mainnet\";\n                                break;\n                            }\n                    }\n                    params.chain = chain;\n                }\n            }\n        case \"reauthorize\":\n            {\n                const { auth_token, identity } = params;\n                if (auth_token) {\n                    switch(protocolVersion){\n                        case \"legacy\":\n                            {\n                                method = \"reauthorize\";\n                                params = {\n                                    auth_token: auth_token,\n                                    identity: identity\n                                };\n                                break;\n                            }\n                        default:\n                            {\n                                method = \"authorize\";\n                                break;\n                            }\n                    }\n                }\n                break;\n            }\n    }\n    return {\n        method,\n        params\n    };\n}\n/**\n * Handles all {@link MobileWallet} API responses and modifies the response for backwards compatibility, if needed\n *\n * @param method the {@link MobileWallet} method that was called\n * @param response the original response that was returned by the method call\n * @param protocolVersion the protocol version in use for this session/request\n * @returns the possibly modified response\n */ function handleMobileWalletResponse(method, response, protocolVersion) {\n    switch(method){\n        case \"getCapabilities\":\n            {\n                const capabilities = response;\n                switch(protocolVersion){\n                    case \"legacy\":\n                        {\n                            const features = [\n                                SolanaSignTransactions\n                            ];\n                            if (capabilities.supports_clone_authorization === true) {\n                                features.push(SolanaCloneAuthorization);\n                            }\n                            return Object.assign(Object.assign({}, capabilities), {\n                                features: features\n                            });\n                        }\n                    case \"v1\":\n                        {\n                            return Object.assign(Object.assign({}, capabilities), {\n                                supports_sign_and_send_transactions: true,\n                                supports_clone_authorization: capabilities.features.includes(SolanaCloneAuthorization)\n                            });\n                        }\n                }\n            }\n    }\n    return response;\n}\nfunction signInFallback(signInPayload, authorizationResult, protocolRequestHandler) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function*() {\n        const domain = (_a = signInPayload.domain) !== null && _a !== void 0 ? _a : window.location.host;\n        const address = authorizationResult.accounts[0].address;\n        const siwsMessage = createSIWSMessageBase64(Object.assign(Object.assign({}, signInPayload), {\n            domain,\n            address\n        }));\n        const signMessageResult = yield protocolRequestHandler(\"sign_messages\", {\n            addresses: [\n                address\n            ],\n            payloads: [\n                siwsMessage\n            ]\n        });\n        const signInResult = {\n            address: address,\n            signed_message: siwsMessage,\n            signature: signMessageResult.signed_payloads[0].slice(siwsMessage.length)\n        };\n        return signInResult;\n    });\n}\nconst SEQUENCE_NUMBER_BYTES = 4;\nfunction createSequenceNumberVector(sequenceNumber) {\n    if (sequenceNumber >= 4294967296) {\n        throw new Error(\"Outbound sequence number overflow. The maximum sequence number is 32-bytes.\");\n    }\n    const byteArray = new ArrayBuffer(SEQUENCE_NUMBER_BYTES);\n    const view = new DataView(byteArray);\n    view.setUint32(0, sequenceNumber, /* littleEndian */ false);\n    return new Uint8Array(byteArray);\n}\nconst INITIALIZATION_VECTOR_BYTES = 12;\nconst ENCODED_PUBLIC_KEY_LENGTH_BYTES = 65;\nfunction encryptMessage(plaintext, sequenceNumber, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const sequenceNumberVector = createSequenceNumberVector(sequenceNumber);\n        const initializationVector = new Uint8Array(INITIALIZATION_VECTOR_BYTES);\n        crypto.getRandomValues(initializationVector);\n        const ciphertext = yield crypto.subtle.encrypt(getAlgorithmParams(sequenceNumberVector, initializationVector), sharedSecret, new TextEncoder().encode(plaintext));\n        const response = new Uint8Array(sequenceNumberVector.byteLength + initializationVector.byteLength + ciphertext.byteLength);\n        response.set(new Uint8Array(sequenceNumberVector), 0);\n        response.set(new Uint8Array(initializationVector), sequenceNumberVector.byteLength);\n        response.set(new Uint8Array(ciphertext), sequenceNumberVector.byteLength + initializationVector.byteLength);\n        return response;\n    });\n}\nfunction decryptMessage(message, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const sequenceNumberVector = message.slice(0, SEQUENCE_NUMBER_BYTES);\n        const initializationVector = message.slice(SEQUENCE_NUMBER_BYTES, SEQUENCE_NUMBER_BYTES + INITIALIZATION_VECTOR_BYTES);\n        const ciphertext = message.slice(SEQUENCE_NUMBER_BYTES + INITIALIZATION_VECTOR_BYTES);\n        const plaintextBuffer = yield crypto.subtle.decrypt(getAlgorithmParams(sequenceNumberVector, initializationVector), sharedSecret, ciphertext);\n        const plaintext = getUtf8Decoder().decode(plaintextBuffer);\n        return plaintext;\n    });\n}\nfunction getAlgorithmParams(sequenceNumber, initializationVector) {\n    return {\n        additionalData: sequenceNumber,\n        iv: initializationVector,\n        name: \"AES-GCM\",\n        tagLength: 128\n    };\n}\nlet _utf8Decoder;\nfunction getUtf8Decoder() {\n    if (_utf8Decoder === undefined) {\n        _utf8Decoder = new TextDecoder(\"utf-8\");\n    }\n    return _utf8Decoder;\n}\nfunction generateAssociationKeypair() {\n    return __awaiter(this, void 0, void 0, function*() {\n        return yield crypto.subtle.generateKey({\n            name: \"ECDSA\",\n            namedCurve: \"P-256\"\n        }, false, [\n            \"sign\"\n        ]);\n    });\n}\nfunction generateECDHKeypair() {\n    return __awaiter(this, void 0, void 0, function*() {\n        return yield crypto.subtle.generateKey({\n            name: \"ECDH\",\n            namedCurve: \"P-256\"\n        }, false, [\n            \"deriveKey\",\n            \"deriveBits\"\n        ]);\n    });\n}\n// https://stackoverflow.com/a/9458996/802047\nfunction arrayBufferToBase64String(buffer) {\n    let binary = \"\";\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    for(let ii = 0; ii < len; ii++){\n        binary += String.fromCharCode(bytes[ii]);\n    }\n    return window.btoa(binary);\n}\nfunction getRandomAssociationPort() {\n    return assertAssociationPort(49152 + Math.floor(Math.random() * (65535 - 49152 + 1)));\n}\nfunction assertAssociationPort(port) {\n    if (port < 49152 || port > 65535) {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE, `Association port number must be between 49152 and 65535. ${port} given.`, {\n            port\n        });\n    }\n    return port;\n}\nfunction getStringWithURLUnsafeCharactersReplaced(unsafeBase64EncodedString) {\n    return unsafeBase64EncodedString.replace(/[/+=]/g, (m)=>({\n            \"/\": \"_\",\n            \"+\": \"-\",\n            \"=\": \".\"\n        })[m]);\n}\nconst INTENT_NAME = \"solana-wallet\";\nfunction getPathParts(pathString) {\n    return pathString// Strip leading and trailing slashes\n    .replace(/(^\\/+|\\/+$)/g, \"\")// Return an array of directories\n    .split(\"/\");\n}\nfunction getIntentURL(methodPathname, intentUrlBase) {\n    let baseUrl = null;\n    if (intentUrlBase) {\n        try {\n            baseUrl = new URL(intentUrlBase);\n        } catch (_a) {} // eslint-disable-line no-empty\n        if ((baseUrl === null || baseUrl === void 0 ? void 0 : baseUrl.protocol) !== \"https:\") {\n            throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL, \"Base URLs supplied by wallets must be valid `https` URLs\");\n        }\n    }\n    baseUrl || (baseUrl = new URL(`${INTENT_NAME}:/`));\n    const pathname = methodPathname.startsWith(\"/\") ? methodPathname : [\n        ...getPathParts(baseUrl.pathname),\n        ...getPathParts(methodPathname)\n    ].join(\"/\");\n    return new URL(pathname, baseUrl);\n}\nfunction getAssociateAndroidIntentURL(associationPublicKey, putativePort, associationURLBase, protocolVersions = [\n    \"v1\"\n]) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const associationPort = assertAssociationPort(putativePort);\n        const exportedKey = yield crypto.subtle.exportKey(\"raw\", associationPublicKey);\n        const encodedKey = arrayBufferToBase64String(exportedKey);\n        const url = getIntentURL(\"v1/associate/local\", associationURLBase);\n        url.searchParams.set(\"association\", getStringWithURLUnsafeCharactersReplaced(encodedKey));\n        url.searchParams.set(\"port\", `${associationPort}`);\n        protocolVersions.forEach((version)=>{\n            url.searchParams.set(\"v\", version);\n        });\n        return url;\n    });\n}\nfunction getRemoteAssociateAndroidIntentURL(associationPublicKey, hostAuthority, reflectorId, associationURLBase, protocolVersions = [\n    \"v1\"\n]) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const exportedKey = yield crypto.subtle.exportKey(\"raw\", associationPublicKey);\n        const encodedKey = arrayBufferToBase64String(exportedKey);\n        const url = getIntentURL(\"v1/associate/remote\", associationURLBase);\n        url.searchParams.set(\"association\", getStringWithURLUnsafeCharactersReplaced(encodedKey));\n        url.searchParams.set(\"reflector\", `${hostAuthority}`);\n        url.searchParams.set(\"id\", `${fromUint8Array(reflectorId, true)}`);\n        protocolVersions.forEach((version)=>{\n            url.searchParams.set(\"v\", version);\n        });\n        return url;\n    });\n}\nfunction encryptJsonRpcMessage(jsonRpcMessage, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const plaintext = JSON.stringify(jsonRpcMessage);\n        const sequenceNumber = jsonRpcMessage.id;\n        return encryptMessage(plaintext, sequenceNumber, sharedSecret);\n    });\n}\nfunction decryptJsonRpcMessage(message, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const plaintext = yield decryptMessage(message, sharedSecret);\n        const jsonRpcMessage = JSON.parse(plaintext);\n        if (Object.hasOwnProperty.call(jsonRpcMessage, \"error\")) {\n            throw new SolanaMobileWalletAdapterProtocolError(jsonRpcMessage.id, jsonRpcMessage.error.code, jsonRpcMessage.error.message);\n        }\n        return jsonRpcMessage;\n    });\n}\nfunction parseHelloRsp(payloadBuffer, associationPublicKey, ecdhPrivateKey) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const [associationPublicKeyBuffer, walletPublicKey] = yield Promise.all([\n            crypto.subtle.exportKey(\"raw\", associationPublicKey),\n            crypto.subtle.importKey(\"raw\", payloadBuffer.slice(0, ENCODED_PUBLIC_KEY_LENGTH_BYTES), {\n                name: \"ECDH\",\n                namedCurve: \"P-256\"\n            }, false, [])\n        ]);\n        const sharedSecret = yield crypto.subtle.deriveBits({\n            name: \"ECDH\",\n            public: walletPublicKey\n        }, ecdhPrivateKey, 256);\n        const ecdhSecretKey = yield crypto.subtle.importKey(\"raw\", sharedSecret, \"HKDF\", false, [\n            \"deriveKey\"\n        ]);\n        const aesKeyMaterialVal = yield crypto.subtle.deriveKey({\n            name: \"HKDF\",\n            hash: \"SHA-256\",\n            salt: new Uint8Array(associationPublicKeyBuffer),\n            info: new Uint8Array()\n        }, ecdhSecretKey, {\n            name: \"AES-GCM\",\n            length: 128\n        }, false, [\n            \"encrypt\",\n            \"decrypt\"\n        ]);\n        return aesKeyMaterialVal;\n    });\n}\nfunction parseSessionProps(message, sharedSecret) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const plaintext = yield decryptMessage(message, sharedSecret);\n        const jsonProperties = JSON.parse(plaintext);\n        let protocolVersion = \"legacy\";\n        if (Object.hasOwnProperty.call(jsonProperties, \"v\")) {\n            switch(jsonProperties.v){\n                case 1:\n                case \"1\":\n                case \"v1\":\n                    protocolVersion = \"v1\";\n                    break;\n                case \"legacy\":\n                    protocolVersion = \"legacy\";\n                    break;\n                default:\n                    throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_INVALID_PROTOCOL_VERSION, `Unknown/unsupported protocol version: ${jsonProperties.v}`);\n            }\n        }\n        return {\n            protocol_version: protocolVersion\n        };\n    });\n}\n// Typescript `enums` thwart tree-shaking. See https://bargsten.org/jsts/enums/\nconst Browser = {\n    Firefox: 0,\n    Other: 1\n};\nfunction assertUnreachable(x) {\n    return x;\n}\nfunction getBrowser() {\n    return navigator.userAgent.indexOf(\"Firefox/\") !== -1 ? Browser.Firefox : Browser.Other;\n}\nfunction getDetectionPromise() {\n    // Chrome and others silently fail if a custom protocol is not supported.\n    // For these, we wait to see if the browser is navigated away from in\n    // a reasonable amount of time (ie. the native wallet opened).\n    return new Promise((resolve, reject)=>{\n        function cleanup() {\n            clearTimeout(timeoutId);\n            window.removeEventListener(\"blur\", handleBlur);\n        }\n        function handleBlur() {\n            cleanup();\n            resolve();\n        }\n        window.addEventListener(\"blur\", handleBlur);\n        const timeoutId = setTimeout(()=>{\n            cleanup();\n            reject();\n        }, 3000);\n    });\n}\nlet _frame = null;\nfunction launchUrlThroughHiddenFrame(url) {\n    if (_frame == null) {\n        _frame = document.createElement(\"iframe\");\n        _frame.style.display = \"none\";\n        document.body.appendChild(_frame);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    _frame.contentWindow.location.href = url.toString();\n}\nfunction launchAssociation(associationUrl) {\n    return __awaiter(this, void 0, void 0, function*() {\n        if (associationUrl.protocol === \"https:\") {\n            // The association URL is an Android 'App Link' or iOS 'Universal Link'.\n            // These are regular web URLs that are designed to launch an app if it\n            // is installed or load the actual target webpage if not.\n            window.location.assign(associationUrl);\n        } else {\n            // The association URL has a custom protocol (eg. `solana-wallet:`)\n            try {\n                const browser = getBrowser();\n                switch(browser){\n                    case Browser.Firefox:\n                        // If a custom protocol is not supported in Firefox, it throws.\n                        launchUrlThroughHiddenFrame(associationUrl);\n                        break;\n                    case Browser.Other:\n                        {\n                            const detectionPromise = getDetectionPromise();\n                            window.location.assign(associationUrl);\n                            yield detectionPromise;\n                            break;\n                        }\n                    default:\n                        assertUnreachable(browser);\n                }\n            } catch (e) {\n                throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND, \"Found no installed wallet that supports the mobile wallet protocol.\");\n            }\n        }\n    });\n}\nfunction startSession(associationPublicKey, associationURLBase) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const randomAssociationPort = getRandomAssociationPort();\n        const associationUrl = yield getAssociateAndroidIntentURL(associationPublicKey, randomAssociationPort, associationURLBase);\n        yield launchAssociation(associationUrl);\n        return randomAssociationPort;\n    });\n}\nconst WEBSOCKET_CONNECTION_CONFIG = {\n    /**\n     * 300 milliseconds is a generally accepted threshold for what someone\n     * would consider an acceptable response time for a user interface\n     * after having performed a low-attention tapping task. We set the initial\n     * interval at which we wait for the wallet to set up the websocket at\n     * half this, as per the Nyquist frequency, with a progressive backoff\n     * sequence from there. The total wait time is 30s, which allows for the\n     * user to be presented with a disambiguation dialog, select a wallet, and\n     * for the wallet app to subsequently start.\n     */ retryDelayScheduleMs: [\n        150,\n        150,\n        200,\n        500,\n        500,\n        750,\n        750,\n        1000\n    ],\n    timeoutMs: 30000\n};\nconst WEBSOCKET_PROTOCOL_BINARY = \"com.solana.mobilewalletadapter.v1\";\nconst WEBSOCKET_PROTOCOL_BASE64 = \"com.solana.mobilewalletadapter.v1.base64\";\nfunction assertSecureContext() {\n    if (true) {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED, \"The mobile wallet adapter protocol must be used in a secure context (`https`).\");\n    }\n}\nfunction assertSecureEndpointSpecificURI(walletUriBase) {\n    let url;\n    try {\n        url = new URL(walletUriBase);\n    } catch (_a) {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL, \"Invalid base URL supplied by wallet\");\n    }\n    if (url.protocol !== \"https:\") {\n        throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL, \"Base URLs supplied by wallets must be valid `https` URLs\");\n    }\n}\nfunction getSequenceNumberFromByteArray(byteArray) {\n    const view = new DataView(byteArray);\n    return view.getUint32(0, /* littleEndian */ false);\n}\nfunction decodeVarLong(byteArray) {\n    var bytes = new Uint8Array(byteArray), l = byteArray.byteLength, limit = 10, value = 0, offset = 0, b;\n    do {\n        if (offset >= l || offset > limit) throw new RangeError(\"Failed to decode varint\");\n        b = bytes[offset++];\n        value |= (b & 0x7F) << 7 * offset;\n    }while (b >= 0x80);\n    return {\n        value,\n        offset\n    };\n}\nfunction getReflectorIdFromByteArray(byteArray) {\n    let { value: length, offset } = decodeVarLong(byteArray);\n    return new Uint8Array(byteArray.slice(offset, offset + length));\n}\nfunction transact(callback, config) {\n    return __awaiter(this, void 0, void 0, function*() {\n        assertSecureContext();\n        const associationKeypair = yield generateAssociationKeypair();\n        const sessionPort = yield startSession(associationKeypair.publicKey, config === null || config === void 0 ? void 0 : config.baseUri);\n        const websocketURL = `ws://localhost:${sessionPort}/solana-wallet`;\n        let connectionStartTime;\n        const getNextRetryDelayMs = (()=>{\n            const schedule = [\n                ...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs\n            ];\n            return ()=>schedule.length > 1 ? schedule.shift() : schedule[0];\n        })();\n        let nextJsonRpcMessageId = 1;\n        let lastKnownInboundSequenceNumber = 0;\n        let state = {\n            __type: \"disconnected\"\n        };\n        return new Promise((resolve, reject)=>{\n            let socket;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const jsonRpcResponsePromises = {};\n            const handleOpen = ()=>__awaiter(this, void 0, void 0, function*() {\n                    if (state.__type !== \"connecting\") {\n                        console.warn(\"Expected adapter state to be `connecting` at the moment the websocket opens. \" + `Got \\`${state.__type}\\`.`);\n                        return;\n                    }\n                    socket.removeEventListener(\"open\", handleOpen);\n                    // previous versions of this library and walletlib incorrectly implemented the MWA session \n                    // establishment protocol for local connections. The dapp is supposed to wait for the \n                    // APP_PING message before sending the HELLO_REQ. Instead, the dapp was sending the HELLO_REQ \n                    // immediately upon connection to the websocket server regardless of wether or not an \n                    // APP_PING was sent by the wallet/websocket server. We must continue to support this behavior \n                    // in case the user is using a wallet that has not updated their walletlib implementation. \n                    const { associationKeypair } = state;\n                    const ecdhKeypair = yield generateECDHKeypair();\n                    socket.send((yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey)));\n                    state = {\n                        __type: \"hello_req_sent\",\n                        associationPublicKey: associationKeypair.publicKey,\n                        ecdhPrivateKey: ecdhKeypair.privateKey\n                    };\n                });\n            const handleClose = (evt)=>{\n                if (evt.wasClean) {\n                    state = {\n                        __type: \"disconnected\"\n                    };\n                } else {\n                    reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED, `The wallet session dropped unexpectedly (${evt.code}: ${evt.reason}).`, {\n                        closeEvent: evt\n                    }));\n                }\n                disposeSocket();\n            };\n            const handleError = (_evt)=>__awaiter(this, void 0, void 0, function*() {\n                    disposeSocket();\n                    if (Date.now() - connectionStartTime >= WEBSOCKET_CONNECTION_CONFIG.timeoutMs) {\n                        reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT, `Failed to connect to the wallet websocket at ${websocketURL}.`));\n                    } else {\n                        yield new Promise((resolve)=>{\n                            const retryDelayMs = getNextRetryDelayMs();\n                            retryWaitTimeoutId = window.setTimeout(resolve, retryDelayMs);\n                        });\n                        attemptSocketConnection();\n                    }\n                });\n            const handleMessage = (evt)=>__awaiter(this, void 0, void 0, function*() {\n                    const responseBuffer = yield evt.data.arrayBuffer();\n                    switch(state.__type){\n                        case \"connecting\":\n                            if (responseBuffer.byteLength !== 0) {\n                                throw new Error(\"Encountered unexpected message while connecting\");\n                            }\n                            const ecdhKeypair = yield generateECDHKeypair();\n                            socket.send((yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey)));\n                            state = {\n                                __type: \"hello_req_sent\",\n                                associationPublicKey: associationKeypair.publicKey,\n                                ecdhPrivateKey: ecdhKeypair.privateKey\n                            };\n                            break;\n                        case \"connected\":\n                            try {\n                                const sequenceNumberVector = responseBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                if (sequenceNumber !== lastKnownInboundSequenceNumber + 1) {\n                                    throw new Error(\"Encrypted message has invalid sequence number\");\n                                }\n                                lastKnownInboundSequenceNumber = sequenceNumber;\n                                const jsonRpcMessage = yield decryptJsonRpcMessage(responseBuffer, state.sharedSecret);\n                                const responsePromise = jsonRpcResponsePromises[jsonRpcMessage.id];\n                                delete jsonRpcResponsePromises[jsonRpcMessage.id];\n                                responsePromise.resolve(jsonRpcMessage.result);\n                            } catch (e) {\n                                if (e instanceof SolanaMobileWalletAdapterProtocolError) {\n                                    const responsePromise = jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                    delete jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                    responsePromise.reject(e);\n                                } else {\n                                    throw e;\n                                }\n                            }\n                            break;\n                        case \"hello_req_sent\":\n                            {\n                                // if we receive an APP_PING message (empty message), resend the HELLO_REQ (see above)\n                                if (responseBuffer.byteLength === 0) {\n                                    const ecdhKeypair = yield generateECDHKeypair();\n                                    socket.send((yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey)));\n                                    state = {\n                                        __type: \"hello_req_sent\",\n                                        associationPublicKey: associationKeypair.publicKey,\n                                        ecdhPrivateKey: ecdhKeypair.privateKey\n                                    };\n                                    break;\n                                }\n                                const sharedSecret = yield parseHelloRsp(responseBuffer, state.associationPublicKey, state.ecdhPrivateKey);\n                                const sessionPropertiesBuffer = responseBuffer.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES);\n                                const sessionProperties = sessionPropertiesBuffer.byteLength !== 0 ? yield (()=>__awaiter(this, void 0, void 0, function*() {\n                                        const sequenceNumberVector = sessionPropertiesBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                        const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                        if (sequenceNumber !== lastKnownInboundSequenceNumber + 1) {\n                                            throw new Error(\"Encrypted message has invalid sequence number\");\n                                        }\n                                        lastKnownInboundSequenceNumber = sequenceNumber;\n                                        return parseSessionProps(sessionPropertiesBuffer, sharedSecret);\n                                    }))() : {\n                                    protocol_version: \"legacy\"\n                                };\n                                state = {\n                                    __type: \"connected\",\n                                    sharedSecret,\n                                    sessionProperties\n                                };\n                                const wallet = createMobileWalletProxy(sessionProperties.protocol_version, (method, params)=>__awaiter(this, void 0, void 0, function*() {\n                                        const id = nextJsonRpcMessageId++;\n                                        socket.send((yield encryptJsonRpcMessage({\n                                            id,\n                                            jsonrpc: \"2.0\",\n                                            method,\n                                            params: params !== null && params !== void 0 ? params : {}\n                                        }, sharedSecret)));\n                                        return new Promise((resolve, reject)=>{\n                                            jsonRpcResponsePromises[id] = {\n                                                resolve (result) {\n                                                    switch(method){\n                                                        case \"authorize\":\n                                                        case \"reauthorize\":\n                                                            {\n                                                                const { wallet_uri_base } = result;\n                                                                if (wallet_uri_base != null) {\n                                                                    try {\n                                                                        assertSecureEndpointSpecificURI(wallet_uri_base);\n                                                                    } catch (e) {\n                                                                        reject(e);\n                                                                        return;\n                                                                    }\n                                                                }\n                                                                break;\n                                                            }\n                                                    }\n                                                    resolve(result);\n                                                },\n                                                reject\n                                            };\n                                        });\n                                    }));\n                                try {\n                                    resolve((yield callback(wallet)));\n                                } catch (e) {\n                                    reject(e);\n                                } finally{\n                                    disposeSocket();\n                                    socket.close();\n                                }\n                                break;\n                            }\n                    }\n                });\n            let disposeSocket;\n            let retryWaitTimeoutId;\n            const attemptSocketConnection = ()=>{\n                if (disposeSocket) {\n                    disposeSocket();\n                }\n                state = {\n                    __type: \"connecting\",\n                    associationKeypair\n                };\n                if (connectionStartTime === undefined) {\n                    connectionStartTime = Date.now();\n                }\n                socket = new WebSocket(websocketURL, [\n                    WEBSOCKET_PROTOCOL_BINARY\n                ]);\n                socket.addEventListener(\"open\", handleOpen);\n                socket.addEventListener(\"close\", handleClose);\n                socket.addEventListener(\"error\", handleError);\n                socket.addEventListener(\"message\", handleMessage);\n                disposeSocket = ()=>{\n                    window.clearTimeout(retryWaitTimeoutId);\n                    socket.removeEventListener(\"open\", handleOpen);\n                    socket.removeEventListener(\"close\", handleClose);\n                    socket.removeEventListener(\"error\", handleError);\n                    socket.removeEventListener(\"message\", handleMessage);\n                };\n            };\n            attemptSocketConnection();\n        });\n    });\n}\nfunction startRemoteScenario(config) {\n    return __awaiter(this, void 0, void 0, function*() {\n        assertSecureContext();\n        const associationKeypair = yield generateAssociationKeypair();\n        const websocketURL = `wss://${config === null || config === void 0 ? void 0 : config.remoteHostAuthority}/reflect`;\n        let connectionStartTime;\n        const getNextRetryDelayMs = (()=>{\n            const schedule = [\n                ...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs\n            ];\n            return ()=>schedule.length > 1 ? schedule.shift() : schedule[0];\n        })();\n        let nextJsonRpcMessageId = 1;\n        let lastKnownInboundSequenceNumber = 0;\n        let encoding;\n        let state = {\n            __type: \"disconnected\"\n        };\n        let socket;\n        let disposeSocket;\n        let decodeBytes = (evt)=>__awaiter(this, void 0, void 0, function*() {\n                if (encoding == \"base64\") {\n                    const message = yield evt.data;\n                    return toUint8Array(message).buffer;\n                } else {\n                    return yield evt.data.arrayBuffer();\n                }\n            });\n        // Reflector Connection Phase\n        // here we connect to the reflector and wait for the REFLECTOR_ID message \n        // so we build the association URL and return that back to the caller\n        const associationUrl = yield new Promise((resolve, reject)=>{\n            const handleOpen = ()=>__awaiter(this, void 0, void 0, function*() {\n                    if (state.__type !== \"connecting\") {\n                        console.warn(\"Expected adapter state to be `connecting` at the moment the websocket opens. \" + `Got \\`${state.__type}\\`.`);\n                        return;\n                    }\n                    if (socket.protocol.includes(WEBSOCKET_PROTOCOL_BASE64)) {\n                        encoding = \"base64\";\n                    } else {\n                        encoding = \"binary\";\n                    }\n                    socket.removeEventListener(\"open\", handleOpen);\n                });\n            const handleClose = (evt)=>{\n                if (evt.wasClean) {\n                    state = {\n                        __type: \"disconnected\"\n                    };\n                } else {\n                    reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED, `The wallet session dropped unexpectedly (${evt.code}: ${evt.reason}).`, {\n                        closeEvent: evt\n                    }));\n                }\n                disposeSocket();\n            };\n            const handleError = (_evt)=>__awaiter(this, void 0, void 0, function*() {\n                    disposeSocket();\n                    if (Date.now() - connectionStartTime >= WEBSOCKET_CONNECTION_CONFIG.timeoutMs) {\n                        reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT, `Failed to connect to the wallet websocket at ${websocketURL}.`));\n                    } else {\n                        yield new Promise((resolve)=>{\n                            const retryDelayMs = getNextRetryDelayMs();\n                            retryWaitTimeoutId = window.setTimeout(resolve, retryDelayMs);\n                        });\n                        attemptSocketConnection();\n                    }\n                });\n            const handleReflectorIdMessage = (evt)=>__awaiter(this, void 0, void 0, function*() {\n                    const responseBuffer = yield decodeBytes(evt);\n                    if (state.__type === \"connecting\") {\n                        if (responseBuffer.byteLength == 0) {\n                            throw new Error(\"Encountered unexpected message while connecting\");\n                        }\n                        const reflectorId = getReflectorIdFromByteArray(responseBuffer);\n                        state = {\n                            __type: \"reflector_id_received\",\n                            reflectorId: reflectorId\n                        };\n                        const associationUrl = yield getRemoteAssociateAndroidIntentURL(associationKeypair.publicKey, config.remoteHostAuthority, reflectorId, config === null || config === void 0 ? void 0 : config.baseUri);\n                        socket.removeEventListener(\"message\", handleReflectorIdMessage);\n                        resolve(associationUrl);\n                    }\n                });\n            let retryWaitTimeoutId;\n            const attemptSocketConnection = ()=>{\n                if (disposeSocket) {\n                    disposeSocket();\n                }\n                state = {\n                    __type: \"connecting\",\n                    associationKeypair\n                };\n                if (connectionStartTime === undefined) {\n                    connectionStartTime = Date.now();\n                }\n                socket = new WebSocket(websocketURL, [\n                    WEBSOCKET_PROTOCOL_BINARY,\n                    WEBSOCKET_PROTOCOL_BASE64\n                ]);\n                socket.addEventListener(\"open\", handleOpen);\n                socket.addEventListener(\"close\", handleClose);\n                socket.addEventListener(\"error\", handleError);\n                socket.addEventListener(\"message\", handleReflectorIdMessage);\n                disposeSocket = ()=>{\n                    window.clearTimeout(retryWaitTimeoutId);\n                    socket.removeEventListener(\"open\", handleOpen);\n                    socket.removeEventListener(\"close\", handleClose);\n                    socket.removeEventListener(\"error\", handleError);\n                    socket.removeEventListener(\"message\", handleReflectorIdMessage);\n                };\n            };\n            attemptSocketConnection();\n        });\n        // Wallet Connection Phase\n        // here we return the association URL (containing the reflector ID) to the caller + \n        // a promise that will resolve the MobileWallet object once the wallet connects.\n        let sessionEstablished = false;\n        let handleClose;\n        return {\n            associationUrl,\n            close: ()=>{\n                socket.close();\n                handleClose();\n            },\n            wallet: new Promise((resolve, reject)=>{\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const jsonRpcResponsePromises = {};\n                const handleMessage = (evt)=>__awaiter(this, void 0, void 0, function*() {\n                        const responseBuffer = yield decodeBytes(evt);\n                        switch(state.__type){\n                            case \"reflector_id_received\":\n                                if (responseBuffer.byteLength !== 0) {\n                                    throw new Error(\"Encountered unexpected message while awaiting reflection\");\n                                }\n                                const ecdhKeypair = yield generateECDHKeypair();\n                                const binaryMsg = yield createHelloReq(ecdhKeypair.publicKey, associationKeypair.privateKey);\n                                if (encoding == \"base64\") {\n                                    socket.send(fromUint8Array(binaryMsg));\n                                } else {\n                                    socket.send(binaryMsg);\n                                }\n                                state = {\n                                    __type: \"hello_req_sent\",\n                                    associationPublicKey: associationKeypair.publicKey,\n                                    ecdhPrivateKey: ecdhKeypair.privateKey\n                                };\n                                break;\n                            case \"connected\":\n                                try {\n                                    const sequenceNumberVector = responseBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                    const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                    if (sequenceNumber !== lastKnownInboundSequenceNumber + 1) {\n                                        throw new Error(\"Encrypted message has invalid sequence number\");\n                                    }\n                                    lastKnownInboundSequenceNumber = sequenceNumber;\n                                    const jsonRpcMessage = yield decryptJsonRpcMessage(responseBuffer, state.sharedSecret);\n                                    const responsePromise = jsonRpcResponsePromises[jsonRpcMessage.id];\n                                    delete jsonRpcResponsePromises[jsonRpcMessage.id];\n                                    responsePromise.resolve(jsonRpcMessage.result);\n                                } catch (e) {\n                                    if (e instanceof SolanaMobileWalletAdapterProtocolError) {\n                                        const responsePromise = jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                        delete jsonRpcResponsePromises[e.jsonRpcMessageId];\n                                        responsePromise.reject(e);\n                                    } else {\n                                        throw e;\n                                    }\n                                }\n                                break;\n                            case \"hello_req_sent\":\n                                {\n                                    const sharedSecret = yield parseHelloRsp(responseBuffer, state.associationPublicKey, state.ecdhPrivateKey);\n                                    const sessionPropertiesBuffer = responseBuffer.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES);\n                                    const sessionProperties = sessionPropertiesBuffer.byteLength !== 0 ? yield (()=>__awaiter(this, void 0, void 0, function*() {\n                                            const sequenceNumberVector = sessionPropertiesBuffer.slice(0, SEQUENCE_NUMBER_BYTES);\n                                            const sequenceNumber = getSequenceNumberFromByteArray(sequenceNumberVector);\n                                            if (sequenceNumber !== lastKnownInboundSequenceNumber + 1) {\n                                                throw new Error(\"Encrypted message has invalid sequence number\");\n                                            }\n                                            lastKnownInboundSequenceNumber = sequenceNumber;\n                                            return parseSessionProps(sessionPropertiesBuffer, sharedSecret);\n                                        }))() : {\n                                        protocol_version: \"legacy\"\n                                    };\n                                    state = {\n                                        __type: \"connected\",\n                                        sharedSecret,\n                                        sessionProperties\n                                    };\n                                    const wallet = createMobileWalletProxy(sessionProperties.protocol_version, (method, params)=>__awaiter(this, void 0, void 0, function*() {\n                                            const id = nextJsonRpcMessageId++;\n                                            const binaryMsg = yield encryptJsonRpcMessage({\n                                                id,\n                                                jsonrpc: \"2.0\",\n                                                method,\n                                                params: params !== null && params !== void 0 ? params : {}\n                                            }, sharedSecret);\n                                            if (encoding == \"base64\") {\n                                                socket.send(fromUint8Array(binaryMsg));\n                                            } else {\n                                                socket.send(binaryMsg);\n                                            }\n                                            return new Promise((resolve, reject)=>{\n                                                jsonRpcResponsePromises[id] = {\n                                                    resolve (result) {\n                                                        switch(method){\n                                                            case \"authorize\":\n                                                            case \"reauthorize\":\n                                                                {\n                                                                    const { wallet_uri_base } = result;\n                                                                    if (wallet_uri_base != null) {\n                                                                        try {\n                                                                            assertSecureEndpointSpecificURI(wallet_uri_base);\n                                                                        } catch (e) {\n                                                                            reject(e);\n                                                                            return;\n                                                                        }\n                                                                    }\n                                                                    break;\n                                                                }\n                                                        }\n                                                        resolve(result);\n                                                    },\n                                                    reject\n                                                };\n                                            });\n                                        }));\n                                    sessionEstablished = true;\n                                    try {\n                                        resolve(wallet);\n                                    } catch (e) {\n                                        reject(e);\n                                    }\n                                    break;\n                                }\n                        }\n                    });\n                socket.addEventListener(\"message\", handleMessage);\n                handleClose = ()=>{\n                    socket.removeEventListener(\"message\", handleMessage);\n                    disposeSocket();\n                    if (!sessionEstablished) {\n                        reject(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED, `The wallet session was closed before connection.`, {\n                            closeEvent: new CloseEvent(\"socket was closed before connection\")\n                        }));\n                    }\n                };\n            })\n        };\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNvbGFuYS1tb2JpbGUvbW9iaWxlLXdhbGxldC1hZGFwdGVyLXByb3RvY29sL2xpYi9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF1RTtBQUV2RSwrRUFBK0U7QUFDL0UsTUFBTUMscUNBQXFDO0lBQ3ZDQyxxQ0FBcUM7SUFDckNDLGlDQUFpQztJQUNqQ0MsaUNBQWlDO0lBQ2pDQywrQkFBK0I7SUFDL0JDLHNCQUFzQjtJQUN0QkMsdUJBQXVCO0lBQ3ZCQyx3QkFBd0I7SUFDeEJDLGdDQUFnQztJQUNoQ0MsNkJBQTZCO0FBQ2pDO0FBQ0EsTUFBTUMsdUNBQXVDQztJQUN6Q0MsWUFBWSxHQUFHQyxJQUFJLENBQUU7UUFDakIsTUFBTSxDQUFDQyxNQUFNQyxTQUFTQyxLQUFLLEdBQUdIO1FBQzlCLEtBQUssQ0FBQ0U7UUFDTixJQUFJLENBQUNELElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNFLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLElBQUksR0FBRztJQUNoQjtBQUNKO0FBQ0EsK0VBQStFO0FBQy9FLE1BQU1DLDZDQUE2QztJQUMvQyw4RUFBOEU7SUFDOUVDLDRCQUE0QixDQUFDO0lBQzdCQyx3QkFBd0IsQ0FBQztJQUN6QkMsa0JBQWtCLENBQUM7SUFDbkJDLHFCQUFxQixDQUFDO0lBQ3RCQyx5QkFBeUIsQ0FBQztJQUMxQkMsNkJBQTZCLENBQUM7QUFDbEM7QUFDQSxNQUFNQywrQ0FBK0NkO0lBQ2pEQyxZQUFZLEdBQUdDLElBQUksQ0FBRTtRQUNqQixNQUFNLENBQUNhLGtCQUFrQlosTUFBTUMsU0FBU0MsS0FBSyxHQUFHSDtRQUNoRCxLQUFLLENBQUNFO1FBQ04sSUFBSSxDQUFDRCxJQUFJLEdBQUdBO1FBQ1osSUFBSSxDQUFDRSxJQUFJLEdBQUdBO1FBQ1osSUFBSSxDQUFDVSxnQkFBZ0IsR0FBR0E7UUFDeEIsSUFBSSxDQUFDVCxJQUFJLEdBQUc7SUFDaEI7QUFDSjtBQUVBOzs7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QUFHLEdBQUc7b0RBQzFCdkwsU0FBUVEsTUFBTTt3REFDVixPQUFRbUQ7NERBQ0osS0FBSzs0REFDTCxLQUFLO2dFQUFlO29FQUNoQixNQUFNLEVBQUVtUCxlQUFlLEVBQUUsR0FBR3RTO29FQUM1QixJQUFJc1MsbUJBQW1CLE1BQU07d0VBQ3pCLElBQUk7NEVBQ0F4RCxnQ0FBZ0N3RDt3RUFDcEMsRUFDQSxPQUFPeFMsR0FBRzs0RUFDTkosT0FBT0k7NEVBQ1A7d0VBQ0o7b0VBQ0o7b0VBQ0E7Z0VBQ0o7d0RBQ0o7d0RBQ0FOLFFBQVFRO29EQUNaO29EQUNBTjtnREFDSjs0Q0FDSjt3Q0FDSjtvQ0FDQW9ULHFCQUFxQjtvQ0FDckIsSUFBSTt3Q0FDQXRULFFBQVE0UztvQ0FDWixFQUNBLE9BQU90UyxHQUFHO3dDQUNOSixPQUFPSTtvQ0FDWDtvQ0FDQTtnQ0FDSjt3QkFDSjtvQkFDSjtnQkFDQTJRLE9BQU9wRCxnQkFBZ0IsQ0FBQyxXQUFXeUU7Z0JBQ25DYixjQUFjO29CQUNWUixPQUFPdEQsbUJBQW1CLENBQUMsV0FBVzJFO29CQUN0Q1I7b0JBQ0EsSUFBSSxDQUFDd0Isb0JBQW9CO3dCQUNyQnBULE9BQU8sSUFBSTFCLCtCQUErQlYsbUNBQW1DSyxvQkFBb0IsRUFBRSxDQUFDLGdEQUFnRCxDQUFDLEVBQUU7NEJBQUUwVCxZQUFZLElBQUkyQixXQUFXO3dCQUF1QztvQkFDL047Z0JBQ0o7WUFDSjtRQUFHO0lBQ1g7QUFDSjtBQUUyUSIsInNvdXJjZXMiOlsid2VicGFjazovL2JsaW5rLWJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHNvbGFuYS1tb2JpbGUvbW9iaWxlLXdhbGxldC1hZGFwdGVyLXByb3RvY29sL2xpYi9lc20vaW5kZXguanM/Nzc2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTaWduSW5NZXNzYWdlVGV4dCB9IGZyb20gJ0Bzb2xhbmEvd2FsbGV0LXN0YW5kYXJkLXV0aWwnO1xuXG4vLyBUeXBlc2NyaXB0IGBlbnVtc2AgdGh3YXJ0IHRyZWUtc2hha2luZy4gU2VlIGh0dHBzOi8vYmFyZ3N0ZW4ub3JnL2pzdHMvZW51bXMvXG5jb25zdCBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3JDb2RlID0ge1xuICAgIEVSUk9SX0FTU09DSUFUSU9OX1BPUlRfT1VUX09GX1JBTkdFOiAnRVJST1JfQVNTT0NJQVRJT05fUE9SVF9PVVRfT0ZfUkFOR0UnLFxuICAgIEVSUk9SX1JFRkxFQ1RPUl9JRF9PVVRfT0ZfUkFOR0U6ICdFUlJPUl9SRUZMRUNUT1JfSURfT1VUX09GX1JBTkdFJyxcbiAgICBFUlJPUl9GT1JCSURERU5fV0FMTEVUX0JBU0VfVVJMOiAnRVJST1JfRk9SQklEREVOX1dBTExFVF9CQVNFX1VSTCcsXG4gICAgRVJST1JfU0VDVVJFX0NPTlRFWFRfUkVRVUlSRUQ6ICdFUlJPUl9TRUNVUkVfQ09OVEVYVF9SRVFVSVJFRCcsXG4gICAgRVJST1JfU0VTU0lPTl9DTE9TRUQ6ICdFUlJPUl9TRVNTSU9OX0NMT1NFRCcsXG4gICAgRVJST1JfU0VTU0lPTl9USU1FT1VUOiAnRVJST1JfU0VTU0lPTl9USU1FT1VUJyxcbiAgICBFUlJPUl9XQUxMRVRfTk9UX0ZPVU5EOiAnRVJST1JfV0FMTEVUX05PVF9GT1VORCcsXG4gICAgRVJST1JfSU5WQUxJRF9QUk9UT0NPTF9WRVJTSU9OOiAnRVJST1JfSU5WQUxJRF9QUk9UT0NPTF9WRVJTSU9OJyxcbiAgICBFUlJPUl9CUk9XU0VSX05PVF9TVVBQT1JURUQ6ICdFUlJPUl9CUk9XU0VSX05PVF9TVVBQT1JURUQnLFxufTtcbmNsYXNzIFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IFtjb2RlLCBtZXNzYWdlLCBkYXRhXSA9IGFyZ3M7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yJztcbiAgICB9XG59XG4vLyBUeXBlc2NyaXB0IGBlbnVtc2AgdGh3YXJ0IHRyZWUtc2hha2luZy4gU2VlIGh0dHBzOi8vYmFyZ3N0ZW4ub3JnL2pzdHMvZW51bXMvXG5jb25zdCBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyUHJvdG9jb2xFcnJvckNvZGUgPSB7XG4gICAgLy8gS2VlcCB0aGVzZSBpbiBzeW5jIHdpdGggYG1vYmlsZXdhbGxldGFkYXB0ZXIvY29tbW9uL1Byb3RvY29sQ29udHJhY3QuamF2YWAuXG4gICAgRVJST1JfQVVUSE9SSVpBVElPTl9GQUlMRUQ6IC0xLFxuICAgIEVSUk9SX0lOVkFMSURfUEFZTE9BRFM6IC0yLFxuICAgIEVSUk9SX05PVF9TSUdORUQ6IC0zLFxuICAgIEVSUk9SX05PVF9TVUJNSVRURUQ6IC00LFxuICAgIEVSUk9SX1RPT19NQU5ZX1BBWUxPQURTOiAtNSxcbiAgICBFUlJPUl9BVFRFU1RfT1JJR0lOX0FORFJPSUQ6IC0xMDAsXG59O1xuY2xhc3MgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlclByb3RvY29sRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICBjb25zdCBbanNvblJwY01lc3NhZ2VJZCwgY29kZSwgbWVzc2FnZSwgZGF0YV0gPSBhcmdzO1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5qc29uUnBjTWVzc2FnZUlkID0ganNvblJwY01lc3NhZ2VJZDtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1NvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJQcm90b2NvbEVycm9yJztcbiAgICB9XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcbiAgICByZXR1cm4gd2luZG93LmJ0b2EoaW5wdXQpO1xufVxuZnVuY3Rpb24gZnJvbVVpbnQ4QXJyYXkoYnl0ZUFycmF5LCB1cmxzYWZlKSB7XG4gICAgY29uc3QgYmFzZTY0ID0gd2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5jYWxsKG51bGwsIC4uLmJ5dGVBcnJheSkpO1xuICAgIGlmICh1cmxzYWZlKSB7XG4gICAgICAgIHJldHVybiBiYXNlNjRcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCsvZywgJy0nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCAnXycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPSskLywgJycpO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBiYXNlNjQ7XG59XG5mdW5jdGlvbiB0b1VpbnQ4QXJyYXkoYmFzZTY0RW5jb2RlZEJ5dGVBcnJheSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheSh3aW5kb3dcbiAgICAgICAgLmF0b2IoYmFzZTY0RW5jb2RlZEJ5dGVBcnJheSlcbiAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAubWFwKChjKSA9PiBjLmNoYXJDb2RlQXQoMCkpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSGVsbG9SZXEoZWNkaFB1YmxpY0tleSwgYXNzb2NpYXRpb25LZXlwYWlyUHJpdmF0ZUtleSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHB1YmxpY0tleUJ1ZmZlciA9IHlpZWxkIGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCdyYXcnLCBlY2RoUHVibGljS2V5KTtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlQnVmZmVyID0geWllbGQgY3J5cHRvLnN1YnRsZS5zaWduKHsgaGFzaDogJ1NIQS0yNTYnLCBuYW1lOiAnRUNEU0EnIH0sIGFzc29jaWF0aW9uS2V5cGFpclByaXZhdGVLZXksIHB1YmxpY0tleUJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFVpbnQ4QXJyYXkocHVibGljS2V5QnVmZmVyLmJ5dGVMZW5ndGggKyBzaWduYXR1cmVCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3BvbnNlLnNldChuZXcgVWludDhBcnJheShwdWJsaWNLZXlCdWZmZXIpLCAwKTtcbiAgICAgICAgcmVzcG9uc2Uuc2V0KG5ldyBVaW50OEFycmF5KHNpZ25hdHVyZUJ1ZmZlciksIHB1YmxpY0tleUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTSVdTTWVzc2FnZShwYXlsb2FkKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVNpZ25Jbk1lc3NhZ2VUZXh0KHBheWxvYWQpO1xufVxuZnVuY3Rpb24gY3JlYXRlU0lXU01lc3NhZ2VCYXNlNjQocGF5bG9hZCkge1xuICAgIHJldHVybiBlbmNvZGUoY3JlYXRlU0lXU01lc3NhZ2UocGF5bG9hZCkpO1xufVxuXG4vLyBvcHRpb25hbCBmZWF0dXJlc1xuY29uc3QgU29sYW5hU2lnblRyYW5zYWN0aW9ucyA9ICdzb2xhbmE6c2lnblRyYW5zYWN0aW9ucyc7XG5jb25zdCBTb2xhbmFDbG9uZUF1dGhvcml6YXRpb24gPSAnc29sYW5hOmNsb25lQXV0aG9yaXphdGlvbic7XG5jb25zdCBTb2xhbmFTaWduSW5XaXRoU29sYW5hID0gJ3NvbGFuYTpzaWduSW5XaXRoU29sYW5hJztcblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIE1vYmlsZVdhbGxldH0gcHJveHkgdGhhdCBoYW5kbGVzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGFuZCBBUEkgdG8gUlBDIGNvbnZlcnNpb24uXG4gKlxuICogQHBhcmFtIHByb3RvY29sVmVyc2lvbiB0aGUgcHJvdG9jb2wgdmVyc2lvbiBpbiB1c2UgZm9yIHRoaXMgc2Vzc2lvbi9yZXF1ZXN0XG4gKiBAcGFyYW0gcHJvdG9jb2xSZXF1ZXN0SGFuZGxlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgc2VuZGluZyB0aGUgUlBDIHJlcXVlc3QgdG8gdGhlIHdhbGxldCBlbmRwb2ludC5cbiAqIEByZXR1cm5zIGEge0BsaW5rIE1vYmlsZVdhbGxldH0gcHJveHlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW9iaWxlV2FsbGV0UHJveHkocHJvdG9jb2xWZXJzaW9uLCBwcm90b2NvbFJlcXVlc3RIYW5kbGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBwKSB7XG4gICAgICAgICAgICAvLyBXcmFwcGluZyBhIFByb3h5IGluIGEgcHJvbWlzZSByZXN1bHRzIGluIHRoZSBQcm94eSBiZWluZyBhc2tlZCBmb3IgYSAndGhlbicgcHJvcGVydHkgc28gbXVzdCBcbiAgICAgICAgICAgIC8vIHJldHVybiBudWxsIGlmICd0aGVuJyBpcyBjYWxsZWQgb24gdGhpcyBwcm94eSB0byBsZXQgdGhlICdyZXNvbHZlKCknIGNhbGwga25vdyB0aGlzIGlzIG5vdCBhIHByb21pc2UuXG4gICAgICAgICAgICAvLyBzZWU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81Mzg5MDkwNFxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAocCA9PT0gJ3RoZW4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0W3BdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbcF0gPSBmdW5jdGlvbiAoaW5wdXRQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kLCBwYXJhbXMgfSA9IGhhbmRsZU1vYmlsZVdhbGxldFJlcXVlc3QocCwgaW5wdXRQYXJhbXMsIHByb3RvY29sVmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCBwcm90b2NvbFJlcXVlc3RIYW5kbGVyKG1ldGhvZCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSByZXF1ZXN0IHRyaWVkIHRvIHNpZ24gaW4gYnV0IHRoZSB3YWxsZXQgZGlkIG5vdCByZXR1cm4gYSBzaWduIGluIHJlc3VsdCwgZmFsbGJhY2sgb24gbWVzc2FnZSBzaWduaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSAnYXV0aG9yaXplJyAmJiBwYXJhbXMuc2lnbl9pbl9wYXlsb2FkICYmICFyZXN1bHQuc2lnbl9pbl9yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbJ3NpZ25faW5fcmVzdWx0J10gPSB5aWVsZCBzaWduSW5GYWxsYmFjayhwYXJhbXMuc2lnbl9pbl9wYXlsb2FkLCByZXN1bHQsIHByb3RvY29sUmVxdWVzdEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU1vYmlsZVdhbGxldFJlc3BvbnNlKHAsIHJlc3VsdCwgcHJvdG9jb2xWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcF07XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmluZVByb3BlcnR5KCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8qKlxuICogSGFuZGxlcyBhbGwge0BsaW5rIE1vYmlsZVdhbGxldH0gQVBJIHJlcXVlc3RzIGFuZCBkZXRlcm1pbmVzIHRoZSBjb3JyZWN0IE1XQSBSUEMgbWV0aG9kIGFuZCBwYXJhbXMgdG8gY2FsbC5cbiAqIFRoaXMgaGFuZGxlcyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgYmFzZWQgb24gdGhlIHByb3ZpZGVkIEBwcm90b2NvbFZlcnNpb24uXG4gKlxuICogQHBhcmFtIG1ldGhvZE5hbWUgdGhlIG5hbWUgb2Yge0BsaW5rIE1vYmlsZVdhbGxldH0gbWV0aG9kIHRoYXQgd2FzIGNhbGxlZFxuICogQHBhcmFtIG1ldGhvZFBhcmFtcyB0aGUgcGFyYW1ldGVycyB0aGF0IHdlcmUgcGFzc2VkIHRvIHRoZSBtZXRob2RcbiAqIEBwYXJhbSBwcm90b2NvbFZlcnNpb24gdGhlIHByb3RvY29sIHZlcnNpb24gaW4gdXNlIGZvciB0aGlzIHNlc3Npb24vcmVxdWVzdFxuICogQHJldHVybnMgdGhlIFJQQyByZXF1ZXN0IG1ldGhvZCBhbmQgcGFyYW1zIHRoYXQgc2hvdWxkIGJlIHNlbnQgdG8gdGhlIHdhbGxldCBlbmRwb2ludFxuICovXG5mdW5jdGlvbiBoYW5kbGVNb2JpbGVXYWxsZXRSZXF1ZXN0KG1ldGhvZE5hbWUsIG1ldGhvZFBhcmFtcywgcHJvdG9jb2xWZXJzaW9uKSB7XG4gICAgbGV0IHBhcmFtcyA9IG1ldGhvZFBhcmFtcztcbiAgICBsZXQgbWV0aG9kID0gbWV0aG9kTmFtZVxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAucmVwbGFjZSgvW0EtWl0vZywgKGxldHRlcikgPT4gYF8ke2xldHRlci50b0xvd2VyQ2FzZSgpfWApXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICBjYXNlICdhdXRob3JpemUnOiB7XG4gICAgICAgICAgICBsZXQgeyBjaGFpbiB9ID0gcGFyYW1zO1xuICAgICAgICAgICAgaWYgKHByb3RvY29sVmVyc2lvbiA9PT0gJ2xlZ2FjeScpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYTp0ZXN0bmV0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW4gPSAndGVzdG5ldCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzb2xhbmE6ZGV2bmV0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW4gPSAnZGV2bmV0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NvbGFuYTptYWlubmV0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW4gPSAnbWFpbm5ldC1iZXRhJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluID0gcGFyYW1zLmNsdXN0ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyYW1zLmNsdXN0ZXIgPSBjaGFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGVzdG5ldCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rldm5ldCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluID0gYHNvbGFuYToke2NoYWlufWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtYWlubmV0LWJldGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbiA9ICdzb2xhbmE6bWFpbm5ldCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJhbXMuY2hhaW4gPSBjaGFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdyZWF1dGhvcml6ZSc6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXV0aF90b2tlbiwgaWRlbnRpdHkgfSA9IHBhcmFtcztcbiAgICAgICAgICAgIGlmIChhdXRoX3Rva2VuKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm90b2NvbFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVnYWN5Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kID0gJ3JlYXV0aG9yaXplJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsgYXV0aF90b2tlbjogYXV0aF90b2tlbiwgaWRlbnRpdHk6IGlkZW50aXR5IH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QgPSAnYXV0aG9yaXplJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbWV0aG9kLCBwYXJhbXMgfTtcbn1cbi8qKlxuICogSGFuZGxlcyBhbGwge0BsaW5rIE1vYmlsZVdhbGxldH0gQVBJIHJlc3BvbnNlcyBhbmQgbW9kaWZpZXMgdGhlIHJlc3BvbnNlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgaWYgbmVlZGVkXG4gKlxuICogQHBhcmFtIG1ldGhvZCB0aGUge0BsaW5rIE1vYmlsZVdhbGxldH0gbWV0aG9kIHRoYXQgd2FzIGNhbGxlZFxuICogQHBhcmFtIHJlc3BvbnNlIHRoZSBvcmlnaW5hbCByZXNwb25zZSB0aGF0IHdhcyByZXR1cm5lZCBieSB0aGUgbWV0aG9kIGNhbGxcbiAqIEBwYXJhbSBwcm90b2NvbFZlcnNpb24gdGhlIHByb3RvY29sIHZlcnNpb24gaW4gdXNlIGZvciB0aGlzIHNlc3Npb24vcmVxdWVzdFxuICogQHJldHVybnMgdGhlIHBvc3NpYmx5IG1vZGlmaWVkIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZU1vYmlsZVdhbGxldFJlc3BvbnNlKG1ldGhvZCwgcmVzcG9uc2UsIHByb3RvY29sVmVyc2lvbikge1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgIGNhc2UgJ2dldENhcGFiaWxpdGllcyc6IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgc3dpdGNoIChwcm90b2NvbFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdsZWdhY3knOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gW1NvbGFuYVNpZ25UcmFuc2FjdGlvbnNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FwYWJpbGl0aWVzLnN1cHBvcnRzX2Nsb25lX2F1dGhvcml6YXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goU29sYW5hQ2xvbmVBdXRob3JpemF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjYXBhYmlsaXRpZXMpLCB7IGZlYXR1cmVzOiBmZWF0dXJlcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAndjEnOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNhcGFiaWxpdGllcyksIHsgc3VwcG9ydHNfc2lnbl9hbmRfc2VuZF90cmFuc2FjdGlvbnM6IHRydWUsIHN1cHBvcnRzX2Nsb25lX2F1dGhvcml6YXRpb246IGNhcGFiaWxpdGllcy5mZWF0dXJlcy5pbmNsdWRlcyhTb2xhbmFDbG9uZUF1dGhvcml6YXRpb24pIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG5mdW5jdGlvbiBzaWduSW5GYWxsYmFjayhzaWduSW5QYXlsb2FkLCBhdXRob3JpemF0aW9uUmVzdWx0LCBwcm90b2NvbFJlcXVlc3RIYW5kbGVyKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IGRvbWFpbiA9IChfYSA9IHNpZ25JblBheWxvYWQuZG9tYWluKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IGF1dGhvcml6YXRpb25SZXN1bHQuYWNjb3VudHNbMF0uYWRkcmVzcztcbiAgICAgICAgY29uc3Qgc2l3c01lc3NhZ2UgPSBjcmVhdGVTSVdTTWVzc2FnZUJhc2U2NChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNpZ25JblBheWxvYWQpLCB7IGRvbWFpbiwgYWRkcmVzcyB9KSk7XG4gICAgICAgIGNvbnN0IHNpZ25NZXNzYWdlUmVzdWx0ID0geWllbGQgcHJvdG9jb2xSZXF1ZXN0SGFuZGxlcignc2lnbl9tZXNzYWdlcycsIHtcbiAgICAgICAgICAgIGFkZHJlc3NlczogW2FkZHJlc3NdLFxuICAgICAgICAgICAgcGF5bG9hZHM6IFtzaXdzTWVzc2FnZV1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNpZ25JblJlc3VsdCA9IHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICBzaWduZWRfbWVzc2FnZTogc2l3c01lc3NhZ2UsXG4gICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25NZXNzYWdlUmVzdWx0LnNpZ25lZF9wYXlsb2Fkc1swXS5zbGljZShzaXdzTWVzc2FnZS5sZW5ndGgpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzaWduSW5SZXN1bHQ7XG4gICAgfSk7XG59XG5cbmNvbnN0IFNFUVVFTkNFX05VTUJFUl9CWVRFUyA9IDQ7XG5mdW5jdGlvbiBjcmVhdGVTZXF1ZW5jZU51bWJlclZlY3RvcihzZXF1ZW5jZU51bWJlcikge1xuICAgIGlmIChzZXF1ZW5jZU51bWJlciA+PSA0Mjk0OTY3Mjk2KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3V0Ym91bmQgc2VxdWVuY2UgbnVtYmVyIG92ZXJmbG93LiBUaGUgbWF4aW11bSBzZXF1ZW5jZSBudW1iZXIgaXMgMzItYnl0ZXMuJyk7XG4gICAgfVxuICAgIGNvbnN0IGJ5dGVBcnJheSA9IG5ldyBBcnJheUJ1ZmZlcihTRVFVRU5DRV9OVU1CRVJfQllURVMpO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnl0ZUFycmF5KTtcbiAgICB2aWV3LnNldFVpbnQzMigwLCBzZXF1ZW5jZU51bWJlciwgLyogbGl0dGxlRW5kaWFuICovIGZhbHNlKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnl0ZUFycmF5KTtcbn1cblxuY29uc3QgSU5JVElBTElaQVRJT05fVkVDVE9SX0JZVEVTID0gMTI7XG5jb25zdCBFTkNPREVEX1BVQkxJQ19LRVlfTEVOR1RIX0JZVEVTID0gNjU7XG5mdW5jdGlvbiBlbmNyeXB0TWVzc2FnZShwbGFpbnRleHQsIHNlcXVlbmNlTnVtYmVyLCBzaGFyZWRTZWNyZXQpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBzZXF1ZW5jZU51bWJlclZlY3RvciA9IGNyZWF0ZVNlcXVlbmNlTnVtYmVyVmVjdG9yKHNlcXVlbmNlTnVtYmVyKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6YXRpb25WZWN0b3IgPSBuZXcgVWludDhBcnJheShJTklUSUFMSVpBVElPTl9WRUNUT1JfQllURVMpO1xuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGluaXRpYWxpemF0aW9uVmVjdG9yKTtcbiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IHlpZWxkIGNyeXB0by5zdWJ0bGUuZW5jcnlwdChnZXRBbGdvcml0aG1QYXJhbXMoc2VxdWVuY2VOdW1iZXJWZWN0b3IsIGluaXRpYWxpemF0aW9uVmVjdG9yKSwgc2hhcmVkU2VjcmV0LCBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocGxhaW50ZXh0KSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFVpbnQ4QXJyYXkoc2VxdWVuY2VOdW1iZXJWZWN0b3IuYnl0ZUxlbmd0aCArIGluaXRpYWxpemF0aW9uVmVjdG9yLmJ5dGVMZW5ndGggKyBjaXBoZXJ0ZXh0LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXNwb25zZS5zZXQobmV3IFVpbnQ4QXJyYXkoc2VxdWVuY2VOdW1iZXJWZWN0b3IpLCAwKTtcbiAgICAgICAgcmVzcG9uc2Uuc2V0KG5ldyBVaW50OEFycmF5KGluaXRpYWxpemF0aW9uVmVjdG9yKSwgc2VxdWVuY2VOdW1iZXJWZWN0b3IuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJlc3BvbnNlLnNldChuZXcgVWludDhBcnJheShjaXBoZXJ0ZXh0KSwgc2VxdWVuY2VOdW1iZXJWZWN0b3IuYnl0ZUxlbmd0aCArIGluaXRpYWxpemF0aW9uVmVjdG9yLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkZWNyeXB0TWVzc2FnZShtZXNzYWdlLCBzaGFyZWRTZWNyZXQpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBzZXF1ZW5jZU51bWJlclZlY3RvciA9IG1lc3NhZ2Uuc2xpY2UoMCwgU0VRVUVOQ0VfTlVNQkVSX0JZVEVTKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6YXRpb25WZWN0b3IgPSBtZXNzYWdlLnNsaWNlKFNFUVVFTkNFX05VTUJFUl9CWVRFUywgU0VRVUVOQ0VfTlVNQkVSX0JZVEVTICsgSU5JVElBTElaQVRJT05fVkVDVE9SX0JZVEVTKTtcbiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IG1lc3NhZ2Uuc2xpY2UoU0VRVUVOQ0VfTlVNQkVSX0JZVEVTICsgSU5JVElBTElaQVRJT05fVkVDVE9SX0JZVEVTKTtcbiAgICAgICAgY29uc3QgcGxhaW50ZXh0QnVmZmVyID0geWllbGQgY3J5cHRvLnN1YnRsZS5kZWNyeXB0KGdldEFsZ29yaXRobVBhcmFtcyhzZXF1ZW5jZU51bWJlclZlY3RvciwgaW5pdGlhbGl6YXRpb25WZWN0b3IpLCBzaGFyZWRTZWNyZXQsIGNpcGhlcnRleHQpO1xuICAgICAgICBjb25zdCBwbGFpbnRleHQgPSBnZXRVdGY4RGVjb2RlcigpLmRlY29kZShwbGFpbnRleHRCdWZmZXIpO1xuICAgICAgICByZXR1cm4gcGxhaW50ZXh0O1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0QWxnb3JpdGhtUGFyYW1zKHNlcXVlbmNlTnVtYmVyLCBpbml0aWFsaXphdGlvblZlY3Rvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZGl0aW9uYWxEYXRhOiBzZXF1ZW5jZU51bWJlcixcbiAgICAgICAgaXY6IGluaXRpYWxpemF0aW9uVmVjdG9yLFxuICAgICAgICBuYW1lOiAnQUVTLUdDTScsXG4gICAgICAgIHRhZ0xlbmd0aDogMTI4LCAvLyAxNiBieXRlIHRhZyA9PiAxMjggYml0c1xuICAgIH07XG59XG5sZXQgX3V0ZjhEZWNvZGVyO1xuZnVuY3Rpb24gZ2V0VXRmOERlY29kZXIoKSB7XG4gICAgaWYgKF91dGY4RGVjb2RlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF91dGY4RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTtcbiAgICB9XG4gICAgcmV0dXJuIF91dGY4RGVjb2Rlcjtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVBc3NvY2lhdGlvbktleXBhaXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIHlpZWxkIGNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoe1xuICAgICAgICAgICAgbmFtZTogJ0VDRFNBJyxcbiAgICAgICAgICAgIG5hbWVkQ3VydmU6ICdQLTI1NicsXG4gICAgICAgIH0sIGZhbHNlIC8qIGV4dHJhY3RhYmxlICovLCBbJ3NpZ24nXSAvKiBrZXlVc2FnZXMgKi8pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVDREhLZXlwYWlyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiB5aWVsZCBjcnlwdG8uc3VidGxlLmdlbmVyYXRlS2V5KHtcbiAgICAgICAgICAgIG5hbWU6ICdFQ0RIJyxcbiAgICAgICAgICAgIG5hbWVkQ3VydmU6ICdQLTI1NicsXG4gICAgICAgIH0sIGZhbHNlIC8qIGV4dHJhY3RhYmxlICovLCBbJ2Rlcml2ZUtleScsICdkZXJpdmVCaXRzJ10gLyoga2V5VXNhZ2VzICovKTtcbiAgICB9KTtcbn1cblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzk0NTg5OTYvODAyMDQ3XG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0U3RyaW5nKGJ1ZmZlcikge1xuICAgIGxldCBiaW5hcnkgPSAnJztcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgY29uc3QgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2lpXSk7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuYnRvYShiaW5hcnkpO1xufVxuXG5mdW5jdGlvbiBnZXRSYW5kb21Bc3NvY2lhdGlvblBvcnQoKSB7XG4gICAgcmV0dXJuIGFzc2VydEFzc29jaWF0aW9uUG9ydCg0OTE1MiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg2NTUzNSAtIDQ5MTUyICsgMSkpKTtcbn1cbmZ1bmN0aW9uIGFzc2VydEFzc29jaWF0aW9uUG9ydChwb3J0KSB7XG4gICAgaWYgKHBvcnQgPCA0OTE1MiB8fCBwb3J0ID4gNjU1MzUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvcihTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3JDb2RlLkVSUk9SX0FTU09DSUFUSU9OX1BPUlRfT1VUX09GX1JBTkdFLCBgQXNzb2NpYXRpb24gcG9ydCBudW1iZXIgbXVzdCBiZSBiZXR3ZWVuIDQ5MTUyIGFuZCA2NTUzNS4gJHtwb3J0fSBnaXZlbi5gLCB7IHBvcnQgfSk7XG4gICAgfVxuICAgIHJldHVybiBwb3J0O1xufVxuXG5mdW5jdGlvbiBnZXRTdHJpbmdXaXRoVVJMVW5zYWZlQ2hhcmFjdGVyc1JlcGxhY2VkKHVuc2FmZUJhc2U2NEVuY29kZWRTdHJpbmcpIHtcbiAgICByZXR1cm4gdW5zYWZlQmFzZTY0RW5jb2RlZFN0cmluZy5yZXBsYWNlKC9bLys9XS9nLCAobSkgPT4gKHtcbiAgICAgICAgJy8nOiAnXycsXG4gICAgICAgICcrJzogJy0nLFxuICAgICAgICAnPSc6ICcuJyxcbiAgICB9W21dKSk7XG59XG5cbmNvbnN0IElOVEVOVF9OQU1FID0gJ3NvbGFuYS13YWxsZXQnO1xuZnVuY3Rpb24gZ2V0UGF0aFBhcnRzKHBhdGhTdHJpbmcpIHtcbiAgICByZXR1cm4gKHBhdGhTdHJpbmdcbiAgICAgICAgLy8gU3RyaXAgbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlc1xuICAgICAgICAucmVwbGFjZSgvKF5cXC8rfFxcLyskKS9nLCAnJylcbiAgICAgICAgLy8gUmV0dXJuIGFuIGFycmF5IG9mIGRpcmVjdG9yaWVzXG4gICAgICAgIC5zcGxpdCgnLycpKTtcbn1cbmZ1bmN0aW9uIGdldEludGVudFVSTChtZXRob2RQYXRobmFtZSwgaW50ZW50VXJsQmFzZSkge1xuICAgIGxldCBiYXNlVXJsID0gbnVsbDtcbiAgICBpZiAoaW50ZW50VXJsQmFzZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYmFzZVVybCA9IG5ldyBVUkwoaW50ZW50VXJsQmFzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9hKSB7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICBpZiAoKGJhc2VVcmwgPT09IG51bGwgfHwgYmFzZVVybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmFzZVVybC5wcm90b2NvbCkgIT09ICdodHRwczonKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUuRVJST1JfRk9SQklEREVOX1dBTExFVF9CQVNFX1VSTCwgJ0Jhc2UgVVJMcyBzdXBwbGllZCBieSB3YWxsZXRzIG11c3QgYmUgdmFsaWQgYGh0dHBzYCBVUkxzJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYmFzZVVybCB8fCAoYmFzZVVybCA9IG5ldyBVUkwoYCR7SU5URU5UX05BTUV9Oi9gKSk7XG4gICAgY29uc3QgcGF0aG5hbWUgPSBtZXRob2RQYXRobmFtZS5zdGFydHNXaXRoKCcvJylcbiAgICAgICAgPyAvLyBNZXRob2QgaXMgYW4gYWJzb2x1dGUgcGF0aC4gUmVwbGFjZSBpdCB3aG9sZXNhbGUuXG4gICAgICAgICAgICBtZXRob2RQYXRobmFtZVxuICAgICAgICA6IC8vIE1ldGhvZCBpcyBhIHJlbGF0aXZlIHBhdGguIE1lcmdlIGl0IHdpdGggdGhlIGV4aXN0aW5nIG9uZS5cbiAgICAgICAgICAgIFsuLi5nZXRQYXRoUGFydHMoYmFzZVVybC5wYXRobmFtZSksIC4uLmdldFBhdGhQYXJ0cyhtZXRob2RQYXRobmFtZSldLmpvaW4oJy8nKTtcbiAgICByZXR1cm4gbmV3IFVSTChwYXRobmFtZSwgYmFzZVVybCk7XG59XG5mdW5jdGlvbiBnZXRBc3NvY2lhdGVBbmRyb2lkSW50ZW50VVJMKGFzc29jaWF0aW9uUHVibGljS2V5LCBwdXRhdGl2ZVBvcnQsIGFzc29jaWF0aW9uVVJMQmFzZSwgcHJvdG9jb2xWZXJzaW9ucyA9IFsndjEnXSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IGFzc29jaWF0aW9uUG9ydCA9IGFzc2VydEFzc29jaWF0aW9uUG9ydChwdXRhdGl2ZVBvcnQpO1xuICAgICAgICBjb25zdCBleHBvcnRlZEtleSA9IHlpZWxkIGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCdyYXcnLCBhc3NvY2lhdGlvblB1YmxpY0tleSk7XG4gICAgICAgIGNvbnN0IGVuY29kZWRLZXkgPSBhcnJheUJ1ZmZlclRvQmFzZTY0U3RyaW5nKGV4cG9ydGVkS2V5KTtcbiAgICAgICAgY29uc3QgdXJsID0gZ2V0SW50ZW50VVJMKCd2MS9hc3NvY2lhdGUvbG9jYWwnLCBhc3NvY2lhdGlvblVSTEJhc2UpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnYXNzb2NpYXRpb24nLCBnZXRTdHJpbmdXaXRoVVJMVW5zYWZlQ2hhcmFjdGVyc1JlcGxhY2VkKGVuY29kZWRLZXkpKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3BvcnQnLCBgJHthc3NvY2lhdGlvblBvcnR9YCk7XG4gICAgICAgIHByb3RvY29sVmVyc2lvbnMuZm9yRWFjaCgodmVyc2lvbikgPT4ge1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3YnLCB2ZXJzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRSZW1vdGVBc3NvY2lhdGVBbmRyb2lkSW50ZW50VVJMKGFzc29jaWF0aW9uUHVibGljS2V5LCBob3N0QXV0aG9yaXR5LCByZWZsZWN0b3JJZCwgYXNzb2NpYXRpb25VUkxCYXNlLCBwcm90b2NvbFZlcnNpb25zID0gWyd2MSddKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgZXhwb3J0ZWRLZXkgPSB5aWVsZCBjcnlwdG8uc3VidGxlLmV4cG9ydEtleSgncmF3JywgYXNzb2NpYXRpb25QdWJsaWNLZXkpO1xuICAgICAgICBjb25zdCBlbmNvZGVkS2V5ID0gYXJyYXlCdWZmZXJUb0Jhc2U2NFN0cmluZyhleHBvcnRlZEtleSk7XG4gICAgICAgIGNvbnN0IHVybCA9IGdldEludGVudFVSTCgndjEvYXNzb2NpYXRlL3JlbW90ZScsIGFzc29jaWF0aW9uVVJMQmFzZSk7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdhc3NvY2lhdGlvbicsIGdldFN0cmluZ1dpdGhVUkxVbnNhZmVDaGFyYWN0ZXJzUmVwbGFjZWQoZW5jb2RlZEtleSkpO1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncmVmbGVjdG9yJywgYCR7aG9zdEF1dGhvcml0eX1gKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2lkJywgYCR7ZnJvbVVpbnQ4QXJyYXkocmVmbGVjdG9ySWQsIHRydWUpfWApO1xuICAgICAgICBwcm90b2NvbFZlcnNpb25zLmZvckVhY2goKHZlcnNpb24pID0+IHtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCd2JywgdmVyc2lvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBlbmNyeXB0SnNvblJwY01lc3NhZ2UoanNvblJwY01lc3NhZ2UsIHNoYXJlZFNlY3JldCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHBsYWludGV4dCA9IEpTT04uc3RyaW5naWZ5KGpzb25ScGNNZXNzYWdlKTtcbiAgICAgICAgY29uc3Qgc2VxdWVuY2VOdW1iZXIgPSBqc29uUnBjTWVzc2FnZS5pZDtcbiAgICAgICAgcmV0dXJuIGVuY3J5cHRNZXNzYWdlKHBsYWludGV4dCwgc2VxdWVuY2VOdW1iZXIsIHNoYXJlZFNlY3JldCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkZWNyeXB0SnNvblJwY01lc3NhZ2UobWVzc2FnZSwgc2hhcmVkU2VjcmV0KSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgcGxhaW50ZXh0ID0geWllbGQgZGVjcnlwdE1lc3NhZ2UobWVzc2FnZSwgc2hhcmVkU2VjcmV0KTtcbiAgICAgICAgY29uc3QganNvblJwY01lc3NhZ2UgPSBKU09OLnBhcnNlKHBsYWludGV4dCk7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChqc29uUnBjTWVzc2FnZSwgJ2Vycm9yJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyUHJvdG9jb2xFcnJvcihqc29uUnBjTWVzc2FnZS5pZCwganNvblJwY01lc3NhZ2UuZXJyb3IuY29kZSwganNvblJwY01lc3NhZ2UuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzb25ScGNNZXNzYWdlO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBwYXJzZUhlbGxvUnNwKHBheWxvYWRCdWZmZXIsIC8vIFRoZSBYOS42Mi1lbmNvZGVkIHdhbGxldCBlbmRwb2ludCBlcGhlbWVyYWwgRUNESCBwdWJsaWMga2V5cG9pbnQuXG5hc3NvY2lhdGlvblB1YmxpY0tleSwgZWNkaFByaXZhdGVLZXkpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBbYXNzb2NpYXRpb25QdWJsaWNLZXlCdWZmZXIsIHdhbGxldFB1YmxpY0tleV0gPSB5aWVsZCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBjcnlwdG8uc3VidGxlLmV4cG9ydEtleSgncmF3JywgYXNzb2NpYXRpb25QdWJsaWNLZXkpLFxuICAgICAgICAgICAgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIHBheWxvYWRCdWZmZXIuc2xpY2UoMCwgRU5DT0RFRF9QVUJMSUNfS0VZX0xFTkdUSF9CWVRFUyksIHsgbmFtZTogJ0VDREgnLCBuYW1lZEN1cnZlOiAnUC0yNTYnIH0sIGZhbHNlIC8qIGV4dHJhY3RhYmxlICovLCBbXSAvKiBrZXlVc2FnZXMgKi8pLFxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkU2VjcmV0ID0geWllbGQgY3J5cHRvLnN1YnRsZS5kZXJpdmVCaXRzKHsgbmFtZTogJ0VDREgnLCBwdWJsaWM6IHdhbGxldFB1YmxpY0tleSB9LCBlY2RoUHJpdmF0ZUtleSwgMjU2KTtcbiAgICAgICAgY29uc3QgZWNkaFNlY3JldEtleSA9IHlpZWxkIGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBzaGFyZWRTZWNyZXQsICdIS0RGJywgZmFsc2UgLyogZXh0cmFjdGFibGUgKi8sIFsnZGVyaXZlS2V5J10gLyoga2V5VXNhZ2VzICovKTtcbiAgICAgICAgY29uc3QgYWVzS2V5TWF0ZXJpYWxWYWwgPSB5aWVsZCBjcnlwdG8uc3VidGxlLmRlcml2ZUtleSh7XG4gICAgICAgICAgICBuYW1lOiAnSEtERicsXG4gICAgICAgICAgICBoYXNoOiAnU0hBLTI1NicsXG4gICAgICAgICAgICBzYWx0OiBuZXcgVWludDhBcnJheShhc3NvY2lhdGlvblB1YmxpY0tleUJ1ZmZlciksXG4gICAgICAgICAgICBpbmZvOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB9LCBlY2RoU2VjcmV0S2V5LCB7IG5hbWU6ICdBRVMtR0NNJywgbGVuZ3RoOiAxMjggfSwgZmFsc2UgLyogZXh0cmFjdGFibGUgKi8sIFsnZW5jcnlwdCcsICdkZWNyeXB0J10pO1xuICAgICAgICByZXR1cm4gYWVzS2V5TWF0ZXJpYWxWYWw7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU2Vzc2lvblByb3BzKG1lc3NhZ2UsIHNoYXJlZFNlY3JldCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHBsYWludGV4dCA9IHlpZWxkIGRlY3J5cHRNZXNzYWdlKG1lc3NhZ2UsIHNoYXJlZFNlY3JldCk7XG4gICAgICAgIGNvbnN0IGpzb25Qcm9wZXJ0aWVzID0gSlNPTi5wYXJzZShwbGFpbnRleHQpO1xuICAgICAgICBsZXQgcHJvdG9jb2xWZXJzaW9uID0gJ2xlZ2FjeSc7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChqc29uUHJvcGVydGllcywgJ3YnKSkge1xuICAgICAgICAgICAgc3dpdGNoIChqc29uUHJvcGVydGllcy52KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgJzEnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3YxJzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uID0gJ3YxJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVnYWN5JzpcbiAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uID0gJ2xlZ2FjeSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3IoU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yQ29kZS5FUlJPUl9JTlZBTElEX1BST1RPQ09MX1ZFUlNJT04sIGBVbmtub3duL3Vuc3VwcG9ydGVkIHByb3RvY29sIHZlcnNpb246ICR7anNvblByb3BlcnRpZXMudn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgIHByb3RvY29sX3ZlcnNpb246IHByb3RvY29sVmVyc2lvblxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy8gVHlwZXNjcmlwdCBgZW51bXNgIHRod2FydCB0cmVlLXNoYWtpbmcuIFNlZSBodHRwczovL2JhcmdzdGVuLm9yZy9qc3RzL2VudW1zL1xuY29uc3QgQnJvd3NlciA9IHtcbiAgICBGaXJlZm94OiAwLFxuICAgIE90aGVyOiAxLFxufTtcbmZ1bmN0aW9uIGFzc2VydFVucmVhY2hhYmxlKHgpIHtcbiAgICByZXR1cm4geDtcbn1cbmZ1bmN0aW9uIGdldEJyb3dzZXIoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveC8nKSAhPT0gLTEgPyBCcm93c2VyLkZpcmVmb3ggOiBCcm93c2VyLk90aGVyO1xufVxuZnVuY3Rpb24gZ2V0RGV0ZWN0aW9uUHJvbWlzZSgpIHtcbiAgICAvLyBDaHJvbWUgYW5kIG90aGVycyBzaWxlbnRseSBmYWlsIGlmIGEgY3VzdG9tIHByb3RvY29sIGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgLy8gRm9yIHRoZXNlLCB3ZSB3YWl0IHRvIHNlZSBpZiB0aGUgYnJvd3NlciBpcyBuYXZpZ2F0ZWQgYXdheSBmcm9tIGluXG4gICAgLy8gYSByZWFzb25hYmxlIGFtb3VudCBvZiB0aW1lIChpZS4gdGhlIG5hdGl2ZSB3YWxsZXQgb3BlbmVkKS5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGhhbmRsZUJsdXIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUJsdXIoKSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVCbHVyKTtcbiAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfSk7XG59XG5sZXQgX2ZyYW1lID0gbnVsbDtcbmZ1bmN0aW9uIGxhdW5jaFVybFRocm91Z2hIaWRkZW5GcmFtZSh1cmwpIHtcbiAgICBpZiAoX2ZyYW1lID09IG51bGwpIHtcbiAgICAgICAgX2ZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIF9mcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKF9mcmFtZSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgX2ZyYW1lLmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZiA9IHVybC50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gbGF1bmNoQXNzb2NpYXRpb24oYXNzb2NpYXRpb25VcmwpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpZiAoYXNzb2NpYXRpb25VcmwucHJvdG9jb2wgPT09ICdodHRwczonKSB7XG4gICAgICAgICAgICAvLyBUaGUgYXNzb2NpYXRpb24gVVJMIGlzIGFuIEFuZHJvaWQgJ0FwcCBMaW5rJyBvciBpT1MgJ1VuaXZlcnNhbCBMaW5rJy5cbiAgICAgICAgICAgIC8vIFRoZXNlIGFyZSByZWd1bGFyIHdlYiBVUkxzIHRoYXQgYXJlIGRlc2lnbmVkIHRvIGxhdW5jaCBhbiBhcHAgaWYgaXRcbiAgICAgICAgICAgIC8vIGlzIGluc3RhbGxlZCBvciBsb2FkIHRoZSBhY3R1YWwgdGFyZ2V0IHdlYnBhZ2UgaWYgbm90LlxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihhc3NvY2lhdGlvblVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgYXNzb2NpYXRpb24gVVJMIGhhcyBhIGN1c3RvbSBwcm90b2NvbCAoZWcuIGBzb2xhbmEtd2FsbGV0OmApXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyb3dzZXIgPSBnZXRCcm93c2VyKCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChicm93c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQnJvd3Nlci5GaXJlZm94OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBjdXN0b20gcHJvdG9jb2wgaXMgbm90IHN1cHBvcnRlZCBpbiBGaXJlZm94LCBpdCB0aHJvd3MuXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hVcmxUaHJvdWdoSGlkZGVuRnJhbWUoYXNzb2NpYXRpb25VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCB0aGlzIGxpbmUsIGl0J3Mgc3VwcG9ydGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQnJvd3Nlci5PdGhlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV0ZWN0aW9uUHJvbWlzZSA9IGdldERldGVjdGlvblByb21pc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYXNzb2NpYXRpb25VcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgZGV0ZWN0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRVbnJlYWNoYWJsZShicm93c2VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3IoU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yQ29kZS5FUlJPUl9XQUxMRVRfTk9UX0ZPVU5ELCAnRm91bmQgbm8gaW5zdGFsbGVkIHdhbGxldCB0aGF0IHN1cHBvcnRzIHRoZSBtb2JpbGUgd2FsbGV0IHByb3RvY29sLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzdGFydFNlc3Npb24oYXNzb2NpYXRpb25QdWJsaWNLZXksIGFzc29jaWF0aW9uVVJMQmFzZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbUFzc29jaWF0aW9uUG9ydCA9IGdldFJhbmRvbUFzc29jaWF0aW9uUG9ydCgpO1xuICAgICAgICBjb25zdCBhc3NvY2lhdGlvblVybCA9IHlpZWxkIGdldEFzc29jaWF0ZUFuZHJvaWRJbnRlbnRVUkwoYXNzb2NpYXRpb25QdWJsaWNLZXksIHJhbmRvbUFzc29jaWF0aW9uUG9ydCwgYXNzb2NpYXRpb25VUkxCYXNlKTtcbiAgICAgICAgeWllbGQgbGF1bmNoQXNzb2NpYXRpb24oYXNzb2NpYXRpb25VcmwpO1xuICAgICAgICByZXR1cm4gcmFuZG9tQXNzb2NpYXRpb25Qb3J0O1xuICAgIH0pO1xufVxuXG5jb25zdCBXRUJTT0NLRVRfQ09OTkVDVElPTl9DT05GSUcgPSB7XG4gICAgLyoqXG4gICAgICogMzAwIG1pbGxpc2Vjb25kcyBpcyBhIGdlbmVyYWxseSBhY2NlcHRlZCB0aHJlc2hvbGQgZm9yIHdoYXQgc29tZW9uZVxuICAgICAqIHdvdWxkIGNvbnNpZGVyIGFuIGFjY2VwdGFibGUgcmVzcG9uc2UgdGltZSBmb3IgYSB1c2VyIGludGVyZmFjZVxuICAgICAqIGFmdGVyIGhhdmluZyBwZXJmb3JtZWQgYSBsb3ctYXR0ZW50aW9uIHRhcHBpbmcgdGFzay4gV2Ugc2V0IHRoZSBpbml0aWFsXG4gICAgICogaW50ZXJ2YWwgYXQgd2hpY2ggd2Ugd2FpdCBmb3IgdGhlIHdhbGxldCB0byBzZXQgdXAgdGhlIHdlYnNvY2tldCBhdFxuICAgICAqIGhhbGYgdGhpcywgYXMgcGVyIHRoZSBOeXF1aXN0IGZyZXF1ZW5jeSwgd2l0aCBhIHByb2dyZXNzaXZlIGJhY2tvZmZcbiAgICAgKiBzZXF1ZW5jZSBmcm9tIHRoZXJlLiBUaGUgdG90YWwgd2FpdCB0aW1lIGlzIDMwcywgd2hpY2ggYWxsb3dzIGZvciB0aGVcbiAgICAgKiB1c2VyIHRvIGJlIHByZXNlbnRlZCB3aXRoIGEgZGlzYW1iaWd1YXRpb24gZGlhbG9nLCBzZWxlY3QgYSB3YWxsZXQsIGFuZFxuICAgICAqIGZvciB0aGUgd2FsbGV0IGFwcCB0byBzdWJzZXF1ZW50bHkgc3RhcnQuXG4gICAgICovXG4gICAgcmV0cnlEZWxheVNjaGVkdWxlTXM6IFsxNTAsIDE1MCwgMjAwLCA1MDAsIDUwMCwgNzUwLCA3NTAsIDEwMDBdLFxuICAgIHRpbWVvdXRNczogMzAwMDAsXG59O1xuY29uc3QgV0VCU09DS0VUX1BST1RPQ09MX0JJTkFSWSA9ICdjb20uc29sYW5hLm1vYmlsZXdhbGxldGFkYXB0ZXIudjEnO1xuY29uc3QgV0VCU09DS0VUX1BST1RPQ09MX0JBU0U2NCA9ICdjb20uc29sYW5hLm1vYmlsZXdhbGxldGFkYXB0ZXIudjEuYmFzZTY0JztcbmZ1bmN0aW9uIGFzc2VydFNlY3VyZUNvbnRleHQoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHdpbmRvdy5pc1NlY3VyZUNvbnRleHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvcihTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3JDb2RlLkVSUk9SX1NFQ1VSRV9DT05URVhUX1JFUVVJUkVELCAnVGhlIG1vYmlsZSB3YWxsZXQgYWRhcHRlciBwcm90b2NvbCBtdXN0IGJlIHVzZWQgaW4gYSBzZWN1cmUgY29udGV4dCAoYGh0dHBzYCkuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0U2VjdXJlRW5kcG9pbnRTcGVjaWZpY1VSSSh3YWxsZXRVcmlCYXNlKSB7XG4gICAgbGV0IHVybDtcbiAgICB0cnkge1xuICAgICAgICB1cmwgPSBuZXcgVVJMKHdhbGxldFVyaUJhc2UpO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgdGhyb3cgbmV3IFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvcihTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3JDb2RlLkVSUk9SX0ZPUkJJRERFTl9XQUxMRVRfQkFTRV9VUkwsICdJbnZhbGlkIGJhc2UgVVJMIHN1cHBsaWVkIGJ5IHdhbGxldCcpO1xuICAgIH1cbiAgICBpZiAodXJsLnByb3RvY29sICE9PSAnaHR0cHM6Jykge1xuICAgICAgICB0aHJvdyBuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUuRVJST1JfRk9SQklEREVOX1dBTExFVF9CQVNFX1VSTCwgJ0Jhc2UgVVJMcyBzdXBwbGllZCBieSB3YWxsZXRzIG11c3QgYmUgdmFsaWQgYGh0dHBzYCBVUkxzJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0U2VxdWVuY2VOdW1iZXJGcm9tQnl0ZUFycmF5KGJ5dGVBcnJheSkge1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnl0ZUFycmF5KTtcbiAgICByZXR1cm4gdmlldy5nZXRVaW50MzIoMCwgLyogbGl0dGxlRW5kaWFuICovIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIGRlY29kZVZhckxvbmcoYnl0ZUFycmF5KSB7XG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUFycmF5KSwgbCA9IGJ5dGVBcnJheS5ieXRlTGVuZ3RoLCBsaW1pdCA9IDEwLCB2YWx1ZSA9IDAsIG9mZnNldCA9IDAsIGI7XG4gICAgZG8ge1xuICAgICAgICBpZiAob2Zmc2V0ID49IGwgfHwgb2Zmc2V0ID4gbGltaXQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignRmFpbGVkIHRvIGRlY29kZSB2YXJpbnQnKTtcbiAgICAgICAgYiA9IGJ5dGVzW29mZnNldCsrXTtcbiAgICAgICAgdmFsdWUgfD0gKGIgJiAweDdGKSA8PCAoNyAqIG9mZnNldCk7XG4gICAgfSB3aGlsZSAoYiA+PSAweDgwKTtcbiAgICByZXR1cm4geyB2YWx1ZSwgb2Zmc2V0IH07XG59XG5mdW5jdGlvbiBnZXRSZWZsZWN0b3JJZEZyb21CeXRlQXJyYXkoYnl0ZUFycmF5KSB7XG4gICAgbGV0IHsgdmFsdWU6IGxlbmd0aCwgb2Zmc2V0IH0gPSBkZWNvZGVWYXJMb25nKGJ5dGVBcnJheSk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ5dGVBcnJheS5zbGljZShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCkpO1xufVxuZnVuY3Rpb24gdHJhbnNhY3QoY2FsbGJhY2ssIGNvbmZpZykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGFzc2VydFNlY3VyZUNvbnRleHQoKTtcbiAgICAgICAgY29uc3QgYXNzb2NpYXRpb25LZXlwYWlyID0geWllbGQgZ2VuZXJhdGVBc3NvY2lhdGlvbktleXBhaXIoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvblBvcnQgPSB5aWVsZCBzdGFydFNlc3Npb24oYXNzb2NpYXRpb25LZXlwYWlyLnB1YmxpY0tleSwgY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmJhc2VVcmkpO1xuICAgICAgICBjb25zdCB3ZWJzb2NrZXRVUkwgPSBgd3M6Ly9sb2NhbGhvc3Q6JHtzZXNzaW9uUG9ydH0vc29sYW5hLXdhbGxldGA7XG4gICAgICAgIGxldCBjb25uZWN0aW9uU3RhcnRUaW1lO1xuICAgICAgICBjb25zdCBnZXROZXh0UmV0cnlEZWxheU1zID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVkdWxlID0gWy4uLldFQlNPQ0tFVF9DT05ORUNUSU9OX0NPTkZJRy5yZXRyeURlbGF5U2NoZWR1bGVNc107XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gKHNjaGVkdWxlLmxlbmd0aCA+IDEgPyBzY2hlZHVsZS5zaGlmdCgpIDogc2NoZWR1bGVbMF0pO1xuICAgICAgICB9KSgpO1xuICAgICAgICBsZXQgbmV4dEpzb25ScGNNZXNzYWdlSWQgPSAxO1xuICAgICAgICBsZXQgbGFzdEtub3duSW5ib3VuZFNlcXVlbmNlTnVtYmVyID0gMDtcbiAgICAgICAgbGV0IHN0YXRlID0geyBfX3R5cGU6ICdkaXNjb25uZWN0ZWQnIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgc29ja2V0O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNvbnN0IGpzb25ScGNSZXNwb25zZVByb21pc2VzID0ge307XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVPcGVuID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fX3R5cGUgIT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0V4cGVjdGVkIGFkYXB0ZXIgc3RhdGUgdG8gYmUgYGNvbm5lY3RpbmdgIGF0IHRoZSBtb21lbnQgdGhlIHdlYnNvY2tldCBvcGVucy4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBgR290IFxcYCR7c3RhdGUuX190eXBlfVxcYC5gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3BlbicsIGhhbmRsZU9wZW4pO1xuICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIHZlcnNpb25zIG9mIHRoaXMgbGlicmFyeSBhbmQgd2FsbGV0bGliIGluY29ycmVjdGx5IGltcGxlbWVudGVkIHRoZSBNV0Egc2Vzc2lvbiBcbiAgICAgICAgICAgICAgICAvLyBlc3RhYmxpc2htZW50IHByb3RvY29sIGZvciBsb2NhbCBjb25uZWN0aW9ucy4gVGhlIGRhcHAgaXMgc3VwcG9zZWQgdG8gd2FpdCBmb3IgdGhlIFxuICAgICAgICAgICAgICAgIC8vIEFQUF9QSU5HIG1lc3NhZ2UgYmVmb3JlIHNlbmRpbmcgdGhlIEhFTExPX1JFUS4gSW5zdGVhZCwgdGhlIGRhcHAgd2FzIHNlbmRpbmcgdGhlIEhFTExPX1JFUSBcbiAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSB1cG9uIGNvbm5lY3Rpb24gdG8gdGhlIHdlYnNvY2tldCBzZXJ2ZXIgcmVnYXJkbGVzcyBvZiB3ZXRoZXIgb3Igbm90IGFuIFxuICAgICAgICAgICAgICAgIC8vIEFQUF9QSU5HIHdhcyBzZW50IGJ5IHRoZSB3YWxsZXQvd2Vic29ja2V0IHNlcnZlci4gV2UgbXVzdCBjb250aW51ZSB0byBzdXBwb3J0IHRoaXMgYmVoYXZpb3IgXG4gICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB0aGUgdXNlciBpcyB1c2luZyBhIHdhbGxldCB0aGF0IGhhcyBub3QgdXBkYXRlZCB0aGVpciB3YWxsZXRsaWIgaW1wbGVtZW50YXRpb24uIFxuICAgICAgICAgICAgICAgIGNvbnN0IHsgYXNzb2NpYXRpb25LZXlwYWlyIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBlY2RoS2V5cGFpciA9IHlpZWxkIGdlbmVyYXRlRUNESEtleXBhaXIoKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZCh5aWVsZCBjcmVhdGVIZWxsb1JlcShlY2RoS2V5cGFpci5wdWJsaWNLZXksIGFzc29jaWF0aW9uS2V5cGFpci5wcml2YXRlS2V5KSk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIF9fdHlwZTogJ2hlbGxvX3JlcV9zZW50JyxcbiAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25QdWJsaWNLZXk6IGFzc29jaWF0aW9uS2V5cGFpci5wdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgICAgIGVjZGhQcml2YXRlS2V5OiBlY2RoS2V5cGFpci5wcml2YXRlS2V5LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldnQud2FzQ2xlYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IF9fdHlwZTogJ2Rpc2Nvbm5lY3RlZCcgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUuRVJST1JfU0VTU0lPTl9DTE9TRUQsIGBUaGUgd2FsbGV0IHNlc3Npb24gZHJvcHBlZCB1bmV4cGVjdGVkbHkgKCR7ZXZ0LmNvZGV9OiAke2V2dC5yZWFzb259KS5gLCB7IGNsb3NlRXZlbnQ6IGV2dCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3Bvc2VTb2NrZXQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChfZXZ0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZVNvY2tldCgpO1xuICAgICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gY29ubmVjdGlvblN0YXJ0VGltZSA+PSBXRUJTT0NLRVRfQ09OTkVDVElPTl9DT05GSUcudGltZW91dE1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUuRVJST1JfU0VTU0lPTl9USU1FT1VULCBgRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIHdhbGxldCB3ZWJzb2NrZXQgYXQgJHt3ZWJzb2NrZXRVUkx9LmApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeURlbGF5TXMgPSBnZXROZXh0UmV0cnlEZWxheU1zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeVdhaXRUaW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dChyZXNvbHZlLCByZXRyeURlbGF5TXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdFNvY2tldENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSAoZXZ0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VCdWZmZXIgPSB5aWVsZCBldnQuZGF0YS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUuX190eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlQnVmZmVyLmJ5dGVMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY291bnRlcmVkIHVuZXhwZWN0ZWQgbWVzc2FnZSB3aGlsZSBjb25uZWN0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlY2RoS2V5cGFpciA9IHlpZWxkIGdlbmVyYXRlRUNESEtleXBhaXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKHlpZWxkIGNyZWF0ZUhlbGxvUmVxKGVjZGhLZXlwYWlyLnB1YmxpY0tleSwgYXNzb2NpYXRpb25LZXlwYWlyLnByaXZhdGVLZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdHlwZTogJ2hlbGxvX3JlcV9zZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvblB1YmxpY0tleTogYXNzb2NpYXRpb25LZXlwYWlyLnB1YmxpY0tleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2RoUHJpdmF0ZUtleTogZWNkaEtleXBhaXIucHJpdmF0ZUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2VOdW1iZXJWZWN0b3IgPSByZXNwb25zZUJ1ZmZlci5zbGljZSgwLCBTRVFVRU5DRV9OVU1CRVJfQllURVMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlTnVtYmVyID0gZ2V0U2VxdWVuY2VOdW1iZXJGcm9tQnl0ZUFycmF5KHNlcXVlbmNlTnVtYmVyVmVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VOdW1iZXIgIT09IChsYXN0S25vd25JbmJvdW5kU2VxdWVuY2VOdW1iZXIgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY3J5cHRlZCBtZXNzYWdlIGhhcyBpbnZhbGlkIHNlcXVlbmNlIG51bWJlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0S25vd25JbmJvdW5kU2VxdWVuY2VOdW1iZXIgPSBzZXF1ZW5jZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uUnBjTWVzc2FnZSA9IHlpZWxkIGRlY3J5cHRKc29uUnBjTWVzc2FnZShyZXNwb25zZUJ1ZmZlciwgc3RhdGUuc2hhcmVkU2VjcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVByb21pc2UgPSBqc29uUnBjUmVzcG9uc2VQcm9taXNlc1tqc29uUnBjTWVzc2FnZS5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb25ScGNSZXNwb25zZVByb21pc2VzW2pzb25ScGNNZXNzYWdlLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVByb21pc2UucmVzb2x2ZShqc29uUnBjTWVzc2FnZS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJQcm90b2NvbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IGpzb25ScGNSZXNwb25zZVByb21pc2VzW2UuanNvblJwY01lc3NhZ2VJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uUnBjUmVzcG9uc2VQcm9taXNlc1tlLmpzb25ScGNNZXNzYWdlSWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGVsbG9fcmVxX3NlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSByZWNlaXZlIGFuIEFQUF9QSU5HIG1lc3NhZ2UgKGVtcHR5IG1lc3NhZ2UpLCByZXNlbmQgdGhlIEhFTExPX1JFUSAoc2VlIGFib3ZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlQnVmZmVyLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlY2RoS2V5cGFpciA9IHlpZWxkIGdlbmVyYXRlRUNESEtleXBhaXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZCh5aWVsZCBjcmVhdGVIZWxsb1JlcShlY2RoS2V5cGFpci5wdWJsaWNLZXksIGFzc29jaWF0aW9uS2V5cGFpci5wcml2YXRlS2V5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdHlwZTogJ2hlbGxvX3JlcV9zZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25QdWJsaWNLZXk6IGFzc29jaWF0aW9uS2V5cGFpci5wdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjZGhQcml2YXRlS2V5OiBlY2RoS2V5cGFpci5wcml2YXRlS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFyZWRTZWNyZXQgPSB5aWVsZCBwYXJzZUhlbGxvUnNwKHJlc3BvbnNlQnVmZmVyLCBzdGF0ZS5hc3NvY2lhdGlvblB1YmxpY0tleSwgc3RhdGUuZWNkaFByaXZhdGVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblByb3BlcnRpZXNCdWZmZXIgPSByZXNwb25zZUJ1ZmZlci5zbGljZShFTkNPREVEX1BVQkxJQ19LRVlfTEVOR1RIX0JZVEVTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Qcm9wZXJ0aWVzID0gc2Vzc2lvblByb3BlcnRpZXNCdWZmZXIuYnl0ZUxlbmd0aCAhPT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geWllbGQgKCgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2VOdW1iZXJWZWN0b3IgPSBzZXNzaW9uUHJvcGVydGllc0J1ZmZlci5zbGljZSgwLCBTRVFVRU5DRV9OVU1CRVJfQllURVMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXF1ZW5jZU51bWJlciA9IGdldFNlcXVlbmNlTnVtYmVyRnJvbUJ5dGVBcnJheShzZXF1ZW5jZU51bWJlclZlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZU51bWJlciAhPT0gKGxhc3RLbm93bkluYm91bmRTZXF1ZW5jZU51bWJlciArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY3J5cHRlZCBtZXNzYWdlIGhhcyBpbnZhbGlkIHNlcXVlbmNlIG51bWJlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RLbm93bkluYm91bmRTZXF1ZW5jZU51bWJlciA9IHNlcXVlbmNlTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VTZXNzaW9uUHJvcHMoc2Vzc2lvblByb3BlcnRpZXNCdWZmZXIsIHNoYXJlZFNlY3JldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKCkgOiB7IHByb3RvY29sX3ZlcnNpb246ICdsZWdhY3knIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgX190eXBlOiAnY29ubmVjdGVkJywgc2hhcmVkU2VjcmV0LCBzZXNzaW9uUHJvcGVydGllcyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FsbGV0ID0gY3JlYXRlTW9iaWxlV2FsbGV0UHJveHkoc2Vzc2lvblByb3BlcnRpZXMucHJvdG9jb2xfdmVyc2lvbiwgKG1ldGhvZCwgcGFyYW1zKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBuZXh0SnNvblJwY01lc3NhZ2VJZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKHlpZWxkIGVuY3J5cHRKc29uUnBjTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyAhPT0gbnVsbCAmJiBwYXJhbXMgIT09IHZvaWQgMCA/IHBhcmFtcyA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNoYXJlZFNlY3JldCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25ScGNSZXNwb25zZVByb21pc2VzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXV0aG9yaXplJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVhdXRob3JpemUnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHdhbGxldF91cmlfYmFzZSB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdhbGxldF91cmlfYmFzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0U2VjdXJlRW5kcG9pbnRTcGVjaWZpY1VSSSh3YWxsZXRfdXJpX2Jhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHlpZWxkIGNhbGxiYWNrKHdhbGxldCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NlU29ja2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IGRpc3Bvc2VTb2NrZXQ7XG4gICAgICAgICAgICBsZXQgcmV0cnlXYWl0VGltZW91dElkO1xuICAgICAgICAgICAgY29uc3QgYXR0ZW1wdFNvY2tldENvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3Bvc2VTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZVNvY2tldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgX190eXBlOiAnY29ubmVjdGluZycsIGFzc29jaWF0aW9uS2V5cGFpciB9O1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uU3RhcnRUaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQod2Vic29ja2V0VVJMLCBbV0VCU09DS0VUX1BST1RPQ09MX0JJTkFSWV0pO1xuICAgICAgICAgICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgaGFuZGxlT3Blbik7XG4gICAgICAgICAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgaGFuZGxlQ2xvc2UpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGRpc3Bvc2VTb2NrZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQocmV0cnlXYWl0VGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW4nLCBoYW5kbGVPcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgaGFuZGxlQ2xvc2UpO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhdHRlbXB0U29ja2V0Q29ubmVjdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHN0YXJ0UmVtb3RlU2NlbmFyaW8oY29uZmlnKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgYXNzZXJ0U2VjdXJlQ29udGV4dCgpO1xuICAgICAgICBjb25zdCBhc3NvY2lhdGlvbktleXBhaXIgPSB5aWVsZCBnZW5lcmF0ZUFzc29jaWF0aW9uS2V5cGFpcigpO1xuICAgICAgICBjb25zdCB3ZWJzb2NrZXRVUkwgPSBgd3NzOi8vJHtjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcucmVtb3RlSG9zdEF1dGhvcml0eX0vcmVmbGVjdGA7XG4gICAgICAgIGxldCBjb25uZWN0aW9uU3RhcnRUaW1lO1xuICAgICAgICBjb25zdCBnZXROZXh0UmV0cnlEZWxheU1zID0gKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVkdWxlID0gWy4uLldFQlNPQ0tFVF9DT05ORUNUSU9OX0NPTkZJRy5yZXRyeURlbGF5U2NoZWR1bGVNc107XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gKHNjaGVkdWxlLmxlbmd0aCA+IDEgPyBzY2hlZHVsZS5zaGlmdCgpIDogc2NoZWR1bGVbMF0pO1xuICAgICAgICB9KSgpO1xuICAgICAgICBsZXQgbmV4dEpzb25ScGNNZXNzYWdlSWQgPSAxO1xuICAgICAgICBsZXQgbGFzdEtub3duSW5ib3VuZFNlcXVlbmNlTnVtYmVyID0gMDtcbiAgICAgICAgbGV0IGVuY29kaW5nO1xuICAgICAgICBsZXQgc3RhdGUgPSB7IF9fdHlwZTogJ2Rpc2Nvbm5lY3RlZCcgfTtcbiAgICAgICAgbGV0IHNvY2tldDtcbiAgICAgICAgbGV0IGRpc3Bvc2VTb2NrZXQ7XG4gICAgICAgIGxldCBkZWNvZGVCeXRlcyA9IChldnQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChlbmNvZGluZyA9PSAnYmFzZTY0JykgeyAvLyBiYXNlNjQgZW5jb2RpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0geWllbGQgZXZ0LmRhdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvVWludDhBcnJheShtZXNzYWdlKS5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgZXZ0LmRhdGEuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlZmxlY3RvciBDb25uZWN0aW9uIFBoYXNlXG4gICAgICAgIC8vIGhlcmUgd2UgY29ubmVjdCB0byB0aGUgcmVmbGVjdG9yIGFuZCB3YWl0IGZvciB0aGUgUkVGTEVDVE9SX0lEIG1lc3NhZ2UgXG4gICAgICAgIC8vIHNvIHdlIGJ1aWxkIHRoZSBhc3NvY2lhdGlvbiBVUkwgYW5kIHJldHVybiB0aGF0IGJhY2sgdG8gdGhlIGNhbGxlclxuICAgICAgICBjb25zdCBhc3NvY2lhdGlvblVybCA9IHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZU9wZW4gPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9fdHlwZSAhPT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXhwZWN0ZWQgYWRhcHRlciBzdGF0ZSB0byBiZSBgY29ubmVjdGluZ2AgYXQgdGhlIG1vbWVudCB0aGUgd2Vic29ja2V0IG9wZW5zLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBHb3QgXFxgJHtzdGF0ZS5fX3R5cGV9XFxgLmApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQucHJvdG9jb2wuaW5jbHVkZXMoV0VCU09DS0VUX1BST1RPQ09MX0JBU0U2NCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmcgPSAnYmFzZTY0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nID0gJ2JpbmFyeSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgaGFuZGxlT3Blbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldnQud2FzQ2xlYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IF9fdHlwZTogJ2Rpc2Nvbm5lY3RlZCcgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUuRVJST1JfU0VTU0lPTl9DTE9TRUQsIGBUaGUgd2FsbGV0IHNlc3Npb24gZHJvcHBlZCB1bmV4cGVjdGVkbHkgKCR7ZXZ0LmNvZGV9OiAke2V2dC5yZWFzb259KS5gLCB7IGNsb3NlRXZlbnQ6IGV2dCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3Bvc2VTb2NrZXQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVFcnJvciA9IChfZXZ0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZVNvY2tldCgpO1xuICAgICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gY29ubmVjdGlvblN0YXJ0VGltZSA+PSBXRUJTT0NLRVRfQ09OTkVDVElPTl9DT05GSUcudGltZW91dE1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUuRVJST1JfU0VTU0lPTl9USU1FT1VULCBgRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIHdhbGxldCB3ZWJzb2NrZXQgYXQgJHt3ZWJzb2NrZXRVUkx9LmApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRyeURlbGF5TXMgPSBnZXROZXh0UmV0cnlEZWxheU1zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeVdhaXRUaW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dChyZXNvbHZlLCByZXRyeURlbGF5TXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdFNvY2tldENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVJlZmxlY3RvcklkTWVzc2FnZSA9IChldnQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUJ1ZmZlciA9IHlpZWxkIGRlY29kZUJ5dGVzKGV2dCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9fdHlwZSA9PT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZUJ1ZmZlci5ieXRlTGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5jb3VudGVyZWQgdW5leHBlY3RlZCBtZXNzYWdlIHdoaWxlIGNvbm5lY3RpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZsZWN0b3JJZCA9IGdldFJlZmxlY3RvcklkRnJvbUJ5dGVBcnJheShyZXNwb25zZUJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgX190eXBlOiAncmVmbGVjdG9yX2lkX3JlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmxlY3RvcklkOiByZWZsZWN0b3JJZFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3NvY2lhdGlvblVybCA9IHlpZWxkIGdldFJlbW90ZUFzc29jaWF0ZUFuZHJvaWRJbnRlbnRVUkwoYXNzb2NpYXRpb25LZXlwYWlyLnB1YmxpY0tleSwgY29uZmlnLnJlbW90ZUhvc3RBdXRob3JpdHksIHJlZmxlY3RvcklkLCBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuYmFzZVVyaSk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlUmVmbGVjdG9ySWRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhc3NvY2lhdGlvblVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgcmV0cnlXYWl0VGltZW91dElkO1xuICAgICAgICAgICAgY29uc3QgYXR0ZW1wdFNvY2tldENvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3Bvc2VTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZVNvY2tldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgX190eXBlOiAnY29ubmVjdGluZycsIGFzc29jaWF0aW9uS2V5cGFpciB9O1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uU3RhcnRUaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQod2Vic29ja2V0VVJMLCBbV0VCU09DS0VUX1BST1RPQ09MX0JJTkFSWSwgV0VCU09DS0VUX1BST1RPQ09MX0JBU0U2NF0pO1xuICAgICAgICAgICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgaGFuZGxlT3Blbik7XG4gICAgICAgICAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgaGFuZGxlQ2xvc2UpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZVJlZmxlY3RvcklkTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgZGlzcG9zZVNvY2tldCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChyZXRyeVdhaXRUaW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3BlbicsIGhhbmRsZU9wZW4pO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBoYW5kbGVDbG9zZSk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVSZWZsZWN0b3JJZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXR0ZW1wdFNvY2tldENvbm5lY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdhbGxldCBDb25uZWN0aW9uIFBoYXNlXG4gICAgICAgIC8vIGhlcmUgd2UgcmV0dXJuIHRoZSBhc3NvY2lhdGlvbiBVUkwgKGNvbnRhaW5pbmcgdGhlIHJlZmxlY3RvciBJRCkgdG8gdGhlIGNhbGxlciArIFxuICAgICAgICAvLyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdGhlIE1vYmlsZVdhbGxldCBvYmplY3Qgb25jZSB0aGUgd2FsbGV0IGNvbm5lY3RzLlxuICAgICAgICBsZXQgc2Vzc2lvbkVzdGFibGlzaGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBoYW5kbGVDbG9zZTtcbiAgICAgICAgcmV0dXJuIHsgYXNzb2NpYXRpb25VcmwsIGNsb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgICAgIH0sIHdhbGxldDogbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgY29uc3QganNvblJwY1Jlc3BvbnNlUHJvbWlzZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVNZXNzYWdlID0gKGV2dCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUJ1ZmZlciA9IHlpZWxkIGRlY29kZUJ5dGVzKGV2dCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUuX190eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWZsZWN0b3JfaWRfcmVjZWl2ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZUJ1ZmZlci5ieXRlTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5jb3VudGVyZWQgdW5leHBlY3RlZCBtZXNzYWdlIHdoaWxlIGF3YWl0aW5nIHJlZmxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWNkaEtleXBhaXIgPSB5aWVsZCBnZW5lcmF0ZUVDREhLZXlwYWlyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluYXJ5TXNnID0geWllbGQgY3JlYXRlSGVsbG9SZXEoZWNkaEtleXBhaXIucHVibGljS2V5LCBhc3NvY2lhdGlvbktleXBhaXIucHJpdmF0ZUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuY29kaW5nID09ICdiYXNlNjQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKGZyb21VaW50OEFycmF5KGJpbmFyeU1zZykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LnNlbmQoYmluYXJ5TXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdHlwZTogJ2hlbGxvX3JlcV9zZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25QdWJsaWNLZXk6IGFzc29jaWF0aW9uS2V5cGFpci5wdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjZGhQcml2YXRlS2V5OiBlY2RoS2V5cGFpci5wcml2YXRlS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlTnVtYmVyVmVjdG9yID0gcmVzcG9uc2VCdWZmZXIuc2xpY2UoMCwgU0VRVUVOQ0VfTlVNQkVSX0JZVEVTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VxdWVuY2VOdW1iZXIgPSBnZXRTZXF1ZW5jZU51bWJlckZyb21CeXRlQXJyYXkoc2VxdWVuY2VOdW1iZXJWZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VOdW1iZXIgIT09IChsYXN0S25vd25JbmJvdW5kU2VxdWVuY2VOdW1iZXIgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNyeXB0ZWQgbWVzc2FnZSBoYXMgaW52YWxpZCBzZXF1ZW5jZSBudW1iZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0S25vd25JbmJvdW5kU2VxdWVuY2VOdW1iZXIgPSBzZXF1ZW5jZU51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvblJwY01lc3NhZ2UgPSB5aWVsZCBkZWNyeXB0SnNvblJwY01lc3NhZ2UocmVzcG9uc2VCdWZmZXIsIHN0YXRlLnNoYXJlZFNlY3JldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IGpzb25ScGNSZXNwb25zZVByb21pc2VzW2pzb25ScGNNZXNzYWdlLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb25ScGNSZXNwb25zZVByb21pc2VzW2pzb25ScGNNZXNzYWdlLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlc29sdmUoanNvblJwY01lc3NhZ2UucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyUHJvdG9jb2xFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VQcm9taXNlID0ganNvblJwY1Jlc3BvbnNlUHJvbWlzZXNbZS5qc29uUnBjTWVzc2FnZUlkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uUnBjUmVzcG9uc2VQcm9taXNlc1tlLmpzb25ScGNNZXNzYWdlSWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdoZWxsb19yZXFfc2VudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFyZWRTZWNyZXQgPSB5aWVsZCBwYXJzZUhlbGxvUnNwKHJlc3BvbnNlQnVmZmVyLCBzdGF0ZS5hc3NvY2lhdGlvblB1YmxpY0tleSwgc3RhdGUuZWNkaFByaXZhdGVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Qcm9wZXJ0aWVzQnVmZmVyID0gcmVzcG9uc2VCdWZmZXIuc2xpY2UoRU5DT0RFRF9QVUJMSUNfS0VZX0xFTkdUSF9CWVRFUyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblByb3BlcnRpZXMgPSBzZXNzaW9uUHJvcGVydGllc0J1ZmZlci5ieXRlTGVuZ3RoICE9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geWllbGQgKCgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlTnVtYmVyVmVjdG9yID0gc2Vzc2lvblByb3BlcnRpZXNCdWZmZXIuc2xpY2UoMCwgU0VRVUVOQ0VfTlVNQkVSX0JZVEVTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcXVlbmNlTnVtYmVyID0gZ2V0U2VxdWVuY2VOdW1iZXJGcm9tQnl0ZUFycmF5KHNlcXVlbmNlTnVtYmVyVmVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZU51bWJlciAhPT0gKGxhc3RLbm93bkluYm91bmRTZXF1ZW5jZU51bWJlciArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNyeXB0ZWQgbWVzc2FnZSBoYXMgaW52YWxpZCBzZXF1ZW5jZSBudW1iZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RLbm93bkluYm91bmRTZXF1ZW5jZU51bWJlciA9IHNlcXVlbmNlTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2Vzc2lvblByb3BzKHNlc3Npb25Qcm9wZXJ0aWVzQnVmZmVyLCBzaGFyZWRTZWNyZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkoKSA6IHsgcHJvdG9jb2xfdmVyc2lvbjogJ2xlZ2FjeScgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgX190eXBlOiAnY29ubmVjdGVkJywgc2hhcmVkU2VjcmV0LCBzZXNzaW9uUHJvcGVydGllcyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhbGxldCA9IGNyZWF0ZU1vYmlsZVdhbGxldFByb3h5KHNlc3Npb25Qcm9wZXJ0aWVzLnByb3RvY29sX3ZlcnNpb24sIChtZXRob2QsIHBhcmFtcykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IG5leHRKc29uUnBjTWVzc2FnZUlkKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpbmFyeU1zZyA9IHlpZWxkIGVuY3J5cHRKc29uUnBjTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMgIT09IG51bGwgJiYgcGFyYW1zICE9PSB2b2lkIDAgPyBwYXJhbXMgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2hhcmVkU2VjcmV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuY29kaW5nID09ICdiYXNlNjQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChmcm9tVWludDhBcnJheShiaW5hcnlNc2cpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKGJpbmFyeU1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25ScGNSZXNwb25zZVByb21pc2VzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXV0aG9yaXplJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlYXV0aG9yaXplJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd2FsbGV0X3VyaV9iYXNlIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdhbGxldF91cmlfYmFzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRTZWN1cmVFbmRwb2ludFNwZWNpZmljVVJJKHdhbGxldF91cmlfYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkVzdGFibGlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdhbGxldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlU29ja2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbkVzdGFibGlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvcihTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3JDb2RlLkVSUk9SX1NFU1NJT05fQ0xPU0VELCBgVGhlIHdhbGxldCBzZXNzaW9uIHdhcyBjbG9zZWQgYmVmb3JlIGNvbm5lY3Rpb24uYCwgeyBjbG9zZUV2ZW50OiBuZXcgQ2xvc2VFdmVudCgnc29ja2V0IHdhcyBjbG9zZWQgYmVmb3JlIGNvbm5lY3Rpb24nKSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgU29sYW5hQ2xvbmVBdXRob3JpemF0aW9uLCBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3IsIFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvckNvZGUsIFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJQcm90b2NvbEVycm9yLCBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyUHJvdG9jb2xFcnJvckNvZGUsIFNvbGFuYVNpZ25JbldpdGhTb2xhbmEsIFNvbGFuYVNpZ25UcmFuc2FjdGlvbnMsIHN0YXJ0UmVtb3RlU2NlbmFyaW8sIHRyYW5zYWN0IH07XG4iXSwibmFtZXMiOlsiY3JlYXRlU2lnbkluTWVzc2FnZVRleHQiLCJTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyRXJyb3JDb2RlIiwiRVJST1JfQVNTT0NJQVRJT05fUE9SVF9PVVRfT0ZfUkFOR0UiLCJFUlJPUl9SRUZMRUNUT1JfSURfT1VUX09GX1JBTkdFIiwiRVJST1JfRk9SQklEREVOX1dBTExFVF9CQVNFX1VSTCIsIkVSUk9SX1NFQ1VSRV9DT05URVhUX1JFUVVJUkVEIiwiRVJST1JfU0VTU0lPTl9DTE9TRUQiLCJFUlJPUl9TRVNTSU9OX1RJTUVPVVQiLCJFUlJPUl9XQUxMRVRfTk9UX0ZPVU5EIiwiRVJST1JfSU5WQUxJRF9QUk9UT0NPTF9WRVJTSU9OIiwiRVJST1JfQlJPV1NFUl9OT1RfU1VQUE9SVEVEIiwiU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJjb2RlIiwibWVzc2FnZSIsImRhdGEiLCJuYW1lIiwiU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlclByb3RvY29sRXJyb3JDb2RlIiwiRVJST1JfQVVUSE9SSVpBVElPTl9GQUlMRUQiLCJFUlJPUl9JTlZBTElEX1BBWUxPQURTIiwiRVJST1JfTk9UX1NJR05FRCIsIkVSUk9SX05PVF9TVUJNSVRURUQiLCJFUlJPUl9UT09fTUFOWV9QQVlMT0FEUyIsIkVSUk9SX0FUVEVTVF9PUklHSU5fQU5EUk9JRCIsIlNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJQcm90b2NvbEVycm9yIiwianNvblJwY01lc3NhZ2VJZCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwidmFsdWUiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsImVuY29kZSIsImlucHV0Iiwid2luZG93IiwiYnRvYSIsImZyb21VaW50OEFycmF5IiwiYnl0ZUFycmF5IiwidXJsc2FmZSIsImJhc2U2NCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNhbGwiLCJyZXBsYWNlIiwidG9VaW50OEFycmF5IiwiYmFzZTY0RW5jb2RlZEJ5dGVBcnJheSIsIlVpbnQ4QXJyYXkiLCJhdG9iIiwic3BsaXQiLCJtYXAiLCJjIiwiY2hhckNvZGVBdCIsImNyZWF0ZUhlbGxvUmVxIiwiZWNkaFB1YmxpY0tleSIsImFzc29jaWF0aW9uS2V5cGFpclByaXZhdGVLZXkiLCJwdWJsaWNLZXlCdWZmZXIiLCJjcnlwdG8iLCJzdWJ0bGUiLCJleHBvcnRLZXkiLCJzaWduYXR1cmVCdWZmZXIiLCJzaWduIiwiaGFzaCIsInJlc3BvbnNlIiwiYnl0ZUxlbmd0aCIsInNldCIsImNyZWF0ZVNJV1NNZXNzYWdlIiwicGF5bG9hZCIsImNyZWF0ZVNJV1NNZXNzYWdlQmFzZTY0IiwiU29sYW5hU2lnblRyYW5zYWN0aW9ucyIsIlNvbGFuYUNsb25lQXV0aG9yaXphdGlvbiIsIlNvbGFuYVNpZ25JbldpdGhTb2xhbmEiLCJjcmVhdGVNb2JpbGVXYWxsZXRQcm94eSIsInByb3RvY29sVmVyc2lvbiIsInByb3RvY29sUmVxdWVzdEhhbmRsZXIiLCJQcm94eSIsImdldCIsInRhcmdldCIsInAiLCJpbnB1dFBhcmFtcyIsIm1ldGhvZCIsInBhcmFtcyIsImhhbmRsZU1vYmlsZVdhbGxldFJlcXVlc3QiLCJzaWduX2luX3BheWxvYWQiLCJzaWduX2luX3Jlc3VsdCIsInNpZ25JbkZhbGxiYWNrIiwiaGFuZGxlTW9iaWxlV2FsbGV0UmVzcG9uc2UiLCJkZWZpbmVQcm9wZXJ0eSIsImRlbGV0ZVByb3BlcnR5IiwibWV0aG9kTmFtZSIsIm1ldGhvZFBhcmFtcyIsInRvU3RyaW5nIiwibGV0dGVyIiwidG9Mb3dlckNhc2UiLCJjaGFpbiIsImNsdXN0ZXIiLCJhdXRoX3Rva2VuIiwiaWRlbnRpdHkiLCJjYXBhYmlsaXRpZXMiLCJmZWF0dXJlcyIsInN1cHBvcnRzX2Nsb25lX2F1dGhvcml6YXRpb24iLCJwdXNoIiwiT2JqZWN0IiwiYXNzaWduIiwic3VwcG9ydHNfc2lnbl9hbmRfc2VuZF90cmFuc2FjdGlvbnMiLCJpbmNsdWRlcyIsInNpZ25JblBheWxvYWQiLCJhdXRob3JpemF0aW9uUmVzdWx0IiwiX2EiLCJkb21haW4iLCJsb2NhdGlvbiIsImhvc3QiLCJhZGRyZXNzIiwiYWNjb3VudHMiLCJzaXdzTWVzc2FnZSIsInNpZ25NZXNzYWdlUmVzdWx0IiwiYWRkcmVzc2VzIiwicGF5bG9hZHMiLCJzaWduSW5SZXN1bHQiLCJzaWduZWRfbWVzc2FnZSIsInNpZ25hdHVyZSIsInNpZ25lZF9wYXlsb2FkcyIsInNsaWNlIiwibGVuZ3RoIiwiU0VRVUVOQ0VfTlVNQkVSX0JZVEVTIiwiY3JlYXRlU2VxdWVuY2VOdW1iZXJWZWN0b3IiLCJzZXF1ZW5jZU51bWJlciIsIkFycmF5QnVmZmVyIiwidmlldyIsIkRhdGFWaWV3Iiwic2V0VWludDMyIiwiSU5JVElBTElaQVRJT05fVkVDVE9SX0JZVEVTIiwiRU5DT0RFRF9QVUJMSUNfS0VZX0xFTkdUSF9CWVRFUyIsImVuY3J5cHRNZXNzYWdlIiwicGxhaW50ZXh0Iiwic2hhcmVkU2VjcmV0Iiwic2VxdWVuY2VOdW1iZXJWZWN0b3IiLCJpbml0aWFsaXphdGlvblZlY3RvciIsImdldFJhbmRvbVZhbHVlcyIsImNpcGhlcnRleHQiLCJlbmNyeXB0IiwiZ2V0QWxnb3JpdGhtUGFyYW1zIiwiVGV4dEVuY29kZXIiLCJkZWNyeXB0TWVzc2FnZSIsInBsYWludGV4dEJ1ZmZlciIsImRlY3J5cHQiLCJnZXRVdGY4RGVjb2RlciIsImRlY29kZSIsImFkZGl0aW9uYWxEYXRhIiwiaXYiLCJ0YWdMZW5ndGgiLCJfdXRmOERlY29kZXIiLCJ1bmRlZmluZWQiLCJUZXh0RGVjb2RlciIsImdlbmVyYXRlQXNzb2NpYXRpb25LZXlwYWlyIiwiZ2VuZXJhdGVLZXkiLCJuYW1lZEN1cnZlIiwiZ2VuZXJhdGVFQ0RIS2V5cGFpciIsImFycmF5QnVmZmVyVG9CYXNlNjRTdHJpbmciLCJidWZmZXIiLCJiaW5hcnkiLCJieXRlcyIsImxlbiIsImlpIiwiZ2V0UmFuZG9tQXNzb2NpYXRpb25Qb3J0IiwiYXNzZXJ0QXNzb2NpYXRpb25Qb3J0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicG9ydCIsImdldFN0cmluZ1dpdGhVUkxVbnNhZmVDaGFyYWN0ZXJzUmVwbGFjZWQiLCJ1bnNhZmVCYXNlNjRFbmNvZGVkU3RyaW5nIiwibSIsIklOVEVOVF9OQU1FIiwiZ2V0UGF0aFBhcnRzIiwicGF0aFN0cmluZyIsImdldEludGVudFVSTCIsIm1ldGhvZFBhdGhuYW1lIiwiaW50ZW50VXJsQmFzZSIsImJhc2VVcmwiLCJVUkwiLCJwcm90b2NvbCIsInBhdGhuYW1lIiwic3RhcnRzV2l0aCIsImpvaW4iLCJnZXRBc3NvY2lhdGVBbmRyb2lkSW50ZW50VVJMIiwiYXNzb2NpYXRpb25QdWJsaWNLZXkiLCJwdXRhdGl2ZVBvcnQiLCJhc3NvY2lhdGlvblVSTEJhc2UiLCJwcm90b2NvbFZlcnNpb25zIiwiYXNzb2NpYXRpb25Qb3J0IiwiZXhwb3J0ZWRLZXkiLCJlbmNvZGVkS2V5IiwidXJsIiwic2VhcmNoUGFyYW1zIiwiZm9yRWFjaCIsInZlcnNpb24iLCJnZXRSZW1vdGVBc3NvY2lhdGVBbmRyb2lkSW50ZW50VVJMIiwiaG9zdEF1dGhvcml0eSIsInJlZmxlY3RvcklkIiwiZW5jcnlwdEpzb25ScGNNZXNzYWdlIiwianNvblJwY01lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiaWQiLCJkZWNyeXB0SnNvblJwY01lc3NhZ2UiLCJwYXJzZSIsImhhc093blByb3BlcnR5IiwiZXJyb3IiLCJwYXJzZUhlbGxvUnNwIiwicGF5bG9hZEJ1ZmZlciIsImVjZGhQcml2YXRlS2V5IiwiYXNzb2NpYXRpb25QdWJsaWNLZXlCdWZmZXIiLCJ3YWxsZXRQdWJsaWNLZXkiLCJhbGwiLCJpbXBvcnRLZXkiLCJkZXJpdmVCaXRzIiwicHVibGljIiwiZWNkaFNlY3JldEtleSIsImFlc0tleU1hdGVyaWFsVmFsIiwiZGVyaXZlS2V5Iiwic2FsdCIsImluZm8iLCJwYXJzZVNlc3Npb25Qcm9wcyIsImpzb25Qcm9wZXJ0aWVzIiwidiIsInByb3RvY29sX3ZlcnNpb24iLCJCcm93c2VyIiwiRmlyZWZveCIsIk90aGVyIiwiYXNzZXJ0VW5yZWFjaGFibGUiLCJ4IiwiZ2V0QnJvd3NlciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJnZXREZXRlY3Rpb25Qcm9taXNlIiwiY2xlYW51cCIsImNsZWFyVGltZW91dCIsInRpbWVvdXRJZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVCbHVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJfZnJhbWUiLCJsYXVuY2hVcmxUaHJvdWdoSGlkZGVuRnJhbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50V2luZG93IiwiaHJlZiIsImxhdW5jaEFzc29jaWF0aW9uIiwiYXNzb2NpYXRpb25VcmwiLCJicm93c2VyIiwiZGV0ZWN0aW9uUHJvbWlzZSIsInN0YXJ0U2Vzc2lvbiIsInJhbmRvbUFzc29jaWF0aW9uUG9ydCIsIldFQlNPQ0tFVF9DT05ORUNUSU9OX0NPTkZJRyIsInJldHJ5RGVsYXlTY2hlZHVsZU1zIiwidGltZW91dE1zIiwiV0VCU09DS0VUX1BST1RPQ09MX0JJTkFSWSIsIldFQlNPQ0tFVF9QUk9UT0NPTF9CQVNFNjQiLCJhc3NlcnRTZWN1cmVDb250ZXh0IiwiaXNTZWN1cmVDb250ZXh0IiwiYXNzZXJ0U2VjdXJlRW5kcG9pbnRTcGVjaWZpY1VSSSIsIndhbGxldFVyaUJhc2UiLCJnZXRTZXF1ZW5jZU51bWJlckZyb21CeXRlQXJyYXkiLCJnZXRVaW50MzIiLCJkZWNvZGVWYXJMb25nIiwibCIsImxpbWl0Iiwib2Zmc2V0IiwiYiIsIlJhbmdlRXJyb3IiLCJnZXRSZWZsZWN0b3JJZEZyb21CeXRlQXJyYXkiLCJ0cmFuc2FjdCIsImNhbGxiYWNrIiwiY29uZmlnIiwiYXNzb2NpYXRpb25LZXlwYWlyIiwic2Vzc2lvblBvcnQiLCJwdWJsaWNLZXkiLCJiYXNlVXJpIiwid2Vic29ja2V0VVJMIiwiY29ubmVjdGlvblN0YXJ0VGltZSIsImdldE5leHRSZXRyeURlbGF5TXMiLCJzY2hlZHVsZSIsInNoaWZ0IiwibmV4dEpzb25ScGNNZXNzYWdlSWQiLCJsYXN0S25vd25JbmJvdW5kU2VxdWVuY2VOdW1iZXIiLCJzdGF0ZSIsIl9fdHlwZSIsInNvY2tldCIsImpzb25ScGNSZXNwb25zZVByb21pc2VzIiwiaGFuZGxlT3BlbiIsImNvbnNvbGUiLCJ3YXJuIiwiZWNkaEtleXBhaXIiLCJzZW5kIiwicHJpdmF0ZUtleSIsImhhbmRsZUNsb3NlIiwiZXZ0Iiwid2FzQ2xlYW4iLCJyZWFzb24iLCJjbG9zZUV2ZW50IiwiZGlzcG9zZVNvY2tldCIsImhhbmRsZUVycm9yIiwiX2V2dCIsIkRhdGUiLCJub3ciLCJyZXRyeURlbGF5TXMiLCJyZXRyeVdhaXRUaW1lb3V0SWQiLCJhdHRlbXB0U29ja2V0Q29ubmVjdGlvbiIsImhhbmRsZU1lc3NhZ2UiLCJyZXNwb25zZUJ1ZmZlciIsImFycmF5QnVmZmVyIiwicmVzcG9uc2VQcm9taXNlIiwic2Vzc2lvblByb3BlcnRpZXNCdWZmZXIiLCJzZXNzaW9uUHJvcGVydGllcyIsIndhbGxldCIsImpzb25ycGMiLCJ3YWxsZXRfdXJpX2Jhc2UiLCJjbG9zZSIsIldlYlNvY2tldCIsInN0YXJ0UmVtb3RlU2NlbmFyaW8iLCJyZW1vdGVIb3N0QXV0aG9yaXR5IiwiZW5jb2RpbmciLCJkZWNvZGVCeXRlcyIsImhhbmRsZVJlZmxlY3RvcklkTWVzc2FnZSIsInNlc3Npb25Fc3RhYmxpc2hlZCIsImJpbmFyeU1zZyIsIkNsb3NlRXZlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@solana-mobile/mobile-wallet-adapter-protocol/lib/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@solana-mobile/wallet-adapter-mobile/lib/esm/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@solana-mobile/wallet-adapter-mobile/lib/esm/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalSolanaMobileWalletAdapter: () => (/* binding */ LocalSolanaMobileWalletAdapter),\n/* harmony export */   RemoteSolanaMobileWalletAdapter: () => (/* binding */ RemoteSolanaMobileWalletAdapter),\n/* harmony export */   SolanaMobileWalletAdapter: () => (/* binding */ SolanaMobileWalletAdapter),\n/* harmony export */   SolanaMobileWalletAdapterWalletName: () => (/* binding */ SolanaMobileWalletAdapterWalletName),\n/* harmony export */   createDefaultAddressSelector: () => (/* binding */ createDefaultAddressSelector),\n/* harmony export */   createDefaultAuthorizationResultCache: () => (/* binding */ createDefaultAuthorizationResultCache),\n/* harmony export */   createDefaultWalletNotFoundHandler: () => (/* binding */ createDefaultWalletNotFoundHandler)\n/* harmony export */ });\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(ssr)/./node_modules/@solana/wallet-adapter-base/lib/esm/signer.js\");\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(ssr)/./node_modules/@solana/wallet-adapter-base/lib/esm/adapter.js\");\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"(ssr)/./node_modules/@solana/wallet-adapter-base/lib/esm/errors.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"(ssr)/./node_modules/@solana/web3.js/lib/index.esm.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signIn.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signMessage.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signAndSendTransaction.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signTransaction.js\");\n/* harmony import */ var _solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana-mobile/wallet-standard-mobile */ \"(ssr)/./node_modules/@solana-mobile/wallet-standard-mobile/lib/esm/index.js\");\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ function __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\n false || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n false || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n/** Name of the feature. */ const StandardConnect = \"standard:connect\";\n/** Name of the feature. */ const StandardDisconnect = \"standard:disconnect\";\n/** Name of the feature. */ const StandardEvents = \"standard:events\";\n false || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n false || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n false || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n false || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nfunction fromUint8Array(byteArray) {\n    return window.btoa(String.fromCharCode.call(null, ...byteArray));\n}\nfunction getIsSupported() {\n    return  false && 0;\n}\nvar _BaseSolanaMobileWalletAdapter_instances, _BaseSolanaMobileWalletAdapter_wallet, _BaseSolanaMobileWalletAdapter_connecting, _BaseSolanaMobileWalletAdapter_readyState, _BaseSolanaMobileWalletAdapter_accountSelector, _BaseSolanaMobileWalletAdapter_selectedAccount, _BaseSolanaMobileWalletAdapter_publicKey, _BaseSolanaMobileWalletAdapter_handleChangeEvent, _BaseSolanaMobileWalletAdapter_connect, _BaseSolanaMobileWalletAdapter_declareWalletAsInstalled, _BaseSolanaMobileWalletAdapter_assertIsAuthorized, _BaseSolanaMobileWalletAdapter_performSignTransactions, _BaseSolanaMobileWalletAdapter_runWithGuard;\nconst SolanaMobileWalletAdapterWalletName = \"Mobile Wallet Adapter\";\nconst SIGNATURE_LENGTH_IN_BYTES = 64;\nfunction isVersionedTransaction(transaction) {\n    return \"version\" in transaction;\n}\nfunction chainOrClusterToChainId(chain) {\n    switch(chain){\n        case \"mainnet-beta\":\n            return \"solana:mainnet\";\n        case \"testnet\":\n            return \"solana:testnet\";\n        case \"devnet\":\n            return \"solana:devnet\";\n        default:\n            return chain;\n    }\n}\nclass BaseSolanaMobileWalletAdapter extends _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_2__.BaseSignInMessageSignerWalletAdapter {\n    constructor(wallet, config){\n        super();\n        _BaseSolanaMobileWalletAdapter_instances.add(this);\n        this.supportedTransactionVersions = new Set(// FIXME(#244): We can't actually know what versions are supported until we know which wallet we're talking to.\n        [\n            \"legacy\",\n            0\n        ]);\n        _BaseSolanaMobileWalletAdapter_wallet.set(this, void 0);\n        _BaseSolanaMobileWalletAdapter_connecting.set(this, false);\n        _BaseSolanaMobileWalletAdapter_readyState.set(this, getIsSupported() ? _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Loadable : _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Unsupported);\n        _BaseSolanaMobileWalletAdapter_accountSelector.set(this, void 0);\n        _BaseSolanaMobileWalletAdapter_selectedAccount.set(this, void 0);\n        _BaseSolanaMobileWalletAdapter_publicKey.set(this, void 0);\n        _BaseSolanaMobileWalletAdapter_handleChangeEvent.set(this, (properties)=>__awaiter(this, void 0, void 0, function*() {\n                if (properties.accounts && properties.accounts.length > 0) {\n                    __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_declareWalletAsInstalled).call(this);\n                    const nextSelectedAccount = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_accountSelector, \"f\").call(this, properties.accounts);\n                    if (nextSelectedAccount !== __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, \"f\")) {\n                        __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, nextSelectedAccount, \"f\");\n                        __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_publicKey, undefined, \"f\");\n                        this.emit(\"connect\", // Having just set `this.#selectedAccount`, `this.publicKey` is definitely non-null\n                        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                        this.publicKey);\n                    }\n                }\n            }));\n        // this.#chain = chainOrClusterToChainId(config.chain);\n        __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_accountSelector, (accounts)=>__awaiter(this, void 0, void 0, function*() {\n                var _a;\n                const selectedBase64EncodedAddress = yield config.addressSelector.select(accounts.map(({ publicKey })=>fromUint8Array(publicKey)));\n                return (_a = accounts.find(({ publicKey })=>fromUint8Array(publicKey) === selectedBase64EncodedAddress)) !== null && _a !== void 0 ? _a : accounts[0];\n            }), \"f\");\n        __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_wallet, wallet, \"f\");\n        __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[StandardEvents].on(\"change\", __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_handleChangeEvent, \"f\"));\n        this.name = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").name;\n        this.icon = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").icon;\n        this.url = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").url;\n    // TODO: evaluate if this logic should be kept - it seems to create a nasty bug where \n    //  the wallet tries to auto connect on page load and gets blocked by the popup blocker\n    // if (this.#readyState !== WalletReadyState.Unsupported) {\n    //     config.authorizationResultCache.get().then((authorizationResult) => {\n    //         if (authorizationResult) {\n    //             // Having a prior authorization result is, right now, the best\n    //             // indication that a mobile wallet is installed. There is no API\n    //             // we can use to test for whether the association URI is supported.\n    //             this.#declareWalletAsInstalled();\n    //         }\n    //     });\n    // }\n    }\n    get publicKey() {\n        var _a;\n        if (!__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_publicKey, \"f\") && __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, \"f\")) {\n            try {\n                __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_publicKey, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, \"f\").publicKey), \"f\");\n            } catch (e) {\n                throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletPublicKeyError(e instanceof Error && (e === null || e === void 0 ? void 0 : e.message) || \"Unknown error\", e);\n            }\n        }\n        return (_a = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_publicKey, \"f\")) !== null && _a !== void 0 ? _a : null;\n    }\n    get connected() {\n        return __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").connected;\n    }\n    get connecting() {\n        return __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_connecting, \"f\");\n    }\n    get readyState() {\n        return __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_readyState, \"f\");\n    }\n    /** @deprecated Use `autoConnect()` instead. */ autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED() {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield this.autoConnect();\n        });\n    }\n    autoConnect() {\n        return __awaiter(this, void 0, void 0, function*() {\n            __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_connect).call(this, true);\n        });\n    }\n    connect() {\n        return __awaiter(this, void 0, void 0, function*() {\n            __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_connect).call(this);\n        });\n    }\n    /** @deprecated Use `connect()` or `autoConnect()` instead. */ performAuthorization(signInPayload) {\n        return __awaiter(this, void 0, void 0, function*() {\n            try {\n                const cachedAuthorizationResult = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").cachedAuthorizationResult;\n                if (cachedAuthorizationResult) {\n                    yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[StandardConnect].connect({\n                        silent: true\n                    });\n                    return cachedAuthorizationResult;\n                }\n                if (signInPayload) {\n                    yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignIn].signIn(signInPayload);\n                } else yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[StandardConnect].connect();\n                const authorizationResult = yield yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").cachedAuthorizationResult;\n                return authorizationResult;\n            } catch (e) {\n                throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError(e instanceof Error && e.message || \"Unknown error\", e);\n            }\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function*() {\n            // return await this.#runWithGuard(this.#wallet.features[StandardDisconnect].disconnect);\n            return yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                    __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_connecting, false, \"f\");\n                    __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_publicKey, undefined, \"f\");\n                    __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, undefined, \"f\");\n                    yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[StandardDisconnect].disconnect();\n                    this.emit(\"disconnect\");\n                }));\n        });\n    }\n    signIn(input) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                    var _a;\n                    if (__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_readyState, \"f\") !== _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Installed && __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_readyState, \"f\") !== _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Loadable) {\n                        throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotReadyError();\n                    }\n                    __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_connecting, true, \"f\");\n                    try {\n                        const outputs = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignIn].signIn(Object.assign(Object.assign({}, input), {\n                            domain: (_a = input === null || input === void 0 ? void 0 : input.domain) !== null && _a !== void 0 ? _a : window.location.host\n                        }));\n                        if (outputs.length > 0) {\n                            return outputs[0];\n                        } else {\n                            throw new Error(\"Sign in failed, no sign in result returned by wallet\");\n                        }\n                    } catch (e) {\n                        throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError(e instanceof Error && e.message || \"Unknown error\", e);\n                    } finally{\n                        __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_connecting, false, \"f\");\n                    }\n                }));\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                    const account = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_assertIsAuthorized).call(this);\n                    try {\n                        const outputs = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_6__.SolanaSignMessage].signMessage({\n                            account,\n                            message: message\n                        });\n                        return outputs[0].signature;\n                    } catch (error) {\n                        throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletSignMessageError(error === null || error === void 0 ? void 0 : error.message, error);\n                    }\n                }));\n        });\n    }\n    sendTransaction(transaction, connection, options) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                    const account = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_assertIsAuthorized).call(this);\n                    try {\n                        function getTargetCommitment() {\n                            let targetCommitment;\n                            switch(connection.commitment){\n                                case \"confirmed\":\n                                case \"finalized\":\n                                case \"processed\":\n                                    targetCommitment = connection.commitment;\n                                    break;\n                                default:\n                                    targetCommitment = \"finalized\";\n                            }\n                            let targetPreflightCommitment;\n                            switch(options === null || options === void 0 ? void 0 : options.preflightCommitment){\n                                case \"confirmed\":\n                                case \"finalized\":\n                                case \"processed\":\n                                    targetPreflightCommitment = options.preflightCommitment;\n                                    break;\n                                case undefined:\n                                    targetPreflightCommitment = targetCommitment;\n                                    break;\n                                default:\n                                    targetPreflightCommitment = \"finalized\";\n                            }\n                            const preflightCommitmentScore = targetPreflightCommitment === \"finalized\" ? 2 : targetPreflightCommitment === \"confirmed\" ? 1 : 0;\n                            const targetCommitmentScore = targetCommitment === \"finalized\" ? 2 : targetCommitment === \"confirmed\" ? 1 : 0;\n                            return preflightCommitmentScore < targetCommitmentScore ? targetPreflightCommitment : targetCommitment;\n                        }\n                        if (_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__.SolanaSignAndSendTransaction in __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features) {\n                            const chain = chainOrClusterToChainId(__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").currentAuthorization.chain);\n                            const [signature] = (yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__.SolanaSignAndSendTransaction].signAndSendTransaction({\n                                account,\n                                transaction: transaction.serialize(),\n                                chain: chain,\n                                options: options ? {\n                                    skipPreflight: options.skipPreflight,\n                                    maxRetries: options.maxRetries\n                                } : undefined\n                            })).map((output)=>{\n                                return fromUint8Array(output.signature);\n                            });\n                            return signature;\n                        } else {\n                            const [signedTransaction] = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_performSignTransactions).call(this, [\n                                transaction\n                            ]);\n                            if (isVersionedTransaction(signedTransaction)) {\n                                return yield connection.sendTransaction(signedTransaction);\n                            } else {\n                                const serializedTransaction = signedTransaction.serialize();\n                                return yield connection.sendRawTransaction(serializedTransaction, Object.assign(Object.assign({}, options), {\n                                    preflightCommitment: getTargetCommitment()\n                                }));\n                            }\n                        }\n                    } catch (error) {\n                        throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletSendTransactionError(error === null || error === void 0 ? void 0 : error.message, error);\n                    }\n                }));\n        });\n    }\n    signTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                    const [signedTransaction] = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_performSignTransactions).call(this, [\n                        transaction\n                    ]);\n                    return signedTransaction;\n                }));\n        });\n    }\n    signAllTransactions(transactions) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                    const signedTransactions = yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_performSignTransactions).call(this, transactions);\n                    return signedTransactions;\n                }));\n        });\n    }\n}\n_BaseSolanaMobileWalletAdapter_wallet = new WeakMap(), _BaseSolanaMobileWalletAdapter_connecting = new WeakMap(), _BaseSolanaMobileWalletAdapter_readyState = new WeakMap(), _BaseSolanaMobileWalletAdapter_accountSelector = new WeakMap(), _BaseSolanaMobileWalletAdapter_selectedAccount = new WeakMap(), _BaseSolanaMobileWalletAdapter_publicKey = new WeakMap(), _BaseSolanaMobileWalletAdapter_handleChangeEvent = new WeakMap(), _BaseSolanaMobileWalletAdapter_instances = new WeakSet(), _BaseSolanaMobileWalletAdapter_connect = function _BaseSolanaMobileWalletAdapter_connect(autoConnect = false) {\n    return __awaiter(this, void 0, void 0, function*() {\n        if (this.connecting || this.connected) {\n            return;\n        }\n        return yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_runWithGuard).call(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                if (__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_readyState, \"f\") !== _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Installed && __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_readyState, \"f\") !== _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Loadable) {\n                    throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotReadyError();\n                }\n                __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_connecting, true, \"f\");\n                try {\n                    yield __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[StandardConnect].connect({\n                        silent: autoConnect\n                    });\n                } catch (e) {\n                    throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletConnectionError(e instanceof Error && e.message || \"Unknown error\", e);\n                } finally{\n                    __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_connecting, false, \"f\");\n                }\n            }));\n    });\n}, _BaseSolanaMobileWalletAdapter_declareWalletAsInstalled = function _BaseSolanaMobileWalletAdapter_declareWalletAsInstalled() {\n    if (__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_readyState, \"f\") !== _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Installed) {\n        this.emit(\"readyStateChange\", __classPrivateFieldSet(this, _BaseSolanaMobileWalletAdapter_readyState, _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_3__.WalletReadyState.Installed, \"f\"));\n    }\n}, _BaseSolanaMobileWalletAdapter_assertIsAuthorized = function _BaseSolanaMobileWalletAdapter_assertIsAuthorized() {\n    if (!__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").isAuthorized || !__classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, \"f\")) throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletNotConnectedError();\n    return __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_selectedAccount, \"f\");\n}, _BaseSolanaMobileWalletAdapter_performSignTransactions = function _BaseSolanaMobileWalletAdapter_performSignTransactions(transactions) {\n    return __awaiter(this, void 0, void 0, function*() {\n        const account = __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_instances, \"m\", _BaseSolanaMobileWalletAdapter_assertIsAuthorized).call(this);\n        try {\n            if (_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_8__.SolanaSignTransaction in __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features) {\n                return __classPrivateFieldGet(this, _BaseSolanaMobileWalletAdapter_wallet, \"f\").features[_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_8__.SolanaSignTransaction].signTransaction(...transactions.map((value)=>{\n                    return {\n                        account,\n                        transaction: value.serialize()\n                    };\n                })).then((outputs)=>{\n                    return outputs.map((output)=>{\n                        const byteArray = output.signedTransaction;\n                        const numSignatures = byteArray[0];\n                        const messageOffset = numSignatures * SIGNATURE_LENGTH_IN_BYTES + 1;\n                        const version = _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedMessage.deserializeMessageVersion(byteArray.slice(messageOffset, byteArray.length));\n                        if (version === \"legacy\") {\n                            return _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.Transaction.from(byteArray);\n                        } else {\n                            return _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedTransaction.deserialize(byteArray);\n                        }\n                    });\n                });\n            } else {\n                throw new Error(\"Connected wallet does not support signing transactions\");\n            }\n        } catch (error) {\n            throw new _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_4__.WalletSignTransactionError(error === null || error === void 0 ? void 0 : error.message, error);\n        }\n    });\n}, _BaseSolanaMobileWalletAdapter_runWithGuard = function _BaseSolanaMobileWalletAdapter_runWithGuard(callback) {\n    return __awaiter(this, void 0, void 0, function*() {\n        try {\n            return yield callback();\n        } catch (e) {\n            this.emit(\"error\", e);\n            throw e;\n        }\n    });\n};\nclass LocalSolanaMobileWalletAdapter extends BaseSolanaMobileWalletAdapter {\n    constructor(config){\n        var _a;\n        const chain = chainOrClusterToChainId((_a = config.chain) !== null && _a !== void 0 ? _a : config.cluster);\n        super(new _solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__.LocalSolanaMobileWalletAdapterWallet({\n            appIdentity: config.appIdentity,\n            authorizationCache: {\n                set: config.authorizationResultCache.set,\n                get: ()=>__awaiter(this, void 0, void 0, function*() {\n                        const authorizationResult = yield config.authorizationResultCache.get();\n                        if (authorizationResult && \"chain\" in authorizationResult) {\n                            return authorizationResult;\n                        } else if (authorizationResult) {\n                            return Object.assign(Object.assign({}, authorizationResult), {\n                                chain: chain\n                            });\n                        } else return undefined;\n                    }),\n                clear: config.authorizationResultCache.clear\n            },\n            chains: [\n                chain\n            ],\n            chainSelector: (0,_solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__.createDefaultChainSelector)(),\n            onWalletNotFound: ()=>__awaiter(this, void 0, void 0, function*() {\n                    config.onWalletNotFound(this);\n                })\n        }), {\n            addressSelector: config.addressSelector,\n            chain: chain\n        });\n    }\n}\nclass RemoteSolanaMobileWalletAdapter extends BaseSolanaMobileWalletAdapter {\n    constructor(config){\n        const chain = chainOrClusterToChainId(config.chain);\n        super(new _solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__.RemoteSolanaMobileWalletAdapterWallet({\n            appIdentity: config.appIdentity,\n            authorizationCache: {\n                set: config.authorizationResultCache.set,\n                get: ()=>__awaiter(this, void 0, void 0, function*() {\n                        const authorizationResult = yield config.authorizationResultCache.get();\n                        if (authorizationResult && \"chain\" in authorizationResult) {\n                            return authorizationResult;\n                        } else if (authorizationResult) {\n                            return Object.assign(Object.assign({}, authorizationResult), {\n                                chain: chain\n                            });\n                        } else return undefined;\n                    }),\n                clear: config.authorizationResultCache.clear\n            },\n            chains: [\n                chain\n            ],\n            chainSelector: (0,_solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__.createDefaultChainSelector)(),\n            remoteHostAuthority: config.remoteHostAuthority,\n            onWalletNotFound: ()=>__awaiter(this, void 0, void 0, function*() {\n                    config.onWalletNotFound(this);\n                })\n        }), {\n            addressSelector: config.addressSelector,\n            chain: chain\n        });\n    }\n}\nclass SolanaMobileWalletAdapter extends LocalSolanaMobileWalletAdapter {\n}\nfunction createDefaultAddressSelector() {\n    return {\n        select (addresses) {\n            return __awaiter(this, void 0, void 0, function*() {\n                return addresses[0];\n            });\n        }\n    };\n}\nfunction createDefaultAuthorizationResultCache() {\n    return (0,_solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__.createDefaultAuthorizationCache)();\n}\nfunction defaultWalletNotFoundHandler(mobileWalletAdapter) {\n    return __awaiter(this, void 0, void 0, function*() {\n        return (0,_solana_mobile_wallet_standard_mobile__WEBPACK_IMPORTED_MODULE_1__.defaultErrorModalWalletNotFoundHandler)();\n    });\n}\nfunction createDefaultWalletNotFoundHandler() {\n    return defaultWalletNotFoundHandler;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNvbGFuYS1tb2JpbGUvd2FsbGV0LWFkYXB0ZXItbW9iaWxlL2xpYi9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnUjtBQUMvSztBQUN1QztBQUNpRztBQUV6Tzs7Ozs7Ozs7Ozs7Ozs4RUFhOEUsR0FFOUUsU0FBU3NCLFVBQVVDLE9BQU8sRUFBRUMsVUFBVSxFQUFFQyxDQUFDLEVBQUVDLFNBQVM7SUFDaEQsU0FBU0MsTUFBTUMsS0FBSztRQUFJLE9BQU9BLGlCQUFpQkgsSUFBSUcsUUFBUSxJQUFJSCxFQUFFLFNBQVVJLE9BQU87WUFBSUEsUUFBUUQ7UUFBUTtJQUFJO0lBQzNHLE9BQU8sSUFBS0gsQ0FBQUEsS0FBTUEsQ0FBQUEsSUFBSUssT0FBTSxDQUFDLEVBQUcsU0FBVUQsT0FBTyxFQUFFRSxNQUFNO1FBQ3JELFNBQVNDLFVBQVVKLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxVQUFVUSxJQUFJLENBQUNOO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDMUYsU0FBU0MsU0FBU1IsS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFNBQVMsQ0FBQyxRQUFRLENBQUNFO1lBQVMsRUFBRSxPQUFPTyxHQUFHO2dCQUFFSixPQUFPSTtZQUFJO1FBQUU7UUFDN0YsU0FBU0YsS0FBS0ksTUFBTTtZQUFJQSxPQUFPQyxJQUFJLEdBQUdULFFBQVFRLE9BQU9ULEtBQUssSUFBSUQsTUFBTVUsT0FBT1QsS0FBSyxFQUFFVyxJQUFJLENBQUNQLFdBQVdJO1FBQVc7UUFDN0dILEtBQUssQ0FBQ1AsWUFBWUEsVUFBVWMsS0FBSyxDQUFDakIsU0FBU0MsY0FBYyxFQUFFLEdBQUdVLElBQUk7SUFDdEU7QUFDSjtBQUVBLFNBQVNPLHVCQUF1QkMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUNwRCxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNOLFlBQVlHLElBQUlBLEVBQUVqQixLQUFLLEdBQUdlLE1BQU1NLEdBQUcsQ0FBQ1A7QUFDeEY7QUFFQSxTQUFTUSx1QkFBdUJSLFFBQVEsRUFBRUMsS0FBSyxFQUFFZixLQUFLLEVBQUVnQixJQUFJLEVBQUVDLENBQUM7SUFDM0QsSUFBSUQsU0FBUyxLQUFLLE1BQU0sSUFBSUUsVUFBVTtJQUN0QyxJQUFJRixTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU8sU0FBVSxNQUFNRCxFQUFFRyxJQUFJLENBQUNOLFVBQVVkLFNBQVNpQixJQUFJQSxFQUFFakIsS0FBSyxHQUFHQSxRQUFRZSxNQUFNUSxHQUFHLENBQUNULFVBQVVkLFFBQVNBO0FBQ3hHO0FBRUN3QixNQUE2QyxJQUFLLFNBQVVWLFFBQVEsRUFBRUMsS0FBSyxFQUFFZixLQUFLLEVBQUVnQixJQUFJLEVBQUVDLENBQUM7SUFDeEYsSUFBSUQsU0FBUyxLQUFLLE1BQU0sSUFBSUUsVUFBVTtJQUN0QyxJQUFJRixTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU8sU0FBVSxNQUFNRCxFQUFFRyxJQUFJLENBQUNOLFVBQVVkLFNBQVNpQixJQUFJQSxFQUFFakIsS0FBSyxHQUFHQSxRQUFRZSxNQUFNUSxHQUFHLENBQUNULFVBQVVkLFFBQVNBO0FBQ3hHO0FBQ0N3QixNQUE2QyxJQUFLLFNBQVVWLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLENBQUM7SUFDakYsSUFBSUQsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0gsVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNFLElBQUksQ0FBQ0YsTUFBTUksR0FBRyxDQUFDTCxXQUFXLE1BQU0sSUFBSUksVUFBVTtJQUN2RyxPQUFPRixTQUFTLE1BQU1DLElBQUlELFNBQVMsTUFBTUMsRUFBRUcsSUFBSSxDQUFDTixZQUFZRyxJQUFJQSxFQUFFakIsS0FBSyxHQUFHZSxNQUFNTSxHQUFHLENBQUNQO0FBQ3hGO0FBRUEseUJBQXlCLEdBQ3pCLE1BQU1XLGtCQUFrQjtBQUV4Qix5QkFBeUIsR0FDekIsTUFBTUMscUJBQXFCO0FBRTNCLHlCQUF5QixHQUN6QixNQUFNQyxpQkFBaUI7QUFFdEJILE1BQTZDLElBQUssU0FBVVYsUUFBUSxFQUFFQyxLQUFLLEVBQUVmLEtBQUssRUFBRWdCLElBQUksRUFBRUMsQ0FBQztJQUN4RixJQUFJRCxTQUFTLEtBQUssTUFBTSxJQUFJRSxVQUFVO0lBQ3RDLElBQUlGLFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9ILFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRSxJQUFJLENBQUNGLE1BQU1JLEdBQUcsQ0FBQ0wsV0FBVyxNQUFNLElBQUlJLFVBQVU7SUFDdkcsT0FBTyxTQUFVLE1BQU1ELEVBQUVHLElBQUksQ0FBQ04sVUFBVWQsU0FBU2lCLElBQUlBLEVBQUVqQixLQUFLLEdBQUdBLFFBQVFlLE1BQU1RLEdBQUcsQ0FBQ1QsVUFBVWQsUUFBU0E7QUFDeEc7QUFDQ3dCLE1BQTZDLElBQUssU0FBVVYsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUNqRixJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNOLFlBQVlHLElBQUlBLEVBQUVqQixLQUFLLEdBQUdlLE1BQU1NLEdBQUcsQ0FBQ1A7QUFDeEY7QUFFQ1UsTUFBNkMsSUFBSyxTQUFVVixRQUFRLEVBQUVDLEtBQUssRUFBRWYsS0FBSyxFQUFFZ0IsSUFBSSxFQUFFQyxDQUFDO0lBQ3hGLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0gsVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNFLElBQUksQ0FBQ0YsTUFBTUksR0FBRyxDQUFDTCxXQUFXLE1BQU0sSUFBSUksVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDTixVQUFVZCxTQUFTaUIsSUFBSUEsRUFBRWpCLEtBQUssR0FBR0EsUUFBUWUsTUFBTVEsR0FBRyxDQUFDVCxVQUFVZCxRQUFTQTtBQUN4RztBQUNDd0IsTUFBNkMsSUFBSyxTQUFVVixRQUFRLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQ2pGLElBQUlELFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9ILFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRSxJQUFJLENBQUNGLE1BQU1JLEdBQUcsQ0FBQ0wsV0FBVyxNQUFNLElBQUlJLFVBQVU7SUFDdkcsT0FBT0YsU0FBUyxNQUFNQyxJQUFJRCxTQUFTLE1BQU1DLEVBQUVHLElBQUksQ0FBQ04sWUFBWUcsSUFBSUEsRUFBRWpCLEtBQUssR0FBR2UsTUFBTU0sR0FBRyxDQUFDUDtBQUN4RjtBQUVBLFNBQVNjLGVBQWVDLFNBQVM7SUFDN0IsT0FBT0MsT0FBT0MsSUFBSSxDQUFDQyxPQUFPQyxZQUFZLENBQUNiLElBQUksQ0FBQyxTQUFTUztBQUN6RDtBQUVBLFNBQVNLO0lBQ0wsT0FBUSxNQUVnQixJQUNwQixDQUFvQztBQUM1QztBQUVBLElBQUlNLDBDQUEwQ0MsdUNBQXVDQywyQ0FBMkNDLDJDQUEyQ0MsZ0RBQWdEQyxnREFBZ0RDLDBDQUEwQ0Msa0RBQWtEQyx3Q0FBd0NDLHlEQUF5REMsbURBQW1EQyx3REFBd0RDO0FBQ25qQixNQUFNQyxzQ0FBc0M7QUFDNUMsTUFBTUMsNEJBQTRCO0FBQ2xDLFNBQVNDLHVCQUF1QkMsV0FBVztJQUN2QyxPQUFPLGFBQWFBO0FBQ3hCO0FBQ0EsU0FBU0Msd0JBQXdCQyxLQUFLO0lBQ2xDLE9BQVFBO1FBQ0osS0FBSztZQUNELE9BQU87UUFDWCxLQUFLO1lBQ0QsT0FBTztRQUNYLEtBQUs7WUFDRCxPQUFPO1FBQ1g7WUFDSSxPQUFPQTtJQUNmO0FBQ0o7QUFDQSxNQUFNQyxzQ0FBc0N2Riw2RkFBb0NBO0lBQzVFd0YsWUFBWUMsTUFBTSxFQUFFQyxNQUFNLENBQUU7UUFDeEIsS0FBSztRQUNMdEIseUNBQXlDdUIsR0FBRyxDQUFDLElBQUk7UUFDakQsSUFBSSxDQUFDQyw0QkFBNEIsR0FBRyxJQUFJQyxJQUN4QywrR0FBK0c7UUFDL0c7WUFBQztZQUFVO1NBQUU7UUFDYnhCLHNDQUFzQ2xCLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSztRQUNyRG1CLDBDQUEwQ25CLEdBQUcsQ0FBQyxJQUFJLEVBQUU7UUFDcERvQiwwQ0FBMENwQixHQUFHLENBQUMsSUFBSSxFQUFFVyxtQkFBbUI3RCx5RUFBZ0JBLENBQUM2RixRQUFRLEdBQUc3Rix5RUFBZ0JBLENBQUM4RixXQUFXO1FBQy9IdkIsK0NBQStDckIsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO1FBQzlEc0IsK0NBQStDdEIsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO1FBQzlEdUIseUNBQXlDdkIsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO1FBQ3hEd0IsaURBQWlEeEIsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDNkMsYUFBZTFFLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7Z0JBQ3ZHLElBQUkwRSxXQUFXQyxRQUFRLElBQUlELFdBQVdDLFFBQVEsQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7b0JBQ3ZEekQsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLUyx5REFBeUQ3QixJQUFJLENBQUMsSUFBSTtvQkFDOUksTUFBTW1ELHNCQUFzQixNQUFNMUQsdUJBQXVCLElBQUksRUFBRStCLGdEQUFnRCxLQUFLeEIsSUFBSSxDQUFDLElBQUksRUFBRWdELFdBQVdDLFFBQVE7b0JBQ2xKLElBQUlFLHdCQUF3QjFELHVCQUF1QixJQUFJLEVBQUVnQyxnREFBZ0QsTUFBTTt3QkFDM0d2Qix1QkFBdUIsSUFBSSxFQUFFdUIsZ0RBQWdEMEIscUJBQXFCO3dCQUNsR2pELHVCQUF1QixJQUFJLEVBQUV3QiwwQ0FBMEN0QixXQUFXO3dCQUNsRixJQUFJLENBQUNnRCxJQUFJLENBQUMsV0FDVixtRkFBbUY7d0JBQ25GLG9FQUFvRTt3QkFDcEUsSUFBSSxDQUFDQyxTQUFTO29CQUNsQjtnQkFDSjtZQUNKO1FBQ0EsdURBQXVEO1FBQ3ZEbkQsdUJBQXVCLElBQUksRUFBRXNCLGdEQUFnRCxDQUFDeUIsV0FBYTNFLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7Z0JBQ3ZILElBQUlnRjtnQkFDSixNQUFNQywrQkFBK0IsTUFBTWIsT0FBT2MsZUFBZSxDQUFDQyxNQUFNLENBQUNSLFNBQVNTLEdBQUcsQ0FBQyxDQUFDLEVBQUVMLFNBQVMsRUFBRSxHQUFLN0MsZUFBZTZDO2dCQUN4SCxPQUFPLENBQUNDLEtBQUtMLFNBQVNVLElBQUksQ0FBQyxDQUFDLEVBQUVOLFNBQVMsRUFBRSxHQUFLN0MsZUFBZTZDLGVBQWVFLDZCQUE0QixNQUFPLFFBQVFELE9BQU8sS0FBSyxJQUFJQSxLQUFLTCxRQUFRLENBQUMsRUFBRTtZQUMzSixJQUFJO1FBQ0ovQyx1QkFBdUIsSUFBSSxFQUFFbUIsdUNBQXVDb0IsUUFBUTtRQUM1RWhELHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS3VDLFFBQVEsQ0FBQ3JELGVBQWUsQ0FBQ3NELEVBQUUsQ0FBQyxVQUFVcEUsdUJBQXVCLElBQUksRUFBRWtDLGtEQUFrRDtRQUM5TCxJQUFJLENBQUNtQyxJQUFJLEdBQUdyRSx1QkFBdUIsSUFBSSxFQUFFNEIsdUNBQXVDLEtBQUt5QyxJQUFJO1FBQ3pGLElBQUksQ0FBQ0MsSUFBSSxHQUFHdEUsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLMEMsSUFBSTtRQUN6RixJQUFJLENBQUNDLEdBQUcsR0FBR3ZFLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBSzJDLEdBQUc7SUFDdkYsc0ZBQXNGO0lBQ3RGLHVGQUF1RjtJQUN2RiwyREFBMkQ7SUFDM0QsNEVBQTRFO0lBQzVFLHFDQUFxQztJQUNyQyw2RUFBNkU7SUFDN0UsK0VBQStFO0lBQy9FLGtGQUFrRjtJQUNsRixnREFBZ0Q7SUFDaEQsWUFBWTtJQUNaLFVBQVU7SUFDVixJQUFJO0lBQ1I7SUFDQSxJQUFJWCxZQUFZO1FBQ1osSUFBSUM7UUFDSixJQUFJLENBQUM3RCx1QkFBdUIsSUFBSSxFQUFFaUMsMENBQTBDLFFBQVFqQyx1QkFBdUIsSUFBSSxFQUFFZ0MsZ0RBQWdELE1BQU07WUFDbkssSUFBSTtnQkFDQXZCLHVCQUF1QixJQUFJLEVBQUV3QiwwQ0FBMEMsSUFBSWpFLHNEQUFTQSxDQUFDZ0MsdUJBQXVCLElBQUksRUFBRWdDLGdEQUFnRCxLQUFLNEIsU0FBUyxHQUFHO1lBQ3ZMLEVBQ0EsT0FBT2xFLEdBQUc7Z0JBQ04sTUFBTSxJQUFJakMsNkVBQW9CQSxDQUFDLGFBQWMrRyxTQUFVOUUsQ0FBQUEsTUFBTSxRQUFRQSxNQUFNLEtBQUssSUFBSSxLQUFLLElBQUlBLEVBQUUrRSxPQUFPLEtBQU0saUJBQWlCL0U7WUFDakk7UUFDSjtRQUNBLE9BQU8sQ0FBQ21FLEtBQUs3RCx1QkFBdUIsSUFBSSxFQUFFaUMsMENBQTBDLElBQUcsTUFBTyxRQUFRNEIsT0FBTyxLQUFLLElBQUlBLEtBQUs7SUFDL0g7SUFDQSxJQUFJYSxZQUFZO1FBQ1osT0FBTzFFLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBSzhDLFNBQVM7SUFDN0Y7SUFDQSxJQUFJQyxhQUFhO1FBQ2IsT0FBTzNFLHVCQUF1QixJQUFJLEVBQUU2QiwyQ0FBMkM7SUFDbkY7SUFDQSxJQUFJK0MsYUFBYTtRQUNiLE9BQU81RSx1QkFBdUIsSUFBSSxFQUFFOEIsMkNBQTJDO0lBQ25GO0lBQ0EsNkNBQTZDLEdBQzdDK0MsOENBQThDO1FBQzFDLE9BQU9oRyxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1lBQ25DLE9BQU8sTUFBTSxJQUFJLENBQUNpRyxXQUFXO1FBQ2pDO0lBQ0o7SUFDQUEsY0FBYztRQUNWLE9BQU9qRyxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1lBQ25DbUIsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLUSx3Q0FBd0M1QixJQUFJLENBQUMsSUFBSSxFQUFFO1FBQ25JO0lBQ0o7SUFDQXdFLFVBQVU7UUFDTixPQUFPbEcsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQ21CLHVCQUF1QixJQUFJLEVBQUUyQiwwQ0FBMEMsS0FBS1Esd0NBQXdDNUIsSUFBSSxDQUFDLElBQUk7UUFDakk7SUFDSjtJQUNBLDREQUE0RCxHQUM1RHlFLHFCQUFxQkMsYUFBYSxFQUFFO1FBQ2hDLE9BQU9wRyxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1lBQ25DLElBQUk7Z0JBQ0EsTUFBTXFHLDRCQUE0QixNQUFNbEYsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLc0QseUJBQXlCO2dCQUMxSSxJQUFJQSwyQkFBMkI7b0JBQzNCLE1BQU1sRix1QkFBdUIsSUFBSSxFQUFFNEIsdUNBQXVDLEtBQUt1QyxRQUFRLENBQUN2RCxnQkFBZ0IsQ0FBQ21FLE9BQU8sQ0FBQzt3QkFBRUksUUFBUTtvQkFBSztvQkFDaEksT0FBT0Q7Z0JBQ1g7Z0JBQ0EsSUFBSUQsZUFBZTtvQkFDZixNQUFNakYsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLdUMsUUFBUSxDQUFDL0YsMEVBQVlBLENBQUMsQ0FBQ2dILE1BQU0sQ0FBQ0g7Z0JBQ2pILE9BRUksTUFBTWpGLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS3VDLFFBQVEsQ0FBQ3ZELGdCQUFnQixDQUFDbUUsT0FBTztnQkFDcEgsTUFBTU0sc0JBQXNCLE1BQU0sTUFBTXJGLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS3NELHlCQUF5QjtnQkFDMUksT0FBT0c7WUFDWCxFQUNBLE9BQU8zRixHQUFHO2dCQUNOLE1BQU0sSUFBSWhDLDhFQUFxQkEsQ0FBQyxhQUFjOEcsU0FBUzlFLEVBQUUrRSxPQUFPLElBQUssaUJBQWlCL0U7WUFDMUY7UUFDSjtJQUNKO0lBQ0E0RixhQUFhO1FBQ1QsT0FBT3pHLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMseUZBQXlGO1lBQ3pGLE9BQU8sTUFBTW1CLHVCQUF1QixJQUFJLEVBQUUyQiwwQ0FBMEMsS0FBS1ksNkNBQTZDaEMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFNMUIsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztvQkFDbkw0Qix1QkFBdUIsSUFBSSxFQUFFb0IsMkNBQTJDLE9BQU87b0JBQy9FcEIsdUJBQXVCLElBQUksRUFBRXdCLDBDQUEwQ3RCLFdBQVc7b0JBQ2xGRix1QkFBdUIsSUFBSSxFQUFFdUIsZ0RBQWdEckIsV0FBVztvQkFDeEYsTUFBTVgsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLdUMsUUFBUSxDQUFDdEQsbUJBQW1CLENBQUN5RSxVQUFVO29CQUN0SCxJQUFJLENBQUMzQixJQUFJLENBQUM7Z0JBQ2Q7UUFDSjtJQUNKO0lBQ0F5QixPQUFPRyxLQUFLLEVBQUU7UUFDVixPQUFPMUcsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQyxPQUFPbUIsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLWSw2Q0FBNkNoQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQU0xQixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO29CQUM3SyxJQUFJZ0Y7b0JBQ0osSUFBSTdELHVCQUF1QixJQUFJLEVBQUU4QiwyQ0FBMkMsU0FBU3RFLHlFQUFnQkEsQ0FBQ2dJLFNBQVMsSUFBSXhGLHVCQUF1QixJQUFJLEVBQUU4QiwyQ0FBMkMsU0FBU3RFLHlFQUFnQkEsQ0FBQzZGLFFBQVEsRUFBRTt3QkFDM04sTUFBTSxJQUFJMUYsNEVBQW1CQTtvQkFDakM7b0JBQ0E4Qyx1QkFBdUIsSUFBSSxFQUFFb0IsMkNBQTJDLE1BQU07b0JBQzlFLElBQUk7d0JBQ0EsTUFBTTRELFVBQVUsTUFBTXpGLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS3VDLFFBQVEsQ0FBQy9GLDBFQUFZQSxDQUFDLENBQUNnSCxNQUFNLENBQUNNLE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR0osUUFBUTs0QkFBRUssUUFBUSxDQUFDL0IsS0FBSzBCLFVBQVUsUUFBUUEsVUFBVSxLQUFLLElBQUksS0FBSyxJQUFJQSxNQUFNSyxNQUFNLE1BQU0sUUFBUS9CLE9BQU8sS0FBSyxJQUFJQSxLQUFLNUMsT0FBTzRFLFFBQVEsQ0FBQ0MsSUFBSTt3QkFBQzt3QkFDdlMsSUFBSUwsUUFBUWhDLE1BQU0sR0FBRyxHQUFHOzRCQUNwQixPQUFPZ0MsT0FBTyxDQUFDLEVBQUU7d0JBQ3JCLE9BQ0s7NEJBQ0QsTUFBTSxJQUFJakIsTUFBTTt3QkFDcEI7b0JBQ0osRUFDQSxPQUFPOUUsR0FBRzt3QkFDTixNQUFNLElBQUloQyw4RUFBcUJBLENBQUMsYUFBYzhHLFNBQVM5RSxFQUFFK0UsT0FBTyxJQUFLLGlCQUFpQi9FO29CQUMxRixTQUNRO3dCQUNKZSx1QkFBdUIsSUFBSSxFQUFFb0IsMkNBQTJDLE9BQU87b0JBQ25GO2dCQUNKO1FBQ0o7SUFDSjtJQUNBa0UsWUFBWXRCLE9BQU8sRUFBRTtRQUNqQixPQUFPNUYsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQyxPQUFPLE1BQU1tQix1QkFBdUIsSUFBSSxFQUFFMkIsMENBQTBDLEtBQUtZLDZDQUE2Q2hDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBTTFCLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7b0JBQ25MLE1BQU1tSCxVQUFVaEcsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLVSxtREFBbUQ5QixJQUFJLENBQUMsSUFBSTtvQkFDeEosSUFBSTt3QkFDQSxNQUFNa0YsVUFBVSxNQUFNekYsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLdUMsUUFBUSxDQUFDOUYsK0VBQWlCQSxDQUFDLENBQUMwSCxXQUFXLENBQUM7NEJBQ25JQzs0QkFBU3ZCLFNBQVNBO3dCQUN0Qjt3QkFDQSxPQUFPZ0IsT0FBTyxDQUFDLEVBQUUsQ0FBQ1EsU0FBUztvQkFDL0IsRUFDQSxPQUFPQyxPQUFPO3dCQUNWLE1BQU0sSUFBSXRJLCtFQUFzQkEsQ0FBQ3NJLFVBQVUsUUFBUUEsVUFBVSxLQUFLLElBQUksS0FBSyxJQUFJQSxNQUFNekIsT0FBTyxFQUFFeUI7b0JBQ2xHO2dCQUNKO1FBQ0o7SUFDSjtJQUNBQyxnQkFBZ0J4RCxXQUFXLEVBQUV5RCxVQUFVLEVBQUVDLE9BQU8sRUFBRTtRQUM5QyxPQUFPeEgsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQyxPQUFPLE1BQU1tQix1QkFBdUIsSUFBSSxFQUFFMkIsMENBQTBDLEtBQUtZLDZDQUE2Q2hDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBTTFCLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7b0JBQ25MLE1BQU1tSCxVQUFVaEcsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLVSxtREFBbUQ5QixJQUFJLENBQUMsSUFBSTtvQkFDeEosSUFBSTt3QkFDQSxTQUFTK0Y7NEJBQ0wsSUFBSUM7NEJBQ0osT0FBUUgsV0FBV0ksVUFBVTtnQ0FDekIsS0FBSztnQ0FDTCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0RELG1CQUFtQkgsV0FBV0ksVUFBVTtvQ0FDeEM7Z0NBQ0o7b0NBQ0lELG1CQUFtQjs0QkFDM0I7NEJBQ0EsSUFBSUU7NEJBQ0osT0FBUUosWUFBWSxRQUFRQSxZQUFZLEtBQUssSUFBSSxLQUFLLElBQUlBLFFBQVFLLG1CQUFtQjtnQ0FDakYsS0FBSztnQ0FDTCxLQUFLO2dDQUNMLEtBQUs7b0NBQ0RELDRCQUE0QkosUUFBUUssbUJBQW1CO29DQUN2RDtnQ0FDSixLQUFLL0Y7b0NBQ0Q4Riw0QkFBNEJGO29DQUM1QjtnQ0FDSjtvQ0FDSUUsNEJBQTRCOzRCQUNwQzs0QkFDQSxNQUFNRSwyQkFBMkJGLDhCQUE4QixjQUN6RCxJQUNBQSw4QkFBOEIsY0FDMUIsSUFDQTs0QkFDVixNQUFNRyx3QkFBd0JMLHFCQUFxQixjQUFjLElBQUlBLHFCQUFxQixjQUFjLElBQUk7NEJBQzVHLE9BQU9JLDJCQUEyQkMsd0JBQzVCSCw0QkFDQUY7d0JBQ1Y7d0JBQ0EsSUFBSWpJLDBGQUE0QkEsSUFBSTBCLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS3VDLFFBQVEsRUFBRTs0QkFDbkgsTUFBTXRCLFFBQVFELHdCQUF3QjVDLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS2lGLG9CQUFvQixDQUFDaEUsS0FBSzs0QkFDekksTUFBTSxDQUFDb0QsVUFBVSxHQUFHLENBQUMsTUFBTWpHLHVCQUF1QixJQUFJLEVBQUU0Qix1Q0FBdUMsS0FBS3VDLFFBQVEsQ0FBQzdGLDBGQUE0QkEsQ0FBQyxDQUFDd0ksc0JBQXNCLENBQUM7Z0NBQzlKZDtnQ0FDQXJELGFBQWFBLFlBQVlvRSxTQUFTO2dDQUNsQ2xFLE9BQU9BO2dDQUNQd0QsU0FBU0EsVUFBVTtvQ0FDZlcsZUFBZVgsUUFBUVcsYUFBYTtvQ0FDcENDLFlBQVlaLFFBQVFZLFVBQVU7Z0NBQ2xDLElBQUl0Rzs0QkFDUixFQUFDLEVBQUdzRCxHQUFHLENBQUUsQ0FBQ2lEO2dDQUNOLE9BQU9uRyxlQUFlbUcsT0FBT2pCLFNBQVM7NEJBQzFDOzRCQUNBLE9BQU9BO3dCQUNYLE9BQ0s7NEJBQ0QsTUFBTSxDQUFDa0Isa0JBQWtCLEdBQUcsTUFBTW5ILHVCQUF1QixJQUFJLEVBQUUyQiwwQ0FBMEMsS0FBS1csd0RBQXdEL0IsSUFBSSxDQUFDLElBQUksRUFBRTtnQ0FBQ29DOzZCQUFZOzRCQUM5TCxJQUFJRCx1QkFBdUJ5RSxvQkFBb0I7Z0NBQzNDLE9BQU8sTUFBTWYsV0FBV0QsZUFBZSxDQUFDZ0I7NEJBQzVDLE9BQ0s7Z0NBQ0QsTUFBTUMsd0JBQXdCRCxrQkFBa0JKLFNBQVM7Z0NBQ3pELE9BQU8sTUFBTVgsV0FBV2lCLGtCQUFrQixDQUFDRCx1QkFBdUIxQixPQUFPQyxNQUFNLENBQUNELE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdVLFVBQVU7b0NBQUVLLHFCQUFxQko7Z0NBQXNCOzRCQUM3Sjt3QkFDSjtvQkFDSixFQUNBLE9BQU9KLE9BQU87d0JBQ1YsTUFBTSxJQUFJckksbUZBQTBCQSxDQUFDcUksVUFBVSxRQUFRQSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUlBLE1BQU16QixPQUFPLEVBQUV5QjtvQkFDdEc7Z0JBQ0o7UUFDSjtJQUNKO0lBQ0FvQixnQkFBZ0IzRSxXQUFXLEVBQUU7UUFDekIsT0FBTzlELFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsT0FBTyxNQUFNbUIsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLWSw2Q0FBNkNoQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQU0xQixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO29CQUNuTCxNQUFNLENBQUNzSSxrQkFBa0IsR0FBRyxNQUFNbkgsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLVyx3REFBd0QvQixJQUFJLENBQUMsSUFBSSxFQUFFO3dCQUFDb0M7cUJBQVk7b0JBQzlMLE9BQU93RTtnQkFDWDtRQUNKO0lBQ0o7SUFDQUksb0JBQW9CQyxZQUFZLEVBQUU7UUFDOUIsT0FBTzNJLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsT0FBTyxNQUFNbUIsdUJBQXVCLElBQUksRUFBRTJCLDBDQUEwQyxLQUFLWSw2Q0FBNkNoQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQU0xQixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO29CQUNuTCxNQUFNNEkscUJBQXFCLE1BQU16SCx1QkFBdUIsSUFBSSxFQUFFMkIsMENBQTBDLEtBQUtXLHdEQUF3RC9CLElBQUksQ0FBQyxJQUFJLEVBQUVpSDtvQkFDaEwsT0FBT0M7Z0JBQ1g7UUFDSjtJQUNKO0FBQ0o7QUFDQTdGLHdDQUF3QyxJQUFJOEYsV0FBVzdGLDRDQUE0QyxJQUFJNkYsV0FBVzVGLDRDQUE0QyxJQUFJNEYsV0FBVzNGLGlEQUFpRCxJQUFJMkYsV0FBVzFGLGlEQUFpRCxJQUFJMEYsV0FBV3pGLDJDQUEyQyxJQUFJeUYsV0FBV3hGLG1EQUFtRCxJQUFJd0YsV0FBVy9GLDJDQUEyQyxJQUFJZ0csV0FBV3hGLHlDQUF5QyxTQUFTQSx1Q0FBdUMyQyxjQUFjLEtBQUs7SUFDM2tCLE9BQU9qRyxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1FBQ25DLElBQUksSUFBSSxDQUFDOEYsVUFBVSxJQUFJLElBQUksQ0FBQ0QsU0FBUyxFQUFFO1lBQ25DO1FBQ0o7UUFDQSxPQUFPLE1BQU0xRSx1QkFBdUIsSUFBSSxFQUFFMkIsMENBQTBDLEtBQUtZLDZDQUE2Q2hDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBTTFCLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7Z0JBQ25MLElBQUltQix1QkFBdUIsSUFBSSxFQUFFOEIsMkNBQTJDLFNBQVN0RSx5RUFBZ0JBLENBQUNnSSxTQUFTLElBQUl4Rix1QkFBdUIsSUFBSSxFQUFFOEIsMkNBQTJDLFNBQVN0RSx5RUFBZ0JBLENBQUM2RixRQUFRLEVBQUU7b0JBQzNOLE1BQU0sSUFBSTFGLDRFQUFtQkE7Z0JBQ2pDO2dCQUNBOEMsdUJBQXVCLElBQUksRUFBRW9CLDJDQUEyQyxNQUFNO2dCQUM5RSxJQUFJO29CQUNBLE1BQU03Qix1QkFBdUIsSUFBSSxFQUFFNEIsdUNBQXVDLEtBQUt1QyxRQUFRLENBQUN2RCxnQkFBZ0IsQ0FBQ21FLE9BQU8sQ0FBQzt3QkFBRUksUUFBUUw7b0JBQVk7Z0JBQzNJLEVBQ0EsT0FBT3BGLEdBQUc7b0JBQ04sTUFBTSxJQUFJaEMsOEVBQXFCQSxDQUFDLGFBQWM4RyxTQUFTOUUsRUFBRStFLE9BQU8sSUFBSyxpQkFBaUIvRTtnQkFDMUYsU0FDUTtvQkFDSmUsdUJBQXVCLElBQUksRUFBRW9CLDJDQUEyQyxPQUFPO2dCQUNuRjtZQUNKO0lBQ0o7QUFDSixHQUFHTywwREFBMEQsU0FBU0E7SUFDbEUsSUFBSXBDLHVCQUF1QixJQUFJLEVBQUU4QiwyQ0FBMkMsU0FBU3RFLHlFQUFnQkEsQ0FBQ2dJLFNBQVMsRUFBRTtRQUM3RyxJQUFJLENBQUM3QixJQUFJLENBQUMsb0JBQXFCbEQsdUJBQXVCLElBQUksRUFBRXFCLDJDQUEyQ3RFLHlFQUFnQkEsQ0FBQ2dJLFNBQVMsRUFBRTtJQUN2STtBQUNKLEdBQUduRCxvREFBb0QsU0FBU0E7SUFDNUQsSUFBSSxDQUFDckMsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLZ0csWUFBWSxJQUFJLENBQUM1SCx1QkFBdUIsSUFBSSxFQUFFZ0MsZ0RBQWdELE1BQ3hLLE1BQU0sSUFBSWpFLGdGQUF1QkE7SUFDckMsT0FBT2lDLHVCQUF1QixJQUFJLEVBQUVnQyxnREFBZ0Q7QUFDeEYsR0FBR00seURBQXlELFNBQVNBLHVEQUF1RGtGLFlBQVk7SUFDcEksT0FBTzNJLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7UUFDbkMsTUFBTW1ILFVBQVVoRyx1QkFBdUIsSUFBSSxFQUFFMkIsMENBQTBDLEtBQUtVLG1EQUFtRDlCLElBQUksQ0FBQyxJQUFJO1FBQ3hKLElBQUk7WUFDQSxJQUFJaEMsbUZBQXFCQSxJQUFJeUIsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLdUMsUUFBUSxFQUFFO2dCQUM1RyxPQUFPbkUsdUJBQXVCLElBQUksRUFBRTRCLHVDQUF1QyxLQUFLdUMsUUFBUSxDQUFDNUYsbUZBQXFCQSxDQUFDLENBQUMrSSxlQUFlLElBQUlFLGFBQWF2RCxHQUFHLENBQUMsQ0FBQzlFO29CQUNqSixPQUFPO3dCQUFFNkc7d0JBQVNyRCxhQUFheEQsTUFBTTRILFNBQVM7b0JBQUc7Z0JBQ3JELElBQUlqSCxJQUFJLENBQUMsQ0FBQzJGO29CQUNOLE9BQU9BLFFBQVF4QixHQUFHLENBQUMsQ0FBQ2lEO3dCQUNoQixNQUFNbEcsWUFBWWtHLE9BQU9DLGlCQUFpQjt3QkFDMUMsTUFBTVUsZ0JBQWdCN0csU0FBUyxDQUFDLEVBQUU7d0JBQ2xDLE1BQU04RyxnQkFBZ0JELGdCQUFnQnBGLDRCQUE0Qjt3QkFDbEUsTUFBTXNGLFVBQVU5Siw2REFBZ0JBLENBQUMrSix5QkFBeUIsQ0FBQ2hILFVBQVVpSCxLQUFLLENBQUNILGVBQWU5RyxVQUFVeUMsTUFBTTt3QkFDMUcsSUFBSXNFLFlBQVksVUFBVTs0QkFDdEIsT0FBTzdKLHdEQUFXQSxDQUFDZ0ssSUFBSSxDQUFDbEg7d0JBQzVCLE9BQ0s7NEJBQ0QsT0FBTzdDLGlFQUFvQkEsQ0FBQ2dLLFdBQVcsQ0FBQ25IO3dCQUM1QztvQkFDSjtnQkFDSjtZQUNKLE9BQ0s7Z0JBQ0QsTUFBTSxJQUFJd0QsTUFBTTtZQUNwQjtRQUNKLEVBQ0EsT0FBTzBCLE9BQU87WUFDVixNQUFNLElBQUlwSSxtRkFBMEJBLENBQUNvSSxVQUFVLFFBQVFBLFVBQVUsS0FBSyxJQUFJLEtBQUssSUFBSUEsTUFBTXpCLE9BQU8sRUFBRXlCO1FBQ3RHO0lBQ0o7QUFDSixHQUFHM0QsOENBQThDLFNBQVNBLDRDQUE0QzZGLFFBQVE7SUFDMUcsT0FBT3ZKLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7UUFDbkMsSUFBSTtZQUNBLE9BQU8sTUFBTXVKO1FBQ2pCLEVBQ0EsT0FBTzFJLEdBQUc7WUFDTixJQUFJLENBQUNpRSxJQUFJLENBQUMsU0FBU2pFO1lBQ25CLE1BQU1BO1FBQ1Y7SUFDSjtBQUNKO0FBQ0EsTUFBTTJJLHVDQUF1Q3ZGO0lBQ3pDQyxZQUFZRSxNQUFNLENBQUU7UUFDaEIsSUFBSVk7UUFDSixNQUFNaEIsUUFBUUQsd0JBQXdCLENBQUNpQixLQUFLWixPQUFPSixLQUFLLE1BQU0sUUFBUWdCLE9BQU8sS0FBSyxJQUFJQSxLQUFLWixPQUFPcUYsT0FBTztRQUN6RyxLQUFLLENBQUMsSUFBSTlKLHVHQUFvQ0EsQ0FBQztZQUMzQytKLGFBQWF0RixPQUFPc0YsV0FBVztZQUMvQkMsb0JBQW9CO2dCQUNoQjlILEtBQUt1QyxPQUFPd0Ysd0JBQXdCLENBQUMvSCxHQUFHO2dCQUN4Q0YsS0FBSyxJQUFNM0IsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRzt3QkFDdkMsTUFBTXdHLHNCQUFzQixNQUFNcEMsT0FBT3dGLHdCQUF3QixDQUFDakksR0FBRzt3QkFDckUsSUFBSTZFLHVCQUF1QixXQUFXQSxxQkFBcUI7NEJBQ3ZELE9BQU9BO3dCQUNYLE9BQ0ssSUFBSUEscUJBQXFCOzRCQUMxQixPQUFPSyxPQUFPQyxNQUFNLENBQUNELE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdOLHNCQUFzQjtnQ0FBRXhDLE9BQU9BOzRCQUFNO3dCQUNoRixPQUVJLE9BQU9sQztvQkFDZjtnQkFDQStILE9BQU96RixPQUFPd0Ysd0JBQXdCLENBQUNDLEtBQUs7WUFDaEQ7WUFDQUMsUUFBUTtnQkFBQzlGO2FBQU07WUFDZitGLGVBQWVuSyxpR0FBMEJBO1lBQ3pDb0ssa0JBQWtCLElBQU1oSyxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO29CQUNwRG9FLE9BQU80RixnQkFBZ0IsQ0FBQyxJQUFJO2dCQUNoQztRQUNKLElBQUk7WUFDQTlFLGlCQUFpQmQsT0FBT2MsZUFBZTtZQUN2Q2xCLE9BQU9BO1FBQ1g7SUFDSjtBQUNKO0FBQ0EsTUFBTWlHLHdDQUF3Q2hHO0lBQzFDQyxZQUFZRSxNQUFNLENBQUU7UUFDaEIsTUFBTUosUUFBUUQsd0JBQXdCSyxPQUFPSixLQUFLO1FBQ2xELEtBQUssQ0FBQyxJQUFJbkUsd0dBQXFDQSxDQUFDO1lBQzVDNkosYUFBYXRGLE9BQU9zRixXQUFXO1lBQy9CQyxvQkFBb0I7Z0JBQ2hCOUgsS0FBS3VDLE9BQU93Rix3QkFBd0IsQ0FBQy9ILEdBQUc7Z0JBQ3hDRixLQUFLLElBQU0zQixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO3dCQUN2QyxNQUFNd0csc0JBQXNCLE1BQU1wQyxPQUFPd0Ysd0JBQXdCLENBQUNqSSxHQUFHO3dCQUNyRSxJQUFJNkUsdUJBQXVCLFdBQVdBLHFCQUFxQjs0QkFDdkQsT0FBT0E7d0JBQ1gsT0FDSyxJQUFJQSxxQkFBcUI7NEJBQzFCLE9BQU9LLE9BQU9DLE1BQU0sQ0FBQ0QsT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBR04sc0JBQXNCO2dDQUFFeEMsT0FBT0E7NEJBQU07d0JBQ2hGLE9BRUksT0FBT2xDO29CQUNmO2dCQUNBK0gsT0FBT3pGLE9BQU93Rix3QkFBd0IsQ0FBQ0MsS0FBSztZQUNoRDtZQUNBQyxRQUFRO2dCQUFDOUY7YUFBTTtZQUNmK0YsZUFBZW5LLGlHQUEwQkE7WUFDekNzSyxxQkFBcUI5RixPQUFPOEYsbUJBQW1CO1lBQy9DRixrQkFBa0IsSUFBTWhLLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7b0JBQ3BEb0UsT0FBTzRGLGdCQUFnQixDQUFDLElBQUk7Z0JBQ2hDO1FBQ0osSUFBSTtZQUNBOUUsaUJBQWlCZCxPQUFPYyxlQUFlO1lBQ3ZDbEIsT0FBT0E7UUFDWDtJQUNKO0FBQ0o7QUFDQSxNQUFNbUcsa0NBQWtDWDtBQUN4QztBQUVBLFNBQVNZO0lBQ0wsT0FBTztRQUNIakYsUUFBT2tGLFNBQVM7WUFDWixPQUFPckssVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztnQkFDbkMsT0FBT3FLLFNBQVMsQ0FBQyxFQUFFO1lBQ3ZCO1FBQ0o7SUFDSjtBQUNKO0FBRUEsU0FBU0M7SUFDTCxPQUFPeEssc0dBQStCQTtBQUMxQztBQUVBLFNBQVN5Syw2QkFBNkJDLG1CQUFtQjtJQUNyRCxPQUFPeEssVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztRQUNuQyxPQUFPRCw2R0FBc0NBO0lBQ2pEO0FBQ0o7QUFDQSxTQUFTMEs7SUFDTCxPQUFPRjtBQUNYO0FBRW9QIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxpbmstYnVpbGRlci8uL25vZGVfbW9kdWxlcy9Ac29sYW5hLW1vYmlsZS93YWxsZXQtYWRhcHRlci1tb2JpbGUvbGliL2VzbS9pbmRleC5qcz8zZjE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VTaWduSW5NZXNzYWdlU2lnbmVyV2FsbGV0QWRhcHRlciwgV2FsbGV0UmVhZHlTdGF0ZSwgV2FsbGV0UHVibGljS2V5RXJyb3IsIFdhbGxldENvbm5lY3Rpb25FcnJvciwgV2FsbGV0Tm90UmVhZHlFcnJvciwgV2FsbGV0U2lnbk1lc3NhZ2VFcnJvciwgV2FsbGV0U2VuZFRyYW5zYWN0aW9uRXJyb3IsIFdhbGxldFNpZ25UcmFuc2FjdGlvbkVycm9yLCBXYWxsZXROb3RDb25uZWN0ZWRFcnJvciB9IGZyb20gJ0Bzb2xhbmEvd2FsbGV0LWFkYXB0ZXItYmFzZSc7XG5pbXBvcnQgeyBQdWJsaWNLZXksIFZlcnNpb25lZE1lc3NhZ2UsIFRyYW5zYWN0aW9uLCBWZXJzaW9uZWRUcmFuc2FjdGlvbiB9IGZyb20gJ0Bzb2xhbmEvd2ViMy5qcyc7XG5pbXBvcnQgeyBTb2xhbmFTaWduSW4sIFNvbGFuYVNpZ25NZXNzYWdlLCBTb2xhbmFTaWduQW5kU2VuZFRyYW5zYWN0aW9uLCBTb2xhbmFTaWduVHJhbnNhY3Rpb24gfSBmcm9tICdAc29sYW5hL3dhbGxldC1zdGFuZGFyZC1mZWF0dXJlcyc7XG5pbXBvcnQgeyBMb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXQsIGNyZWF0ZURlZmF1bHRDaGFpblNlbGVjdG9yLCBSZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0LCBjcmVhdGVEZWZhdWx0QXV0aG9yaXphdGlvbkNhY2hlLCBkZWZhdWx0RXJyb3JNb2RhbFdhbGxldE5vdEZvdW5kSGFuZGxlciB9IGZyb20gJ0Bzb2xhbmEtbW9iaWxlL3dhbGxldC1zdGFuZGFyZC1tb2JpbGUnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XG5cbih1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbih1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG5cbi8qKiBOYW1lIG9mIHRoZSBmZWF0dXJlLiAqL1xuY29uc3QgU3RhbmRhcmRDb25uZWN0ID0gJ3N0YW5kYXJkOmNvbm5lY3QnO1xuXG4vKiogTmFtZSBvZiB0aGUgZmVhdHVyZS4gKi9cbmNvbnN0IFN0YW5kYXJkRGlzY29ubmVjdCA9ICdzdGFuZGFyZDpkaXNjb25uZWN0JztcblxuLyoqIE5hbWUgb2YgdGhlIGZlYXR1cmUuICovXG5jb25zdCBTdGFuZGFyZEV2ZW50cyA9ICdzdGFuZGFyZDpldmVudHMnO1xuXG4odW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG4odW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xuXG4odW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG4odW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xuXG5mdW5jdGlvbiBmcm9tVWludDhBcnJheShieXRlQXJyYXkpIHtcbiAgICByZXR1cm4gd2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5jYWxsKG51bGwsIC4uLmJ5dGVBcnJheSkpO1xufVxuXG5mdW5jdGlvbiBnZXRJc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQgJiZcbiAgICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvYW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xufVxuXG52YXIgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Nvbm5lY3RpbmcsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9yZWFkeVN0YXRlLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfYWNjb3VudFNlbGVjdG9yLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfc2VsZWN0ZWRBY2NvdW50LCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcHVibGljS2V5LCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaGFuZGxlQ2hhbmdlRXZlbnQsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9jb25uZWN0LCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfZGVjbGFyZVdhbGxldEFzSW5zdGFsbGVkLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfYXNzZXJ0SXNBdXRob3JpemVkLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcGVyZm9ybVNpZ25UcmFuc2FjdGlvbnMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9ydW5XaXRoR3VhcmQ7XG5jb25zdCBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0TmFtZSA9ICdNb2JpbGUgV2FsbGV0IEFkYXB0ZXInO1xuY29uc3QgU0lHTkFUVVJFX0xFTkdUSF9JTl9CWVRFUyA9IDY0O1xuZnVuY3Rpb24gaXNWZXJzaW9uZWRUcmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xuICAgIHJldHVybiAndmVyc2lvbicgaW4gdHJhbnNhY3Rpb247XG59XG5mdW5jdGlvbiBjaGFpbk9yQ2x1c3RlclRvQ2hhaW5JZChjaGFpbikge1xuICAgIHN3aXRjaCAoY2hhaW4pIHtcbiAgICAgICAgY2FzZSAnbWFpbm5ldC1iZXRhJzpcbiAgICAgICAgICAgIHJldHVybiAnc29sYW5hOm1haW5uZXQnO1xuICAgICAgICBjYXNlICd0ZXN0bmV0JzpcbiAgICAgICAgICAgIHJldHVybiAnc29sYW5hOnRlc3RuZXQnO1xuICAgICAgICBjYXNlICdkZXZuZXQnOlxuICAgICAgICAgICAgcmV0dXJuICdzb2xhbmE6ZGV2bmV0JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9XG59XG5jbGFzcyBCYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciBleHRlbmRzIEJhc2VTaWduSW5NZXNzYWdlU2lnbmVyV2FsbGV0QWRhcHRlciB7XG4gICAgY29uc3RydWN0b3Iod2FsbGV0LCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwcG9ydGVkVHJhbnNhY3Rpb25WZXJzaW9ucyA9IG5ldyBTZXQoXG4gICAgICAgIC8vIEZJWE1FKCMyNDQpOiBXZSBjYW4ndCBhY3R1YWxseSBrbm93IHdoYXQgdmVyc2lvbnMgYXJlIHN1cHBvcnRlZCB1bnRpbCB3ZSBrbm93IHdoaWNoIHdhbGxldCB3ZSdyZSB0YWxraW5nIHRvLlxuICAgICAgICBbJ2xlZ2FjeScsIDBdKTtcbiAgICAgICAgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Nvbm5lY3Rpbmcuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3JlYWR5U3RhdGUuc2V0KHRoaXMsIGdldElzU3VwcG9ydGVkKCkgPyBXYWxsZXRSZWFkeVN0YXRlLkxvYWRhYmxlIDogV2FsbGV0UmVhZHlTdGF0ZS5VbnN1cHBvcnRlZCk7XG4gICAgICAgIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9hY2NvdW50U2VsZWN0b3Iuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9zZWxlY3RlZEFjY291bnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wdWJsaWNLZXkuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9oYW5kbGVDaGFuZ2VFdmVudC5zZXQodGhpcywgKHByb3BlcnRpZXMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmFjY291bnRzICYmIHByb3BlcnRpZXMuYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9kZWNsYXJlV2FsbGV0QXNJbnN0YWxsZWQpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFNlbGVjdGVkQWNjb3VudCA9IHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2FjY291bnRTZWxlY3RvciwgXCJmXCIpLmNhbGwodGhpcywgcHJvcGVydGllcy5hY2NvdW50cyk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRTZWxlY3RlZEFjY291bnQgIT09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3NlbGVjdGVkQWNjb3VudCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3NlbGVjdGVkQWNjb3VudCwgbmV4dFNlbGVjdGVkQWNjb3VudCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wdWJsaWNLZXksIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3QnLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gSGF2aW5nIGp1c3Qgc2V0IGB0aGlzLiNzZWxlY3RlZEFjY291bnRgLCBgdGhpcy5wdWJsaWNLZXlgIGlzIGRlZmluaXRlbHkgbm9uLW51bGxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaWNLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICAvLyB0aGlzLiNjaGFpbiA9IGNoYWluT3JDbHVzdGVyVG9DaGFpbklkKGNvbmZpZy5jaGFpbik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2FjY291bnRTZWxlY3RvciwgKGFjY291bnRzKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZEJhc2U2NEVuY29kZWRBZGRyZXNzID0geWllbGQgY29uZmlnLmFkZHJlc3NTZWxlY3Rvci5zZWxlY3QoYWNjb3VudHMubWFwKCh7IHB1YmxpY0tleSB9KSA9PiBmcm9tVWludDhBcnJheShwdWJsaWNLZXkpKSk7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gYWNjb3VudHMuZmluZCgoeyBwdWJsaWNLZXkgfSkgPT4gZnJvbVVpbnQ4QXJyYXkocHVibGljS2V5KSA9PT0gc2VsZWN0ZWRCYXNlNjRFbmNvZGVkQWRkcmVzcykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFjY291bnRzWzBdO1xuICAgICAgICB9KSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIHdhbGxldCwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIFwiZlwiKS5mZWF0dXJlc1tTdGFuZGFyZEV2ZW50c10ub24oJ2NoYW5nZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2hhbmRsZUNoYW5nZUV2ZW50LCBcImZcIikpO1xuICAgICAgICB0aGlzLm5hbWUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIFwiZlwiKS5uYW1lO1xuICAgICAgICB0aGlzLmljb24gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIFwiZlwiKS5pY29uO1xuICAgICAgICB0aGlzLnVybCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgXCJmXCIpLnVybDtcbiAgICAgICAgLy8gVE9ETzogZXZhbHVhdGUgaWYgdGhpcyBsb2dpYyBzaG91bGQgYmUga2VwdCAtIGl0IHNlZW1zIHRvIGNyZWF0ZSBhIG5hc3R5IGJ1ZyB3aGVyZSBcbiAgICAgICAgLy8gIHRoZSB3YWxsZXQgdHJpZXMgdG8gYXV0byBjb25uZWN0IG9uIHBhZ2UgbG9hZCBhbmQgZ2V0cyBibG9ja2VkIGJ5IHRoZSBwb3B1cCBibG9ja2VyXG4gICAgICAgIC8vIGlmICh0aGlzLiNyZWFkeVN0YXRlICE9PSBXYWxsZXRSZWFkeVN0YXRlLlVuc3VwcG9ydGVkKSB7XG4gICAgICAgIC8vICAgICBjb25maWcuYXV0aG9yaXphdGlvblJlc3VsdENhY2hlLmdldCgpLnRoZW4oKGF1dGhvcml6YXRpb25SZXN1bHQpID0+IHtcbiAgICAgICAgLy8gICAgICAgICBpZiAoYXV0aG9yaXphdGlvblJlc3VsdCkge1xuICAgICAgICAvLyAgICAgICAgICAgICAvLyBIYXZpbmcgYSBwcmlvciBhdXRob3JpemF0aW9uIHJlc3VsdCBpcywgcmlnaHQgbm93LCB0aGUgYmVzdFxuICAgICAgICAvLyAgICAgICAgICAgICAvLyBpbmRpY2F0aW9uIHRoYXQgYSBtb2JpbGUgd2FsbGV0IGlzIGluc3RhbGxlZC4gVGhlcmUgaXMgbm8gQVBJXG4gICAgICAgIC8vICAgICAgICAgICAgIC8vIHdlIGNhbiB1c2UgdG8gdGVzdCBmb3Igd2hldGhlciB0aGUgYXNzb2NpYXRpb24gVVJJIGlzIHN1cHBvcnRlZC5cbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy4jZGVjbGFyZVdhbGxldEFzSW5zdGFsbGVkKCk7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG4gICAgZ2V0IHB1YmxpY0tleSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3B1YmxpY0tleSwgXCJmXCIpICYmIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3NlbGVjdGVkQWNjb3VudCwgXCJmXCIpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3B1YmxpY0tleSwgbmV3IFB1YmxpY0tleShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9zZWxlY3RlZEFjY291bnQsIFwiZlwiKS5wdWJsaWNLZXkpLCBcImZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXYWxsZXRQdWJsaWNLZXlFcnJvcigoZSBpbnN0YW5jZW9mIEVycm9yICYmIChlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUubWVzc2FnZSkpIHx8ICdVbmtub3duIGVycm9yJywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3B1YmxpY0tleSwgXCJmXCIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuY29ubmVjdGVkO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdGluZygpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Nvbm5lY3RpbmcsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IHJlYWR5U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9yZWFkeVN0YXRlLCBcImZcIik7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgYGF1dG9Db25uZWN0KClgIGluc3RlYWQuICovXG4gICAgYXV0b0Nvbm5lY3RfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLmF1dG9Db25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhdXRvQ29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9jb25uZWN0KS5jYWxsKHRoaXMsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9jb25uZWN0KS5jYWxsKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSBgY29ubmVjdCgpYCBvciBgYXV0b0Nvbm5lY3QoKWAgaW5zdGVhZC4gKi9cbiAgICBwZXJmb3JtQXV0aG9yaXphdGlvbihzaWduSW5QYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZEF1dGhvcml6YXRpb25SZXN1bHQgPSB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIFwiZlwiKS5jYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgXCJmXCIpLmZlYXR1cmVzW1N0YW5kYXJkQ29ubmVjdF0uY29ubmVjdCh7IHNpbGVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEF1dGhvcml6YXRpb25SZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaWduSW5QYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgXCJmXCIpLmZlYXR1cmVzW1NvbGFuYVNpZ25Jbl0uc2lnbkluKHNpZ25JblBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgXCJmXCIpLmZlYXR1cmVzW1N0YW5kYXJkQ29ubmVjdF0uY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25SZXN1bHQgPSB5aWVsZCB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIFwiZlwiKS5jYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0O1xuICAgICAgICAgICAgICAgIHJldHVybiBhdXRob3JpemF0aW9uUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV2FsbGV0Q29ubmVjdGlvbkVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBhd2FpdCB0aGlzLiNydW5XaXRoR3VhcmQodGhpcy4jd2FsbGV0LmZlYXR1cmVzW1N0YW5kYXJkRGlzY29ubmVjdF0uZGlzY29ubmVjdCk7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3J1bldpdGhHdWFyZCkuY2FsbCh0aGlzLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfY29ubmVjdGluZywgZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wdWJsaWNLZXksIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3NlbGVjdGVkQWNjb3VudCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuZmVhdHVyZXNbU3RhbmRhcmREaXNjb25uZWN0XS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0Jyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduSW4oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9pbnN0YW5jZXMsIFwibVwiLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcnVuV2l0aEd1YXJkKS5jYWxsKHRoaXMsICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3JlYWR5U3RhdGUsIFwiZlwiKSAhPT0gV2FsbGV0UmVhZHlTdGF0ZS5JbnN0YWxsZWQgJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcmVhZHlTdGF0ZSwgXCJmXCIpICE9PSBXYWxsZXRSZWFkeVN0YXRlLkxvYWRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBXYWxsZXROb3RSZWFkeUVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Nvbm5lY3RpbmcsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRzID0geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuZmVhdHVyZXNbU29sYW5hU2lnbkluXS5zaWduSW4oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpbnB1dCksIHsgZG9tYWluOiAoX2EgPSBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXQuZG9tYWluKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB3aW5kb3cubG9jYXRpb24uaG9zdCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRwdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2lnbiBpbiBmYWlsZWQsIG5vIHNpZ24gaW4gcmVzdWx0IHJldHVybmVkIGJ5IHdhbGxldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV2FsbGV0Q29ubmVjdGlvbkVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfY29ubmVjdGluZywgZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3J1bldpdGhHdWFyZCkuY2FsbCh0aGlzLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9hc3NlcnRJc0F1dGhvcml6ZWQpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0cyA9IHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgXCJmXCIpLmZlYXR1cmVzW1NvbGFuYVNpZ25NZXNzYWdlXS5zaWduTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50LCBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0c1swXS5zaWduYXR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV2FsbGV0U2lnbk1lc3NhZ2VFcnJvcihlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRUcmFuc2FjdGlvbih0cmFuc2FjdGlvbiwgY29ubmVjdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9ydW5XaXRoR3VhcmQpLmNhbGwodGhpcywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9pbnN0YW5jZXMsIFwibVwiLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfYXNzZXJ0SXNBdXRob3JpemVkKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRhcmdldENvbW1pdG1lbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0Q29tbWl0bWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29ubmVjdGlvbi5jb21taXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29uZmlybWVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmaW5hbGl6ZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2Nlc3NlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbW1pdG1lbnQgPSBjb25uZWN0aW9uLmNvbW1pdG1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENvbW1pdG1lbnQgPSAnZmluYWxpemVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRQcmVmbGlnaHRDb21taXRtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlZmxpZ2h0Q29tbWl0bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbmZpcm1lZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmluYWxpemVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwcm9jZXNzZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRQcmVmbGlnaHRDb21taXRtZW50ID0gb3B0aW9ucy5wcmVmbGlnaHRDb21taXRtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UHJlZmxpZ2h0Q29tbWl0bWVudCA9IHRhcmdldENvbW1pdG1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFByZWZsaWdodENvbW1pdG1lbnQgPSAnZmluYWxpemVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZsaWdodENvbW1pdG1lbnRTY29yZSA9IHRhcmdldFByZWZsaWdodENvbW1pdG1lbnQgPT09ICdmaW5hbGl6ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0YXJnZXRQcmVmbGlnaHRDb21taXRtZW50ID09PSAnY29uZmlybWVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q29tbWl0bWVudFNjb3JlID0gdGFyZ2V0Q29tbWl0bWVudCA9PT0gJ2ZpbmFsaXplZCcgPyAyIDogdGFyZ2V0Q29tbWl0bWVudCA9PT0gJ2NvbmZpcm1lZCcgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVmbGlnaHRDb21taXRtZW50U2NvcmUgPCB0YXJnZXRDb21taXRtZW50U2NvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRhcmdldFByZWZsaWdodENvbW1pdG1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRhcmdldENvbW1pdG1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKFNvbGFuYVNpZ25BbmRTZW5kVHJhbnNhY3Rpb24gaW4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluID0gY2hhaW5PckNsdXN0ZXJUb0NoYWluSWQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuY3VycmVudEF1dGhvcml6YXRpb24uY2hhaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3NpZ25hdHVyZV0gPSAoeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuZmVhdHVyZXNbU29sYW5hU2lnbkFuZFNlbmRUcmFuc2FjdGlvbl0uc2lnbkFuZFNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogdHJhbnNhY3Rpb24uc2VyaWFsaXplKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW46IGNoYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBQcmVmbGlnaHQ6IG9wdGlvbnMuc2tpcFByZWZsaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UmV0cmllczogb3B0aW9ucy5tYXhSZXRyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLm1hcCgoKG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tVWludDhBcnJheShvdXRwdXQuc2lnbmF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduYXR1cmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbc2lnbmVkVHJhbnNhY3Rpb25dID0geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3BlcmZvcm1TaWduVHJhbnNhY3Rpb25zKS5jYWxsKHRoaXMsIFt0cmFuc2FjdGlvbl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmVyc2lvbmVkVHJhbnNhY3Rpb24oc2lnbmVkVHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNvbm5lY3Rpb24uc2VuZFRyYW5zYWN0aW9uKHNpZ25lZFRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbiA9IHNpZ25lZFRyYW5zYWN0aW9uLnNlcmlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBjb25uZWN0aW9uLnNlbmRSYXdUcmFuc2FjdGlvbihzZXJpYWxpemVkVHJhbnNhY3Rpb24sIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgcHJlZmxpZ2h0Q29tbWl0bWVudDogZ2V0VGFyZ2V0Q29tbWl0bWVudCgpIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdhbGxldFNlbmRUcmFuc2FjdGlvbkVycm9yKGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnblRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3J1bldpdGhHdWFyZCkuY2FsbCh0aGlzLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3NpZ25lZFRyYW5zYWN0aW9uXSA9IHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucykuY2FsbCh0aGlzLCBbdHJhbnNhY3Rpb25dKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmVkVHJhbnNhY3Rpb247XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduQWxsVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9ydW5XaXRoR3VhcmQpLmNhbGwodGhpcywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZFRyYW5zYWN0aW9ucyA9IHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcywgXCJtXCIsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucykuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnM7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbl9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQgPSBuZXcgV2Vha01hcCgpLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfY29ubmVjdGluZyA9IG5ldyBXZWFrTWFwKCksIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9yZWFkeVN0YXRlID0gbmV3IFdlYWtNYXAoKSwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2FjY291bnRTZWxlY3RvciA9IG5ldyBXZWFrTWFwKCksIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9zZWxlY3RlZEFjY291bnQgPSBuZXcgV2Vha01hcCgpLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcHVibGljS2V5ID0gbmV3IFdlYWtNYXAoKSwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2hhbmRsZUNoYW5nZUV2ZW50ID0gbmV3IFdlYWtNYXAoKSwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9jb25uZWN0ID0gZnVuY3Rpb24gX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Nvbm5lY3QoYXV0b0Nvbm5lY3QgPSBmYWxzZSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RpbmcgfHwgdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3J1bldpdGhHdWFyZCkuY2FsbCh0aGlzLCAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcmVhZHlTdGF0ZSwgXCJmXCIpICE9PSBXYWxsZXRSZWFkeVN0YXRlLkluc3RhbGxlZCAmJiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9yZWFkeVN0YXRlLCBcImZcIikgIT09IFdhbGxldFJlYWR5U3RhdGUuTG9hZGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV2FsbGV0Tm90UmVhZHlFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfY29ubmVjdGluZywgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl93YWxsZXQsIFwiZlwiKS5mZWF0dXJlc1tTdGFuZGFyZENvbm5lY3RdLmNvbm5lY3QoeyBzaWxlbnQ6IGF1dG9Db25uZWN0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV2FsbGV0Q29ubmVjdGlvbkVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfY29ubmVjdGluZywgZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0pO1xufSwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2RlY2xhcmVXYWxsZXRBc0luc3RhbGxlZCA9IGZ1bmN0aW9uIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9kZWNsYXJlV2FsbGV0QXNJbnN0YWxsZWQoKSB7XG4gICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3JlYWR5U3RhdGUsIFwiZlwiKSAhPT0gV2FsbGV0UmVhZHlTdGF0ZS5JbnN0YWxsZWQpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdyZWFkeVN0YXRlQ2hhbmdlJywgKF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3JlYWR5U3RhdGUsIFdhbGxldFJlYWR5U3RhdGUuSW5zdGFsbGVkLCBcImZcIikpKTtcbiAgICB9XG59LCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfYXNzZXJ0SXNBdXRob3JpemVkID0gZnVuY3Rpb24gX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Fzc2VydElzQXV0aG9yaXplZCgpIHtcbiAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3dhbGxldCwgXCJmXCIpLmlzQXV0aG9yaXplZCB8fCAhX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfc2VsZWN0ZWRBY2NvdW50LCBcImZcIikpXG4gICAgICAgIHRocm93IG5ldyBXYWxsZXROb3RDb25uZWN0ZWRFcnJvcigpO1xuICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9zZWxlY3RlZEFjY291bnQsIFwiZlwiKTtcbn0sIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucyA9IGZ1bmN0aW9uIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucyh0cmFuc2FjdGlvbnMpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBhY2NvdW50ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Fzc2VydElzQXV0aG9yaXplZCkuY2FsbCh0aGlzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChTb2xhbmFTaWduVHJhbnNhY3Rpb24gaW4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0LCBcImZcIikuZmVhdHVyZXNbU29sYW5hU2lnblRyYW5zYWN0aW9uXS5zaWduVHJhbnNhY3Rpb24oLi4udHJhbnNhY3Rpb25zLm1hcCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgYWNjb3VudCwgdHJhbnNhY3Rpb246IHZhbHVlLnNlcmlhbGl6ZSgpIH07XG4gICAgICAgICAgICAgICAgfSkpLnRoZW4oKG91dHB1dHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dHMubWFwKChvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ5dGVBcnJheSA9IG91dHB1dC5zaWduZWRUcmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bVNpZ25hdHVyZXMgPSBieXRlQXJyYXlbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlT2Zmc2V0ID0gbnVtU2lnbmF0dXJlcyAqIFNJR05BVFVSRV9MRU5HVEhfSU5fQllURVMgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IFZlcnNpb25lZE1lc3NhZ2UuZGVzZXJpYWxpemVNZXNzYWdlVmVyc2lvbihieXRlQXJyYXkuc2xpY2UobWVzc2FnZU9mZnNldCwgYnl0ZUFycmF5Lmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb24gPT09ICdsZWdhY3knKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uLmZyb20oYnl0ZUFycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWZXJzaW9uZWRUcmFuc2FjdGlvbi5kZXNlcmlhbGl6ZShieXRlQXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29ubmVjdGVkIHdhbGxldCBkb2VzIG5vdCBzdXBwb3J0IHNpZ25pbmcgdHJhbnNhY3Rpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV2FsbGV0U2lnblRyYW5zYWN0aW9uRXJyb3IoZXJyb3IgPT09IG51bGwgfHwgZXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSwgX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3J1bldpdGhHdWFyZCA9IGZ1bmN0aW9uIF9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9ydW5XaXRoR3VhcmQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jbGFzcyBMb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXIgZXh0ZW5kcyBCYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY2hhaW4gPSBjaGFpbk9yQ2x1c3RlclRvQ2hhaW5JZCgoX2EgPSBjb25maWcuY2hhaW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbmZpZy5jbHVzdGVyKTtcbiAgICAgICAgc3VwZXIobmV3IExvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldCh7XG4gICAgICAgICAgICBhcHBJZGVudGl0eTogY29uZmlnLmFwcElkZW50aXR5LFxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbkNhY2hlOiB7XG4gICAgICAgICAgICAgICAgc2V0OiBjb25maWcuYXV0aG9yaXphdGlvblJlc3VsdENhY2hlLnNldCxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvblJlc3VsdCA9IHlpZWxkIGNvbmZpZy5hdXRob3JpemF0aW9uUmVzdWx0Q2FjaGUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRob3JpemF0aW9uUmVzdWx0ICYmICdjaGFpbicgaW4gYXV0aG9yaXphdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhvcml6YXRpb25SZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXV0aG9yaXphdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYXV0aG9yaXphdGlvblJlc3VsdCksIHsgY2hhaW46IGNoYWluIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2xlYXI6IGNvbmZpZy5hdXRob3JpemF0aW9uUmVzdWx0Q2FjaGUuY2xlYXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhaW5zOiBbY2hhaW5dLFxuICAgICAgICAgICAgY2hhaW5TZWxlY3RvcjogY3JlYXRlRGVmYXVsdENoYWluU2VsZWN0b3IoKSxcbiAgICAgICAgICAgIG9uV2FsbGV0Tm90Rm91bmQ6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBjb25maWcub25XYWxsZXROb3RGb3VuZCh0aGlzKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSwge1xuICAgICAgICAgICAgYWRkcmVzc1NlbGVjdG9yOiBjb25maWcuYWRkcmVzc1NlbGVjdG9yLFxuICAgICAgICAgICAgY2hhaW46IGNoYWluLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBSZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyIGV4dGVuZHMgQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBjb25zdCBjaGFpbiA9IGNoYWluT3JDbHVzdGVyVG9DaGFpbklkKGNvbmZpZy5jaGFpbik7XG4gICAgICAgIHN1cGVyKG5ldyBSZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0KHtcbiAgICAgICAgICAgIGFwcElkZW50aXR5OiBjb25maWcuYXBwSWRlbnRpdHksXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uQ2FjaGU6IHtcbiAgICAgICAgICAgICAgICBzZXQ6IGNvbmZpZy5hdXRob3JpemF0aW9uUmVzdWx0Q2FjaGUuc2V0LFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uUmVzdWx0ID0geWllbGQgY29uZmlnLmF1dGhvcml6YXRpb25SZXN1bHRDYWNoZS5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhvcml6YXRpb25SZXN1bHQgJiYgJ2NoYWluJyBpbiBhdXRob3JpemF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0aG9yaXphdGlvblJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhdXRob3JpemF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhdXRob3JpemF0aW9uUmVzdWx0KSwgeyBjaGFpbjogY2hhaW4gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjbGVhcjogY29uZmlnLmF1dGhvcml6YXRpb25SZXN1bHRDYWNoZS5jbGVhcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGFpbnM6IFtjaGFpbl0sXG4gICAgICAgICAgICBjaGFpblNlbGVjdG9yOiBjcmVhdGVEZWZhdWx0Q2hhaW5TZWxlY3RvcigpLFxuICAgICAgICAgICAgcmVtb3RlSG9zdEF1dGhvcml0eTogY29uZmlnLnJlbW90ZUhvc3RBdXRob3JpdHksXG4gICAgICAgICAgICBvbldhbGxldE5vdEZvdW5kOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLm9uV2FsbGV0Tm90Rm91bmQodGhpcyk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSksIHtcbiAgICAgICAgICAgIGFkZHJlc3NTZWxlY3RvcjogY29uZmlnLmFkZHJlc3NTZWxlY3RvcixcbiAgICAgICAgICAgIGNoYWluOiBjaGFpbixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciBleHRlbmRzIExvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciB7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRBZGRyZXNzU2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VsZWN0KGFkZHJlc3Nlcykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkcmVzc2VzWzBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEF1dGhvcml6YXRpb25SZXN1bHRDYWNoZSgpIHtcbiAgICByZXR1cm4gY3JlYXRlRGVmYXVsdEF1dGhvcml6YXRpb25DYWNoZSgpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V2FsbGV0Tm90Rm91bmRIYW5kbGVyKG1vYmlsZVdhbGxldEFkYXB0ZXIpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEVycm9yTW9kYWxXYWxsZXROb3RGb3VuZEhhbmRsZXIoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRXYWxsZXROb3RGb3VuZEhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRXYWxsZXROb3RGb3VuZEhhbmRsZXI7XG59XG5cbmV4cG9ydCB7IExvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciwgUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciwgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciwgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldE5hbWUsIGNyZWF0ZURlZmF1bHRBZGRyZXNzU2VsZWN0b3IsIGNyZWF0ZURlZmF1bHRBdXRob3JpemF0aW9uUmVzdWx0Q2FjaGUsIGNyZWF0ZURlZmF1bHRXYWxsZXROb3RGb3VuZEhhbmRsZXIgfTtcbiJdLCJuYW1lcyI6WyJCYXNlU2lnbkluTWVzc2FnZVNpZ25lcldhbGxldEFkYXB0ZXIiLCJXYWxsZXRSZWFkeVN0YXRlIiwiV2FsbGV0UHVibGljS2V5RXJyb3IiLCJXYWxsZXRDb25uZWN0aW9uRXJyb3IiLCJXYWxsZXROb3RSZWFkeUVycm9yIiwiV2FsbGV0U2lnbk1lc3NhZ2VFcnJvciIsIldhbGxldFNlbmRUcmFuc2FjdGlvbkVycm9yIiwiV2FsbGV0U2lnblRyYW5zYWN0aW9uRXJyb3IiLCJXYWxsZXROb3RDb25uZWN0ZWRFcnJvciIsIlB1YmxpY0tleSIsIlZlcnNpb25lZE1lc3NhZ2UiLCJUcmFuc2FjdGlvbiIsIlZlcnNpb25lZFRyYW5zYWN0aW9uIiwiU29sYW5hU2lnbkluIiwiU29sYW5hU2lnbk1lc3NhZ2UiLCJTb2xhbmFTaWduQW5kU2VuZFRyYW5zYWN0aW9uIiwiU29sYW5hU2lnblRyYW5zYWN0aW9uIiwiTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0IiwiY3JlYXRlRGVmYXVsdENoYWluU2VsZWN0b3IiLCJSZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0IiwiY3JlYXRlRGVmYXVsdEF1dGhvcml6YXRpb25DYWNoZSIsImRlZmF1bHRFcnJvck1vZGFsV2FsbGV0Tm90Rm91bmRIYW5kbGVyIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsInJlY2VpdmVyIiwic3RhdGUiLCJraW5kIiwiZiIsIlR5cGVFcnJvciIsImhhcyIsImNhbGwiLCJnZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0Iiwic2V0IiwidW5kZWZpbmVkIiwiU3RhbmRhcmRDb25uZWN0IiwiU3RhbmRhcmREaXNjb25uZWN0IiwiU3RhbmRhcmRFdmVudHMiLCJmcm9tVWludDhBcnJheSIsImJ5dGVBcnJheSIsIndpbmRvdyIsImJ0b2EiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJnZXRJc1N1cHBvcnRlZCIsImlzU2VjdXJlQ29udGV4dCIsImRvY3VtZW50IiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIl9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9pbnN0YW5jZXMiLCJfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfd2FsbGV0IiwiX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2Nvbm5lY3RpbmciLCJfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcmVhZHlTdGF0ZSIsIl9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9hY2NvdW50U2VsZWN0b3IiLCJfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfc2VsZWN0ZWRBY2NvdW50IiwiX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX3B1YmxpY0tleSIsIl9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9oYW5kbGVDaGFuZ2VFdmVudCIsIl9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9jb25uZWN0IiwiX0Jhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyX2RlY2xhcmVXYWxsZXRBc0luc3RhbGxlZCIsIl9CYXNlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcl9hc3NlcnRJc0F1dGhvcml6ZWQiLCJfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcGVyZm9ybVNpZ25UcmFuc2FjdGlvbnMiLCJfQmFzZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJfcnVuV2l0aEd1YXJkIiwiU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldE5hbWUiLCJTSUdOQVRVUkVfTEVOR1RIX0lOX0JZVEVTIiwiaXNWZXJzaW9uZWRUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uIiwiY2hhaW5PckNsdXN0ZXJUb0NoYWluSWQiLCJjaGFpbiIsIkJhc2VTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyIiwiY29uc3RydWN0b3IiLCJ3YWxsZXQiLCJjb25maWciLCJhZGQiLCJzdXBwb3J0ZWRUcmFuc2FjdGlvblZlcnNpb25zIiwiU2V0IiwiTG9hZGFibGUiLCJVbnN1cHBvcnRlZCIsInByb3BlcnRpZXMiLCJhY2NvdW50cyIsImxlbmd0aCIsIm5leHRTZWxlY3RlZEFjY291bnQiLCJlbWl0IiwicHVibGljS2V5IiwiX2EiLCJzZWxlY3RlZEJhc2U2NEVuY29kZWRBZGRyZXNzIiwiYWRkcmVzc1NlbGVjdG9yIiwic2VsZWN0IiwibWFwIiwiZmluZCIsImZlYXR1cmVzIiwib24iLCJuYW1lIiwiaWNvbiIsInVybCIsIkVycm9yIiwibWVzc2FnZSIsImNvbm5lY3RlZCIsImNvbm5lY3RpbmciLCJyZWFkeVN0YXRlIiwiYXV0b0Nvbm5lY3RfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsImF1dG9Db25uZWN0IiwiY29ubmVjdCIsInBlcmZvcm1BdXRob3JpemF0aW9uIiwic2lnbkluUGF5bG9hZCIsImNhY2hlZEF1dGhvcml6YXRpb25SZXN1bHQiLCJzaWxlbnQiLCJzaWduSW4iLCJhdXRob3JpemF0aW9uUmVzdWx0IiwiZGlzY29ubmVjdCIsImlucHV0IiwiSW5zdGFsbGVkIiwib3V0cHV0cyIsIk9iamVjdCIsImFzc2lnbiIsImRvbWFpbiIsImxvY2F0aW9uIiwiaG9zdCIsInNpZ25NZXNzYWdlIiwiYWNjb3VudCIsInNpZ25hdHVyZSIsImVycm9yIiwic2VuZFRyYW5zYWN0aW9uIiwiY29ubmVjdGlvbiIsIm9wdGlvbnMiLCJnZXRUYXJnZXRDb21taXRtZW50IiwidGFyZ2V0Q29tbWl0bWVudCIsImNvbW1pdG1lbnQiLCJ0YXJnZXRQcmVmbGlnaHRDb21taXRtZW50IiwicHJlZmxpZ2h0Q29tbWl0bWVudCIsInByZWZsaWdodENvbW1pdG1lbnRTY29yZSIsInRhcmdldENvbW1pdG1lbnRTY29yZSIsImN1cnJlbnRBdXRob3JpemF0aW9uIiwic2lnbkFuZFNlbmRUcmFuc2FjdGlvbiIsInNlcmlhbGl6ZSIsInNraXBQcmVmbGlnaHQiLCJtYXhSZXRyaWVzIiwib3V0cHV0Iiwic2lnbmVkVHJhbnNhY3Rpb24iLCJzZXJpYWxpemVkVHJhbnNhY3Rpb24iLCJzZW5kUmF3VHJhbnNhY3Rpb24iLCJzaWduVHJhbnNhY3Rpb24iLCJzaWduQWxsVHJhbnNhY3Rpb25zIiwidHJhbnNhY3Rpb25zIiwic2lnbmVkVHJhbnNhY3Rpb25zIiwiV2Vha01hcCIsIldlYWtTZXQiLCJpc0F1dGhvcml6ZWQiLCJudW1TaWduYXR1cmVzIiwibWVzc2FnZU9mZnNldCIsInZlcnNpb24iLCJkZXNlcmlhbGl6ZU1lc3NhZ2VWZXJzaW9uIiwic2xpY2UiLCJmcm9tIiwiZGVzZXJpYWxpemUiLCJjYWxsYmFjayIsIkxvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlciIsImNsdXN0ZXIiLCJhcHBJZGVudGl0eSIsImF1dGhvcml6YXRpb25DYWNoZSIsImF1dGhvcml6YXRpb25SZXN1bHRDYWNoZSIsImNsZWFyIiwiY2hhaW5zIiwiY2hhaW5TZWxlY3RvciIsIm9uV2FsbGV0Tm90Rm91bmQiLCJSZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyIiwicmVtb3RlSG9zdEF1dGhvcml0eSIsIlNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXIiLCJjcmVhdGVEZWZhdWx0QWRkcmVzc1NlbGVjdG9yIiwiYWRkcmVzc2VzIiwiY3JlYXRlRGVmYXVsdEF1dGhvcml6YXRpb25SZXN1bHRDYWNoZSIsImRlZmF1bHRXYWxsZXROb3RGb3VuZEhhbmRsZXIiLCJtb2JpbGVXYWxsZXRBZGFwdGVyIiwiY3JlYXRlRGVmYXVsdFdhbGxldE5vdEZvdW5kSGFuZGxlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@solana-mobile/wallet-adapter-mobile/lib/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@solana-mobile/wallet-standard-mobile/lib/esm/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@solana-mobile/wallet-standard-mobile/lib/esm/index.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalSolanaMobileWalletAdapterWallet: () => (/* binding */ LocalSolanaMobileWalletAdapterWallet),\n/* harmony export */   RemoteSolanaMobileWalletAdapterWallet: () => (/* binding */ RemoteSolanaMobileWalletAdapterWallet),\n/* harmony export */   SolanaMobileWalletAdapterWalletName: () => (/* binding */ SolanaMobileWalletAdapterWalletName),\n/* harmony export */   createDefaultAuthorizationCache: () => (/* binding */ createDefaultAuthorizationCache),\n/* harmony export */   createDefaultChainSelector: () => (/* binding */ createDefaultChainSelector),\n/* harmony export */   createDefaultWalletNotFoundHandler: () => (/* binding */ createDefaultWalletNotFoundHandler),\n/* harmony export */   defaultErrorModalWalletNotFoundHandler: () => (/* binding */ defaultErrorModalWalletNotFoundHandler),\n/* harmony export */   registerMwa: () => (/* binding */ registerMwa)\n/* harmony export */ });\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signAndSendTransaction.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signTransaction.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signMessage.js\");\n/* harmony import */ var _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @solana/wallet-standard-features */ \"(ssr)/./node_modules/@solana/wallet-standard-features/lib/esm/signIn.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"(ssr)/./node_modules/@solana/web3.js/lib/index.esm.js\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qrcode */ \"(ssr)/./node_modules/qrcode/lib/index.js\");\n/* harmony import */ var _wallet_standard_features__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wallet-standard/features */ \"(ssr)/./node_modules/@wallet-standard/features/lib/esm/connect.js\");\n/* harmony import */ var _wallet_standard_features__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wallet-standard/features */ \"(ssr)/./node_modules/@wallet-standard/features/lib/esm/disconnect.js\");\n/* harmony import */ var _wallet_standard_features__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wallet-standard/features */ \"(ssr)/./node_modules/@wallet-standard/features/lib/esm/events.js\");\n/* harmony import */ var _solana_wallet_standard_chains__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @solana/wallet-standard-chains */ \"(ssr)/./node_modules/@solana/wallet-standard-chains/lib/esm/index.js\");\n/* harmony import */ var _solana_mobile_mobile_wallet_adapter_protocol_web3js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana-mobile/mobile-wallet-adapter-protocol-web3js */ \"(ssr)/./node_modules/@solana-mobile/mobile-wallet-adapter-protocol-web3js/lib/esm/index.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bs58 */ \"(ssr)/./node_modules/bs58/index.js\");\n\n\n\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ function __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\nfunction __classPrivateFieldGet$1(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nfunction __classPrivateFieldSet$1(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\nvar _EmbeddedModal_instances, _EmbeddedModal_root, _EmbeddedModal_eventListeners, _EmbeddedModal_listenersAttached, _EmbeddedModal_injectHTML, _EmbeddedModal_attachEventListeners, _EmbeddedModal_removeEventListeners, _EmbeddedModal_handleKeyDown;\nconst modalHtml = `\n<div class=\"mobile-wallet-adapter-embedded-modal-container\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-title\">\n    <div data-modal-close style=\"position: absolute; width: 100%; height: 100%;\"></div>\n\t<div class=\"mobile-wallet-adapter-embedded-modal-card\">\n\t\t<div>\n\t\t\t<button data-modal-close class=\"mobile-wallet-adapter-embedded-modal-close\">\n\t\t\t\t<svg width=\"14\" height=\"14\">\n\t\t\t\t\t<path d=\"M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z\" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class=\"mobile-wallet-adapter-embedded-modal-content\"></div>\n\t</div>\n</div>\n`;\nconst css$2 = `\n.mobile-wallet-adapter-embedded-modal-container {\n    display: flex; /* Use flexbox to center content */\n    justify-content: center; /* Center horizontally */\n    align-items: center; /* Center vertically */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n    overflow-y: auto; /* enable scrolling */\n}\n\n.mobile-wallet-adapter-embedded-modal-card {\n    display: flex;\n    flex-direction: column;\n    margin: auto 20px;\n    max-width: 780px;\n    padding: 20px;\n    border-radius: 24px;\n    background: #ffffff;\n    font-family: \"Inter Tight\", \"PT Sans\", Calibri, sans-serif;\n    transform: translateY(-200%);\n    animation: slide-in 0.5s forwards;\n}\n\n@keyframes slide-in {\n    100% { transform: translateY(0%); }\n}\n\n.mobile-wallet-adapter-embedded-modal-close {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    background: #e4e9e9;\n    border: none;\n    border-radius: 50%;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:focus-visible {\n    outline-color: red;\n}\n\n.mobile-wallet-adapter-embedded-modal-close svg {\n    fill: #546266;\n    transition: fill 200ms ease 0s;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:hover svg {\n    fill: #fff;\n}\n`;\nconst fonts = `\n<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap\" rel=\"stylesheet\">\n`;\nclass EmbeddedModal {\n    constructor(){\n        _EmbeddedModal_instances.add(this);\n        _EmbeddedModal_root.set(this, null);\n        _EmbeddedModal_eventListeners.set(this, {});\n        _EmbeddedModal_listenersAttached.set(this, false);\n        this.dom = null;\n        this.open = ()=>{\n            console.debug(\"Modal open\");\n            __classPrivateFieldGet$1(this, _EmbeddedModal_instances, \"m\", _EmbeddedModal_attachEventListeners).call(this);\n            if (__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\")) {\n                __classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").style.display = \"flex\";\n            }\n        };\n        this.close = (event = undefined)=>{\n            var _a;\n            console.debug(\"Modal close\");\n            __classPrivateFieldGet$1(this, _EmbeddedModal_instances, \"m\", _EmbeddedModal_removeEventListeners).call(this);\n            if (__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\")) {\n                __classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").style.display = \"none\";\n            }\n            (_a = __classPrivateFieldGet$1(this, _EmbeddedModal_eventListeners, \"f\")[\"close\"]) === null || _a === void 0 ? void 0 : _a.forEach((listener)=>listener(event));\n        };\n        _EmbeddedModal_handleKeyDown.set(this, (event)=>{\n            if (event.key === \"Escape\") this.close(event);\n        });\n        // Bind methods to ensure `this` context is correct\n        this.init = this.init.bind(this);\n        __classPrivateFieldSet$1(this, _EmbeddedModal_root, document.getElementById(\"mobile-wallet-adapter-embedded-root-ui\"), \"f\");\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function*() {\n            console.log(\"Injecting modal\");\n            __classPrivateFieldGet$1(this, _EmbeddedModal_instances, \"m\", _EmbeddedModal_injectHTML).call(this);\n        });\n    }\n    addEventListener(event, listener) {\n        var _a;\n        ((_a = __classPrivateFieldGet$1(this, _EmbeddedModal_eventListeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.push(listener)) || (__classPrivateFieldGet$1(this, _EmbeddedModal_eventListeners, \"f\")[event] = [\n            listener\n        ]);\n        return ()=>this.removeEventListener(event, listener);\n    }\n    removeEventListener(event, listener) {\n        var _a;\n        __classPrivateFieldGet$1(this, _EmbeddedModal_eventListeners, \"f\")[event] = (_a = __classPrivateFieldGet$1(this, _EmbeddedModal_eventListeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.filter((existingListener)=>listener !== existingListener);\n    }\n}\n_EmbeddedModal_root = new WeakMap(), _EmbeddedModal_eventListeners = new WeakMap(), _EmbeddedModal_listenersAttached = new WeakMap(), _EmbeddedModal_handleKeyDown = new WeakMap(), _EmbeddedModal_instances = new WeakSet(), _EmbeddedModal_injectHTML = function _EmbeddedModal_injectHTML() {\n    // Check if the HTML has already been injected\n    if (document.getElementById(\"mobile-wallet-adapter-embedded-root-ui\")) {\n        if (!__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\")) __classPrivateFieldSet$1(this, _EmbeddedModal_root, document.getElementById(\"mobile-wallet-adapter-embedded-root-ui\"), \"f\");\n        return;\n    }\n    // Create a container for the modal\n    __classPrivateFieldSet$1(this, _EmbeddedModal_root, document.createElement(\"div\"), \"f\");\n    __classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").id = \"mobile-wallet-adapter-embedded-root-ui\";\n    __classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").innerHTML = modalHtml;\n    __classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").style.display = \"none\";\n    // Add modal content\n    const content = __classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").querySelector(\".mobile-wallet-adapter-embedded-modal-content\");\n    if (content) content.innerHTML = this.contentHtml;\n    // Apply styles\n    const styles = document.createElement(\"style\");\n    styles.id = \"mobile-wallet-adapter-embedded-modal-styles\";\n    styles.textContent = css$2 + this.contentStyles;\n    // Create a shadow DOM to encapsulate the modal\n    const host = document.createElement(\"div\");\n    host.innerHTML = fonts;\n    this.dom = host.attachShadow({\n        mode: \"closed\"\n    });\n    this.dom.appendChild(styles);\n    this.dom.appendChild(__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\"));\n    // Append the shadow DOM host to the body\n    document.body.appendChild(host);\n}, _EmbeddedModal_attachEventListeners = function _EmbeddedModal_attachEventListeners() {\n    if (!__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\") || __classPrivateFieldGet$1(this, _EmbeddedModal_listenersAttached, \"f\")) return;\n    const closers = [\n        ...__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").querySelectorAll(\"[data-modal-close]\")\n    ];\n    closers.forEach((closer)=>closer === null || closer === void 0 ? void 0 : closer.addEventListener(\"click\", this.close));\n    window.addEventListener(\"load\", this.close);\n    document.addEventListener(\"keydown\", __classPrivateFieldGet$1(this, _EmbeddedModal_handleKeyDown, \"f\"));\n    __classPrivateFieldSet$1(this, _EmbeddedModal_listenersAttached, true, \"f\");\n}, _EmbeddedModal_removeEventListeners = function _EmbeddedModal_removeEventListeners() {\n    if (!__classPrivateFieldGet$1(this, _EmbeddedModal_listenersAttached, \"f\")) return;\n    window.removeEventListener(\"load\", this.close);\n    document.removeEventListener(\"keydown\", __classPrivateFieldGet$1(this, _EmbeddedModal_handleKeyDown, \"f\"));\n    if (!__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\")) return;\n    const closers = [\n        ...__classPrivateFieldGet$1(this, _EmbeddedModal_root, \"f\").querySelectorAll(\"[data-modal-close]\")\n    ];\n    closers.forEach((closer)=>closer === null || closer === void 0 ? void 0 : closer.removeEventListener(\"click\", this.close));\n    __classPrivateFieldSet$1(this, _EmbeddedModal_listenersAttached, false, \"f\");\n};\nclass RemoteConnectionModal extends EmbeddedModal {\n    constructor(){\n        super(...arguments);\n        this.contentStyles = css$1;\n        this.contentHtml = QRCodeHtml;\n    }\n    initWithQR(qrCode) {\n        const _super = Object.create(null, {\n            init: {\n                get: ()=>super.init\n            }\n        });\n        return __awaiter(this, void 0, void 0, function*() {\n            _super.init.call(this);\n            this.populateQRCode(qrCode);\n        });\n    }\n    populateQRCode(qrUrl) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function*() {\n            const qrcodeContainer = (_a = this.dom) === null || _a === void 0 ? void 0 : _a.getElementById(\"mobile-wallet-adapter-embedded-modal-qr-code-container\");\n            if (qrcodeContainer) {\n                const qrCodeElement = yield qrcode__WEBPACK_IMPORTED_MODULE_1__.toCanvas(qrUrl, {\n                    width: 200,\n                    margin: 0\n                });\n                if (qrcodeContainer.firstElementChild !== null) {\n                    qrcodeContainer.replaceChild(qrCodeElement, qrcodeContainer.firstElementChild);\n                } else qrcodeContainer.appendChild(qrCodeElement);\n            } else {\n                console.error(\"QRCode Container not found\");\n            }\n        });\n    }\n}\nconst QRCodeHtml = `\n<div class=\"mobile-wallet-adapter-embedded-modal-qr-content\">\n    <div>\n        <svg class=\"mobile-wallet-adapter-embedded-modal-icon\" width=\"100%\" height=\"100%\">\n            <circle r=\"52\" cx=\"53\" cy=\"53\" fill=\"#99b3be\" stroke=\"#000000\" stroke-width=\"2\"/>\n            <path d=\"m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z\"/>\n        </svg>\n        <div class=\"mobile-wallet-adapter-embedded-modal-title\">Remote Mobile Wallet Adapter</div>\n    </div>\n    <div>\n        <div>\n            <h4 class=\"mobile-wallet-adapter-embedded-modal-qr-label\">\n                Open your wallet and scan this code\n            </h4>\n        </div>\n        <div id=\"mobile-wallet-adapter-embedded-modal-qr-code-container\" class=\"mobile-wallet-adapter-embedded-modal-qr-code-container\"></div>\n    </div>\n</div>\n<div class=\"mobile-wallet-adapter-embedded-modal-divider\"><hr></div>\n<div class=\"mobile-wallet-adapter-embedded-modal-footer\">\n    <div class=\"mobile-wallet-adapter-embedded-modal-subtitle\">\n        Follow the instructions on your device. When you're finished, this screen will update.\n    </div>\n    <div class=\"mobile-wallet-adapter-embedded-modal-progress-badge\">\n        <div>\n            <div class=\"spinner\">\n                <div class=\"leftWrapper\">\n                    <div class=\"left\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n                <div class=\"rightWrapper\">\n                    <div class=\"right\">\n                        <div class=\"circle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div>Waiting for scan</div>\n    </div>\n</div>\n`;\nconst css$1 = `\n.mobile-wallet-adapter-embedded-modal-qr-content {\n    display: flex; \n    margin-top: 10px;\n    padding: 10px;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {\n    display: flex;\n    flex-direction: column;\n    flex: 2;\n    margin-top: auto;\n    margin-right: 30px;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    margin-left: auto;\n}\n\n.mobile-wallet-adapter-embedded-modal-footer {\n    display: flex;\n    padding: 10px;\n}\n\n.mobile-wallet-adapter-embedded-modal-icon {}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    color: #000000;\n    font-size: 2.5em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-label {\n    text-align: right;\n    color: #000000;\n}\n\n.mobile-wallet-adapter-embedded-modal-qr-code-container {\n    margin-left: auto;\n}\n\n.mobile-wallet-adapter-embedded-modal-divider {\n    margin-top: 20px;\n    padding-left: 10px;\n    padding-right: 10px;\n}\n\n.mobile-wallet-adapter-embedded-modal-divider hr {\n    border-top: 1px solid #D9DEDE;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: auto;\n    margin-right: 60px;\n    padding: 20px;\n    color: #6E8286;\n}\n\n.mobile-wallet-adapter-embedded-modal-progress-badge {\n    display: flex;\n    background: #F7F8F8;\n    height: 56px;\n    min-width: 200px;\n    margin: auto;\n    padding-left: 20px;\n    padding-right: 20px;\n    border-radius: 18px;\n    color: #A8B6B8;\n    align-items: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {\n    margin-left: auto;\n    margin-right: 20px;\n}\n\n.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {\n    margin-right: auto;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-card {\n        text-align: center;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-content {\n        flex-direction: column;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {\n        margin: auto;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {\n        margin: auto;\n        flex: 2 auto;\n    }\n    .mobile-wallet-adapter-embedded-modal-footer {\n        flex-direction: column;\n    }\n    .mobile-wallet-adapter-embedded-modal-icon {\n        display: none;\n    }\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: unset;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-label {\n        text-align: center;\n    }\n    .mobile-wallet-adapter-embedded-modal-qr-code-container {\n        margin: auto;\n    }\n}\n\n/* Spinner */\n@keyframes spinLeft {\n    0% {\n        transform: rotate(20deg);\n    }\n    50% {\n        transform: rotate(160deg);\n    }\n    100% {\n        transform: rotate(20deg);\n    }\n}\n@keyframes spinRight {\n    0% {\n        transform: rotate(160deg);\n    }\n    50% {\n        transform: rotate(20deg);\n    }\n    100% {\n        transform: rotate(160deg);\n    }\n}\n@keyframes spin {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(2520deg);\n    }\n}\n\n.spinner {\n    position: relative;\n    width: 1.5em;\n    height: 1.5em;\n    margin: auto;\n    animation: spin 10s linear infinite;\n}\n.spinner::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n.right, .rightWrapper, .left, .leftWrapper {\n    position: absolute;\n    top: 0;\n    overflow: hidden;\n    width: .75em;\n    height: 1.5em;\n}\n.left, .leftWrapper {\n    left: 0;\n}\n.right {\n    left: -12px;\n}\n.rightWrapper {\n    right: 0;\n}\n.circle {\n    border: .125em solid #A8B6B8;\n    width: 1.25em; /* 1.5em - 2*0.125em border */\n    height: 1.25em; /* 1.5em - 2*0.125em border */\n    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */\n}\n.left {\n    transform-origin: 100% 50%;\n    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;\n}\n.right {\n    transform-origin: 100% 50%;\n    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;\n}\n`;\nconst icon = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=\";\nfunction isVersionedTransaction(transaction) {\n    return \"version\" in transaction;\n}\nfunction fromUint8Array(byteArray) {\n    return window.btoa(String.fromCharCode.call(null, ...byteArray));\n}\nfunction toUint8Array(base64EncodedByteArray) {\n    return new Uint8Array(window.atob(base64EncodedByteArray).split(\"\").map((c)=>c.charCodeAt(0)));\n}\nvar _LocalSolanaMobileWalletAdapterWallet_instances, _LocalSolanaMobileWalletAdapterWallet_listeners, _LocalSolanaMobileWalletAdapterWallet_version, _LocalSolanaMobileWalletAdapterWallet_name, _LocalSolanaMobileWalletAdapterWallet_url, _LocalSolanaMobileWalletAdapterWallet_icon, _LocalSolanaMobileWalletAdapterWallet_appIdentity, _LocalSolanaMobileWalletAdapterWallet_authorization, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, _LocalSolanaMobileWalletAdapterWallet_connecting, _LocalSolanaMobileWalletAdapterWallet_connectionGeneration, _LocalSolanaMobileWalletAdapterWallet_chains, _LocalSolanaMobileWalletAdapterWallet_chainSelector, _LocalSolanaMobileWalletAdapterWallet_optionalFeatures, _LocalSolanaMobileWalletAdapterWallet_onWalletNotFound, _LocalSolanaMobileWalletAdapterWallet_on, _LocalSolanaMobileWalletAdapterWallet_emit, _LocalSolanaMobileWalletAdapterWallet_off, _LocalSolanaMobileWalletAdapterWallet_connect, _LocalSolanaMobileWalletAdapterWallet_performAuthorization, _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult, _LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult, _LocalSolanaMobileWalletAdapterWallet_performReauthorization, _LocalSolanaMobileWalletAdapterWallet_disconnect, _LocalSolanaMobileWalletAdapterWallet_transact, _LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized, _LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts, _LocalSolanaMobileWalletAdapterWallet_performSignTransactions, _LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction, _LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction, _LocalSolanaMobileWalletAdapterWallet_signTransaction, _LocalSolanaMobileWalletAdapterWallet_signMessage, _LocalSolanaMobileWalletAdapterWallet_signIn, _LocalSolanaMobileWalletAdapterWallet_performSignIn, _RemoteSolanaMobileWalletAdapterWallet_instances, _RemoteSolanaMobileWalletAdapterWallet_listeners, _RemoteSolanaMobileWalletAdapterWallet_version, _RemoteSolanaMobileWalletAdapterWallet_name, _RemoteSolanaMobileWalletAdapterWallet_url, _RemoteSolanaMobileWalletAdapterWallet_icon, _RemoteSolanaMobileWalletAdapterWallet_appIdentity, _RemoteSolanaMobileWalletAdapterWallet_authorization, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, _RemoteSolanaMobileWalletAdapterWallet_connecting, _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration, _RemoteSolanaMobileWalletAdapterWallet_chains, _RemoteSolanaMobileWalletAdapterWallet_chainSelector, _RemoteSolanaMobileWalletAdapterWallet_optionalFeatures, _RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound, _RemoteSolanaMobileWalletAdapterWallet_hostAuthority, _RemoteSolanaMobileWalletAdapterWallet_session, _RemoteSolanaMobileWalletAdapterWallet_on, _RemoteSolanaMobileWalletAdapterWallet_emit, _RemoteSolanaMobileWalletAdapterWallet_off, _RemoteSolanaMobileWalletAdapterWallet_connect, _RemoteSolanaMobileWalletAdapterWallet_performAuthorization, _RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult, _RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult, _RemoteSolanaMobileWalletAdapterWallet_performReauthorization, _RemoteSolanaMobileWalletAdapterWallet_disconnect, _RemoteSolanaMobileWalletAdapterWallet_transact, _RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized, _RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts, _RemoteSolanaMobileWalletAdapterWallet_performSignTransactions, _RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction, _RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction, _RemoteSolanaMobileWalletAdapterWallet_signTransaction, _RemoteSolanaMobileWalletAdapterWallet_signMessage, _RemoteSolanaMobileWalletAdapterWallet_signIn, _RemoteSolanaMobileWalletAdapterWallet_performSignIn;\nconst SolanaMobileWalletAdapterWalletName = \"Mobile Wallet Adapter\";\nconst SIGNATURE_LENGTH_IN_BYTES = 64;\nconst DEFAULT_FEATURES = [\n    _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction,\n    _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignTransaction,\n    _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_6__.SolanaSignMessage,\n    _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__.SolanaSignIn\n];\nclass LocalSolanaMobileWalletAdapterWallet {\n    constructor(config){\n        _LocalSolanaMobileWalletAdapterWallet_instances.add(this);\n        _LocalSolanaMobileWalletAdapterWallet_listeners.set(this, {});\n        _LocalSolanaMobileWalletAdapterWallet_version.set(this, \"1.0.0\"); // wallet-standard version\n        _LocalSolanaMobileWalletAdapterWallet_name.set(this, SolanaMobileWalletAdapterWalletName);\n        _LocalSolanaMobileWalletAdapterWallet_url.set(this, \"https://solanamobile.com/wallets\");\n        _LocalSolanaMobileWalletAdapterWallet_icon.set(this, icon);\n        _LocalSolanaMobileWalletAdapterWallet_appIdentity.set(this, void 0);\n        _LocalSolanaMobileWalletAdapterWallet_authorization.set(this, void 0);\n        _LocalSolanaMobileWalletAdapterWallet_authorizationCache.set(this, void 0);\n        _LocalSolanaMobileWalletAdapterWallet_connecting.set(this, false);\n        /**\n         * Every time the connection is recycled in some way (eg. `disconnect()` is called)\n         * increment this and use it to make sure that `transact` calls from the previous\n         * 'generation' don't continue to do work and throw exceptions.\n         */ _LocalSolanaMobileWalletAdapterWallet_connectionGeneration.set(this, 0);\n        _LocalSolanaMobileWalletAdapterWallet_chains.set(this, []);\n        _LocalSolanaMobileWalletAdapterWallet_chainSelector.set(this, void 0);\n        _LocalSolanaMobileWalletAdapterWallet_optionalFeatures.set(this, void 0);\n        _LocalSolanaMobileWalletAdapterWallet_onWalletNotFound.set(this, void 0);\n        _LocalSolanaMobileWalletAdapterWallet_on.set(this, (event, listener)=>{\n            var _a;\n            ((_a = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_listeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.push(listener)) || (__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_listeners, \"f\")[event] = [\n                listener\n            ]);\n            return ()=>__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_instances, \"m\", _LocalSolanaMobileWalletAdapterWallet_off).call(this, event, listener);\n        });\n        _LocalSolanaMobileWalletAdapterWallet_connect.set(this, ({ silent } = {})=>__awaiter(this, void 0, void 0, function*() {\n                if (__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_connecting, \"f\") || this.connected) {\n                    return {\n                        accounts: this.accounts\n                    };\n                }\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_connecting, true, \"f\");\n                try {\n                    if (silent) {\n                        const cachedAuthorization = yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").get();\n                        if (cachedAuthorization) {\n                            yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, cachedAuthorization);\n                        } else {\n                            return {\n                                accounts: this.accounts\n                            };\n                        }\n                    } else {\n                        yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performAuthorization, \"f\").call(this);\n                    }\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                } finally{\n                    __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_connecting, false, \"f\");\n                }\n                return {\n                    accounts: this.accounts\n                };\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_performAuthorization.set(this, (signInPayload)=>__awaiter(this, void 0, void 0, function*() {\n                try {\n                    const cachedAuthorizationResult = yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").get();\n                    if (cachedAuthorizationResult) {\n                        // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                        __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, cachedAuthorizationResult);\n                        return cachedAuthorizationResult;\n                    }\n                    const selectedChain = yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_chainSelector, \"f\").select(__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_chains, \"f\"));\n                    return yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            const [capabilities, mwaAuthorizationResult] = yield Promise.all([\n                                wallet.getCapabilities(),\n                                wallet.authorize({\n                                    chain: selectedChain,\n                                    identity: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_appIdentity, \"f\"),\n                                    sign_in_payload: signInPayload\n                                })\n                            ]);\n                            const accounts = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts, \"f\").call(this, mwaAuthorizationResult.accounts);\n                            const authorization = Object.assign(Object.assign({}, mwaAuthorizationResult), {\n                                accounts,\n                                chain: selectedChain\n                            });\n                            // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                            Promise.all([\n                                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult, \"f\").call(this, capabilities),\n                                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").set(authorization),\n                                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, authorization)\n                            ]);\n                            return authorization;\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult.set(this, (authorization)=>__awaiter(this, void 0, void 0, function*() {\n                var _a;\n                const didPublicKeysChange = // Case 1: We started from having no authorization.\n                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\") == null || // Case 2: The number of authorized accounts changed.\n                ((_a = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\")) === null || _a === void 0 ? void 0 : _a.accounts.length) !== authorization.accounts.length || // Case 3: The new list of addresses isn't exactly the same as the old list, in the same order.\n                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\").accounts.some((account, ii)=>account.address !== authorization.accounts[ii].address);\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, authorization, \"f\");\n                if (didPublicKeysChange) {\n                    __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_instances, \"m\", _LocalSolanaMobileWalletAdapterWallet_emit).call(this, \"change\", {\n                        accounts: this.accounts\n                    });\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult.set(this, (capabilities)=>__awaiter(this, void 0, void 0, function*() {\n                // TODO: investigate why using SolanaSignTransactions constant breaks treeshaking\n                const supportsSignTransaction = capabilities.features.includes(\"solana:signTransactions\"); //SolanaSignTransactions);\n                const supportsSignAndSendTransaction = capabilities.supports_sign_and_send_transactions;\n                const didCapabilitiesChange = _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction in this.features !== supportsSignAndSendTransaction || _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignTransaction in this.features !== supportsSignTransaction;\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_optionalFeatures, Object.assign(Object.assign({}, (supportsSignAndSendTransaction || !supportsSignAndSendTransaction && !supportsSignTransaction) && {\n                    [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction]: {\n                        version: \"1.0.0\",\n                        supportedTransactionVersions: [\n                            \"legacy\",\n                            0\n                        ],\n                        signAndSendTransaction: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction, \"f\")\n                    }\n                }), supportsSignTransaction && {\n                    [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignTransaction]: {\n                        version: \"1.0.0\",\n                        supportedTransactionVersions: [\n                            \"legacy\",\n                            0\n                        ],\n                        signTransaction: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_signTransaction, \"f\")\n                    }\n                }), \"f\");\n                if (didCapabilitiesChange) {\n                    __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_instances, \"m\", _LocalSolanaMobileWalletAdapterWallet_emit).call(this, \"change\", {\n                        features: this.features\n                    });\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_performReauthorization.set(this, (wallet, authToken, chain)=>__awaiter(this, void 0, void 0, function*() {\n                try {\n                    const mwaAuthorizationResult = yield wallet.authorize({\n                        auth_token: authToken,\n                        identity: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_appIdentity, \"f\"),\n                        chain: chain\n                    });\n                    const accounts = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts, \"f\").call(this, mwaAuthorizationResult.accounts);\n                    const authorization = Object.assign(Object.assign({}, mwaAuthorizationResult), {\n                        accounts: accounts,\n                        chain: chain\n                    });\n                    // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                    Promise.all([\n                        __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").set(authorization),\n                        __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, authorization)\n                    ]);\n                } catch (e) {\n                    __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_disconnect, \"f\").call(this);\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_disconnect.set(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                var _b;\n                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").clear(); // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_connecting, false, \"f\");\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_connectionGeneration, (_b = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_connectionGeneration, \"f\"), _b++, _b), \"f\");\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, undefined, \"f\");\n                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_instances, \"m\", _LocalSolanaMobileWalletAdapterWallet_emit).call(this, \"change\", {\n                    accounts: this.accounts\n                });\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_transact.set(this, (callback)=>__awaiter(this, void 0, void 0, function*() {\n                var _c;\n                const walletUriBase = (_c = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\")) === null || _c === void 0 ? void 0 : _c.wallet_uri_base;\n                const config = walletUriBase ? {\n                    baseUri: walletUriBase\n                } : undefined;\n                const currentConnectionGeneration = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_connectionGeneration, \"f\");\n                try {\n                    return yield (0,_solana_mobile_mobile_wallet_adapter_protocol_web3js__WEBPACK_IMPORTED_MODULE_2__.transact)(callback, config);\n                } catch (e) {\n                    if (__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_connectionGeneration, \"f\") !== currentConnectionGeneration) {\n                        yield new Promise(()=>{}); // Never resolve.\n                    }\n                    if (e instanceof Error && e.name === \"SolanaMobileWalletAdapterError\" && e.code === \"ERROR_WALLET_NOT_FOUND\") {\n                        yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_onWalletNotFound, \"f\").call(this, this);\n                    }\n                    throw e;\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized.set(this, ()=>{\n            if (!__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\")) throw new Error(\"Wallet not connected\");\n            return {\n                authToken: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\").auth_token,\n                chain: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\").chain\n            };\n        });\n        _LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts.set(this, (accounts)=>{\n            return accounts.map((account)=>{\n                var _a, _b;\n                const publicKey = toUint8Array(account.address);\n                return {\n                    address: bs58__WEBPACK_IMPORTED_MODULE_3__.encode(publicKey),\n                    publicKey,\n                    label: account.label,\n                    icon: account.icon,\n                    chains: (_a = account.chains) !== null && _a !== void 0 ? _a : __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_chains, \"f\"),\n                    // TODO: get supported features from getCapabilities API \n                    features: (_b = account.features) !== null && _b !== void 0 ? _b : DEFAULT_FEATURES\n                };\n            });\n        });\n        _LocalSolanaMobileWalletAdapterWallet_performSignTransactions.set(this, (transactions)=>__awaiter(this, void 0, void 0, function*() {\n                const { authToken, chain } = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized, \"f\").call(this);\n                try {\n                    return yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performReauthorization, \"f\").call(this, wallet, authToken, chain);\n                            const signedTransactions = yield wallet.signTransactions({\n                                transactions\n                            });\n                            return signedTransactions;\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction.set(this, (transaction, options)=>__awaiter(this, void 0, void 0, function*() {\n                const { authToken, chain } = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized, \"f\").call(this);\n                try {\n                    return yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            const [capabilities, _1] = yield Promise.all([\n                                wallet.getCapabilities(),\n                                __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performReauthorization, \"f\").call(this, wallet, authToken, chain)\n                            ]);\n                            if (capabilities.supports_sign_and_send_transactions) {\n                                const signatures = yield wallet.signAndSendTransactions(Object.assign(Object.assign({}, options), {\n                                    transactions: [\n                                        transaction\n                                    ]\n                                }));\n                                return signatures[0];\n                            } else {\n                                throw new Error(\"connected wallet does not support signAndSendTransaction\");\n                            }\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const outputs = [];\n                for (const input of inputs){\n                    const transaction = _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedTransaction.deserialize(input.transaction);\n                    const signature = yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction, \"f\").call(this, transaction, input.options);\n                    outputs.push({\n                        signature: bs58__WEBPACK_IMPORTED_MODULE_3__.decode(signature)\n                    });\n                }\n                return outputs;\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_signTransaction.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const transactions = inputs.map(({ transaction })=>_solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedTransaction.deserialize(transaction));\n                const signedTransactions = yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performSignTransactions, \"f\").call(this, transactions);\n                return signedTransactions.map((signedTransaction)=>{\n                    const serializedTransaction = isVersionedTransaction(signedTransaction) ? signedTransaction.serialize() : new Uint8Array(signedTransaction.serialize({\n                        requireAllSignatures: false,\n                        verifySignatures: false\n                    }));\n                    return {\n                        signedTransaction: serializedTransaction\n                    };\n                });\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_signMessage.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const { authToken, chain } = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized, \"f\").call(this);\n                const addresses = inputs.map(({ account })=>fromUint8Array(account.publicKey));\n                const messages = inputs.map(({ message })=>message);\n                try {\n                    return yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performReauthorization, \"f\").call(this, wallet, authToken, chain);\n                            const signedMessages = yield wallet.signMessages({\n                                addresses: addresses,\n                                payloads: messages\n                            });\n                            return signedMessages.map((signedMessage)=>{\n                                return {\n                                    signedMessage: signedMessage,\n                                    signature: signedMessage.slice(-SIGNATURE_LENGTH_IN_BYTES)\n                                };\n                            });\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_signIn.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const outputs = [];\n                if (inputs.length > 1) {\n                    for (const input of inputs){\n                        outputs.push((yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performSignIn, \"f\").call(this, input)));\n                    }\n                } else {\n                    return [\n                        (yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performSignIn, \"f\").call(this, inputs[0]))\n                    ];\n                }\n                return outputs;\n            }));\n        _LocalSolanaMobileWalletAdapterWallet_performSignIn.set(this, (input)=>__awaiter(this, void 0, void 0, function*() {\n                var _d, _e;\n                __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_connecting, true, \"f\");\n                try {\n                    const authorizationResult = yield __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_performAuthorization, \"f\").call(this, Object.assign(Object.assign({}, input), {\n                        domain: (_d = input === null || input === void 0 ? void 0 : input.domain) !== null && _d !== void 0 ? _d : window.location.host\n                    }));\n                    if (!authorizationResult.sign_in_result) {\n                        throw new Error(\"Sign in failed, no sign in result returned by wallet\");\n                    }\n                    const signedInAddress = authorizationResult.sign_in_result.address;\n                    const signedInAccount = Object.assign(Object.assign({}, (_e = authorizationResult.accounts.find((acc)=>acc.address == signedInAddress)) !== null && _e !== void 0 ? _e : {\n                        address: signedInAddress\n                    }), {\n                        publicKey: toUint8Array(signedInAddress)\n                    });\n                    return {\n                        account: signedInAccount,\n                        signedMessage: toUint8Array(authorizationResult.sign_in_result.signed_message),\n                        signature: toUint8Array(authorizationResult.sign_in_result.signature)\n                    };\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                } finally{\n                    __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_connecting, false, \"f\");\n                }\n            }));\n        __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, config.authorizationCache, \"f\");\n        __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_appIdentity, config.appIdentity, \"f\");\n        __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_chains, config.chains, \"f\");\n        __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_chainSelector, config.chainSelector, \"f\");\n        __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_onWalletNotFound, config.onWalletNotFound, \"f\");\n        __classPrivateFieldSet$1(this, _LocalSolanaMobileWalletAdapterWallet_optionalFeatures, {\n            // We are forced to provide either SolanaSignAndSendTransaction or SolanaSignTransaction\n            // because the wallet-adapter compatible wallet-standard wallet requires at least one of them.\n            // MWA 2.0+ wallets must implement signAndSend and pre 2.0 wallets have always provided it so \n            // this is a safe assumption. We later update the features after we get the wallets capabilities. \n            [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction]: {\n                version: \"1.0.0\",\n                supportedTransactionVersions: [\n                    \"legacy\",\n                    0\n                ],\n                signAndSendTransaction: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction, \"f\")\n            }\n        }, \"f\");\n    }\n    get version() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_version, \"f\");\n    }\n    get name() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_name, \"f\");\n    }\n    get url() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_url, \"f\");\n    }\n    get icon() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_icon, \"f\");\n    }\n    get chains() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_chains, \"f\");\n    }\n    get features() {\n        return Object.assign({\n            [_wallet_standard_features__WEBPACK_IMPORTED_MODULE_8__.StandardConnect]: {\n                version: \"1.0.0\",\n                connect: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_connect, \"f\")\n            },\n            [_wallet_standard_features__WEBPACK_IMPORTED_MODULE_9__.StandardDisconnect]: {\n                version: \"1.0.0\",\n                disconnect: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_disconnect, \"f\")\n            },\n            [_wallet_standard_features__WEBPACK_IMPORTED_MODULE_10__.StandardEvents]: {\n                version: \"1.0.0\",\n                on: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_on, \"f\")\n            },\n            [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_6__.SolanaSignMessage]: {\n                version: \"1.0.0\",\n                signMessage: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_signMessage, \"f\")\n            },\n            [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__.SolanaSignIn]: {\n                version: \"1.0.0\",\n                signIn: __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_signIn, \"f\")\n            }\n        }, __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_optionalFeatures, \"f\"));\n    }\n    get accounts() {\n        var _a, _b;\n        return (_b = (_a = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\")) === null || _a === void 0 ? void 0 : _a.accounts) !== null && _b !== void 0 ? _b : [];\n    }\n    get connected() {\n        return !!__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\");\n    }\n    get isAuthorized() {\n        return !!__classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\");\n    }\n    get currentAuthorization() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorization, \"f\");\n    }\n    get cachedAuthorizationResult() {\n        return __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").get();\n    }\n}\n_LocalSolanaMobileWalletAdapterWallet_listeners = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_version = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_name = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_url = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_icon = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_appIdentity = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_authorization = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_authorizationCache = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_connecting = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_connectionGeneration = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_chains = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_chainSelector = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_optionalFeatures = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_onWalletNotFound = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_on = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_connect = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_performAuthorization = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_handleAuthorizationResult = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_performReauthorization = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_disconnect = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_transact = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_assertIsAuthorized = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_performSignTransactions = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_performSignAndSendTransaction = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_signAndSendTransaction = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_signTransaction = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_signMessage = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_signIn = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_performSignIn = new WeakMap(), _LocalSolanaMobileWalletAdapterWallet_instances = new WeakSet(), _LocalSolanaMobileWalletAdapterWallet_emit = function _LocalSolanaMobileWalletAdapterWallet_emit(event, ...args) {\n    var _a;\n    // eslint-disable-next-line prefer-spread\n    (_a = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_listeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.forEach((listener)=>listener.apply(null, args));\n}, _LocalSolanaMobileWalletAdapterWallet_off = function _LocalSolanaMobileWalletAdapterWallet_off(event, listener) {\n    var _a;\n    __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_listeners, \"f\")[event] = (_a = __classPrivateFieldGet$1(this, _LocalSolanaMobileWalletAdapterWallet_listeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.filter((existingListener)=>listener !== existingListener);\n};\nclass RemoteSolanaMobileWalletAdapterWallet {\n    constructor(config){\n        _RemoteSolanaMobileWalletAdapterWallet_instances.add(this);\n        _RemoteSolanaMobileWalletAdapterWallet_listeners.set(this, {});\n        _RemoteSolanaMobileWalletAdapterWallet_version.set(this, \"1.0.0\"); // wallet-standard version\n        _RemoteSolanaMobileWalletAdapterWallet_name.set(this, SolanaMobileWalletAdapterWalletName);\n        _RemoteSolanaMobileWalletAdapterWallet_url.set(this, \"https://solanamobile.com/wallets\");\n        _RemoteSolanaMobileWalletAdapterWallet_icon.set(this, icon);\n        _RemoteSolanaMobileWalletAdapterWallet_appIdentity.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_authorization.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_authorizationCache.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_connecting.set(this, false);\n        /**\n         * Every time the connection is recycled in some way (eg. `disconnect()` is called)\n         * increment this and use it to make sure that `transact` calls from the previous\n         * 'generation' don't continue to do work and throw exceptions.\n         */ _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration.set(this, 0);\n        _RemoteSolanaMobileWalletAdapterWallet_chains.set(this, []);\n        _RemoteSolanaMobileWalletAdapterWallet_chainSelector.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_optionalFeatures.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_hostAuthority.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_session.set(this, void 0);\n        _RemoteSolanaMobileWalletAdapterWallet_on.set(this, (event, listener)=>{\n            var _a;\n            ((_a = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_listeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.push(listener)) || (__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_listeners, \"f\")[event] = [\n                listener\n            ]);\n            return ()=>__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_instances, \"m\", _RemoteSolanaMobileWalletAdapterWallet_off).call(this, event, listener);\n        });\n        _RemoteSolanaMobileWalletAdapterWallet_connect.set(this, ({ silent } = {})=>__awaiter(this, void 0, void 0, function*() {\n                if (__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connecting, \"f\") || this.connected) {\n                    return {\n                        accounts: this.accounts\n                    };\n                }\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connecting, true, \"f\");\n                try {\n                    yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performAuthorization, \"f\").call(this);\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                } finally{\n                    __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connecting, false, \"f\");\n                }\n                return {\n                    accounts: this.accounts\n                };\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_performAuthorization.set(this, (signInPayload)=>__awaiter(this, void 0, void 0, function*() {\n                try {\n                    const cachedAuthorizationResult = yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").get();\n                    if (cachedAuthorizationResult) {\n                        // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                        __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, cachedAuthorizationResult);\n                        return cachedAuthorizationResult;\n                    }\n                    if (__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, \"f\")) __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, undefined, \"f\");\n                    const selectedChain = yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_chainSelector, \"f\").select(__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_chains, \"f\"));\n                    return yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            const [capabilities, mwaAuthorizationResult] = yield Promise.all([\n                                wallet.getCapabilities(),\n                                wallet.authorize({\n                                    chain: selectedChain,\n                                    identity: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_appIdentity, \"f\"),\n                                    sign_in_payload: signInPayload\n                                })\n                            ]);\n                            const accounts = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts, \"f\").call(this, mwaAuthorizationResult.accounts);\n                            const authorizationResult = Object.assign(Object.assign({}, mwaAuthorizationResult), {\n                                accounts,\n                                chain: selectedChain\n                            });\n                            // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                            Promise.all([\n                                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult, \"f\").call(this, capabilities),\n                                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").set(authorizationResult),\n                                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, authorizationResult)\n                            ]);\n                            return authorizationResult;\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult.set(this, (authorization)=>__awaiter(this, void 0, void 0, function*() {\n                var _a;\n                const didPublicKeysChange = // Case 1: We started from having no authorization.\n                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\") == null || // Case 2: The number of authorized accounts changed.\n                ((_a = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\")) === null || _a === void 0 ? void 0 : _a.accounts.length) !== authorization.accounts.length || // Case 3: The new list of addresses isn't exactly the same as the old list, in the same order.\n                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\").accounts.some((account, ii)=>account.address !== authorization.accounts[ii].address);\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, authorization, \"f\");\n                if (didPublicKeysChange) {\n                    __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_instances, \"m\", _RemoteSolanaMobileWalletAdapterWallet_emit).call(this, \"change\", {\n                        accounts: this.accounts\n                    });\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult.set(this, (capabilities)=>__awaiter(this, void 0, void 0, function*() {\n                // TODO: investigate why using SolanaSignTransactions constant breaks treeshaking\n                const supportsSignTransaction = capabilities.features.includes(\"solana:signTransactions\"); //SolanaSignTransactions);\n                const supportsSignAndSendTransaction = capabilities.supports_sign_and_send_transactions || capabilities.features.includes(\"solana:signAndSendTransaction\");\n                const didCapabilitiesChange = _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction in this.features !== supportsSignAndSendTransaction || _solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignTransaction in this.features !== supportsSignTransaction;\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_optionalFeatures, Object.assign(Object.assign({}, supportsSignAndSendTransaction && {\n                    [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction]: {\n                        version: \"1.0.0\",\n                        supportedTransactionVersions: capabilities.supported_transaction_versions,\n                        signAndSendTransaction: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction, \"f\")\n                    }\n                }), supportsSignTransaction && {\n                    [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_5__.SolanaSignTransaction]: {\n                        version: \"1.0.0\",\n                        supportedTransactionVersions: capabilities.supported_transaction_versions,\n                        signTransaction: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_signTransaction, \"f\")\n                    }\n                }), \"f\");\n                if (didCapabilitiesChange) {\n                    __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_instances, \"m\", _RemoteSolanaMobileWalletAdapterWallet_emit).call(this, \"change\", {\n                        features: this.features\n                    });\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_performReauthorization.set(this, (wallet, authToken, chain)=>__awaiter(this, void 0, void 0, function*() {\n                try {\n                    const mwaAuthorizationResult = yield wallet.authorize({\n                        auth_token: authToken,\n                        identity: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_appIdentity, \"f\")\n                    });\n                    const accounts = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts, \"f\").call(this, mwaAuthorizationResult.accounts);\n                    const authorization = Object.assign(Object.assign({}, mwaAuthorizationResult), {\n                        accounts: accounts,\n                        chain: chain\n                    });\n                    // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                    Promise.all([\n                        __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").set(authorization),\n                        __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult, \"f\").call(this, authorization)\n                    ]);\n                } catch (e) {\n                    __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_disconnect, \"f\").call(this);\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_disconnect.set(this, ()=>__awaiter(this, void 0, void 0, function*() {\n                var _b;\n                var _c;\n                (_b = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, \"f\")) === null || _b === void 0 ? void 0 : _b.close();\n                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").clear(); // TODO: Evaluate whether there's any threat to not `awaiting` this expression\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connecting, false, \"f\");\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration, (_c = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration, \"f\"), _c++, _c), \"f\");\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, undefined, \"f\");\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, undefined, \"f\");\n                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_instances, \"m\", _RemoteSolanaMobileWalletAdapterWallet_emit).call(this, \"change\", {\n                    accounts: this.accounts\n                });\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_transact.set(this, (callback)=>__awaiter(this, void 0, void 0, function*() {\n                var _d;\n                const walletUriBase = (_d = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\")) === null || _d === void 0 ? void 0 : _d.wallet_uri_base;\n                const baseConfig = walletUriBase ? {\n                    baseUri: walletUriBase\n                } : undefined;\n                const remoteConfig = Object.assign(Object.assign({}, baseConfig), {\n                    remoteHostAuthority: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_hostAuthority, \"f\")\n                });\n                const currentConnectionGeneration = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration, \"f\");\n                const modal = new RemoteConnectionModal();\n                if (__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, \"f\")) {\n                    return callback(__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, \"f\").wallet);\n                }\n                try {\n                    const { associationUrl, close, wallet } = yield (0,_solana_mobile_mobile_wallet_adapter_protocol_web3js__WEBPACK_IMPORTED_MODULE_2__.startRemoteScenario)(remoteConfig);\n                    const removeCloseListener = modal.addEventListener(\"close\", (event)=>{\n                        if (event) close();\n                    });\n                    modal.initWithQR(associationUrl.toString());\n                    modal.open();\n                    __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, {\n                        close,\n                        wallet: yield wallet\n                    }, \"f\");\n                    removeCloseListener();\n                    modal.close();\n                    return yield callback(__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, \"f\").wallet);\n                } catch (e) {\n                    modal.close();\n                    if (__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration, \"f\") !== currentConnectionGeneration) {\n                        yield new Promise(()=>{}); // Never resolve.\n                    }\n                    if (e instanceof Error && e.name === \"SolanaMobileWalletAdapterError\" && e.code === \"ERROR_WALLET_NOT_FOUND\") {\n                        yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound, \"f\").call(this, this);\n                    }\n                    throw e;\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized.set(this, ()=>{\n            if (!__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\")) throw new Error(\"Wallet not connected\");\n            return {\n                authToken: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\").auth_token,\n                chain: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\").chain\n            };\n        });\n        _RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts.set(this, (accounts)=>{\n            return accounts.map((account)=>{\n                var _a, _b;\n                const publicKey = toUint8Array(account.address);\n                return {\n                    address: bs58__WEBPACK_IMPORTED_MODULE_3__.encode(publicKey),\n                    publicKey,\n                    label: account.label,\n                    icon: account.icon,\n                    chains: (_a = account.chains) !== null && _a !== void 0 ? _a : __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_chains, \"f\"),\n                    // TODO: get supported features from getCapabilities API \n                    features: (_b = account.features) !== null && _b !== void 0 ? _b : DEFAULT_FEATURES\n                };\n            });\n        });\n        _RemoteSolanaMobileWalletAdapterWallet_performSignTransactions.set(this, (transactions)=>__awaiter(this, void 0, void 0, function*() {\n                const { authToken, chain } = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized, \"f\").call(this);\n                try {\n                    return yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performReauthorization, \"f\").call(this, wallet, authToken, chain);\n                            const signedTransactions = yield wallet.signTransactions({\n                                transactions\n                            });\n                            return signedTransactions;\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction.set(this, (transaction, options)=>__awaiter(this, void 0, void 0, function*() {\n                const { authToken, chain } = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized, \"f\").call(this);\n                try {\n                    return yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            const [capabilities, _1] = yield Promise.all([\n                                wallet.getCapabilities(),\n                                __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performReauthorization, \"f\").call(this, wallet, authToken, chain)\n                            ]);\n                            if (capabilities.supports_sign_and_send_transactions) {\n                                const signatures = yield wallet.signAndSendTransactions(Object.assign(Object.assign({}, options), {\n                                    transactions: [\n                                        transaction\n                                    ]\n                                }));\n                                return signatures[0];\n                            } else {\n                                throw new Error(\"connected wallet does not support signAndSendTransaction\");\n                            }\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const outputs = [];\n                for (const input of inputs){\n                    const transaction = _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedTransaction.deserialize(input.transaction);\n                    const signature = yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction, \"f\").call(this, transaction, input.options);\n                    outputs.push({\n                        signature: bs58__WEBPACK_IMPORTED_MODULE_3__.decode(signature)\n                    });\n                }\n                return outputs;\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_signTransaction.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const transactions = inputs.map(({ transaction })=>_solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.VersionedTransaction.deserialize(transaction));\n                const signedTransactions = yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performSignTransactions, \"f\").call(this, transactions);\n                return signedTransactions.map((signedTransaction)=>{\n                    const serializedTransaction = isVersionedTransaction(signedTransaction) ? signedTransaction.serialize() : new Uint8Array(signedTransaction.serialize({\n                        requireAllSignatures: false,\n                        verifySignatures: false\n                    }));\n                    return {\n                        signedTransaction: serializedTransaction\n                    };\n                });\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_signMessage.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const { authToken, chain } = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized, \"f\").call(this);\n                const addresses = inputs.map(({ account })=>fromUint8Array(account.publicKey));\n                const messages = inputs.map(({ message })=>message);\n                try {\n                    return yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_transact, \"f\").call(this, (wallet)=>__awaiter(this, void 0, void 0, function*() {\n                            yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performReauthorization, \"f\").call(this, wallet, authToken, chain);\n                            const signedMessages = yield wallet.signMessages({\n                                addresses: addresses,\n                                payloads: messages\n                            });\n                            return signedMessages.map((signedMessage)=>{\n                                return {\n                                    signedMessage: signedMessage,\n                                    signature: signedMessage.slice(-SIGNATURE_LENGTH_IN_BYTES)\n                                };\n                            });\n                        }));\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                }\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_signIn.set(this, (...inputs)=>__awaiter(this, void 0, void 0, function*() {\n                const outputs = [];\n                if (inputs.length > 1) {\n                    for (const input of inputs){\n                        outputs.push((yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performSignIn, \"f\").call(this, input)));\n                    }\n                } else {\n                    return [\n                        (yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performSignIn, \"f\").call(this, inputs[0]))\n                    ];\n                }\n                return outputs;\n            }));\n        _RemoteSolanaMobileWalletAdapterWallet_performSignIn.set(this, (input)=>__awaiter(this, void 0, void 0, function*() {\n                var _e, _f;\n                __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connecting, true, \"f\");\n                try {\n                    const authorizationResult = yield __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_performAuthorization, \"f\").call(this, Object.assign(Object.assign({}, input), {\n                        domain: (_e = input === null || input === void 0 ? void 0 : input.domain) !== null && _e !== void 0 ? _e : window.location.host\n                    }));\n                    if (!authorizationResult.sign_in_result) {\n                        throw new Error(\"Sign in failed, no sign in result returned by wallet\");\n                    }\n                    const signedInAddress = authorizationResult.sign_in_result.address;\n                    const signedInAccount = Object.assign(Object.assign({}, (_f = authorizationResult.accounts.find((acc)=>acc.address == signedInAddress)) !== null && _f !== void 0 ? _f : {\n                        address: signedInAddress\n                    }), {\n                        publicKey: toUint8Array(signedInAddress)\n                    });\n                    return {\n                        account: signedInAccount,\n                        signedMessage: toUint8Array(authorizationResult.sign_in_result.signed_message),\n                        signature: toUint8Array(authorizationResult.sign_in_result.signature)\n                    };\n                } catch (e) {\n                    throw new Error(e instanceof Error && e.message || \"Unknown error\");\n                } finally{\n                    __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connecting, false, \"f\");\n                }\n            }));\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, config.authorizationCache, \"f\");\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_appIdentity, config.appIdentity, \"f\");\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_chains, config.chains, \"f\");\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_chainSelector, config.chainSelector, \"f\");\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_hostAuthority, config.remoteHostAuthority, \"f\");\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound, config.onWalletNotFound, \"f\");\n        __classPrivateFieldSet$1(this, _RemoteSolanaMobileWalletAdapterWallet_optionalFeatures, {\n            // We are forced to provide either SolanaSignAndSendTransaction or SolanaSignTransaction\n            // because the wallet-adapter compatible wallet-standard wallet requires at least one of them.\n            // MWA 2.0+ wallets must implement signAndSend and pre 2.0 wallets have always provided it so \n            // this is a safe assumption. We later update the features after we get the wallets capabilities. \n            [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_4__.SolanaSignAndSendTransaction]: {\n                version: \"1.0.0\",\n                supportedTransactionVersions: [\n                    \"legacy\",\n                    0\n                ],\n                signAndSendTransaction: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction, \"f\")\n            }\n        }, \"f\");\n    }\n    get version() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_version, \"f\");\n    }\n    get name() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_name, \"f\");\n    }\n    get url() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_url, \"f\");\n    }\n    get icon() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_icon, \"f\");\n    }\n    get chains() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_chains, \"f\");\n    }\n    get features() {\n        return Object.assign({\n            [_wallet_standard_features__WEBPACK_IMPORTED_MODULE_8__.StandardConnect]: {\n                version: \"1.0.0\",\n                connect: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_connect, \"f\")\n            },\n            [_wallet_standard_features__WEBPACK_IMPORTED_MODULE_9__.StandardDisconnect]: {\n                version: \"1.0.0\",\n                disconnect: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_disconnect, \"f\")\n            },\n            [_wallet_standard_features__WEBPACK_IMPORTED_MODULE_10__.StandardEvents]: {\n                version: \"1.0.0\",\n                on: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_on, \"f\")\n            },\n            [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_6__.SolanaSignMessage]: {\n                version: \"1.0.0\",\n                signMessage: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_signMessage, \"f\")\n            },\n            [_solana_wallet_standard_features__WEBPACK_IMPORTED_MODULE_7__.SolanaSignIn]: {\n                version: \"1.0.0\",\n                signIn: __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_signIn, \"f\")\n            }\n        }, __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_optionalFeatures, \"f\"));\n    }\n    get accounts() {\n        var _a, _b;\n        return (_b = (_a = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\")) === null || _a === void 0 ? void 0 : _a.accounts) !== null && _b !== void 0 ? _b : [];\n    }\n    get connected() {\n        return !!__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_session, \"f\") && !!__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\");\n    }\n    get isAuthorized() {\n        return !!__classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\");\n    }\n    get currentAuthorization() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorization, \"f\");\n    }\n    get cachedAuthorizationResult() {\n        return __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_authorizationCache, \"f\").get();\n    }\n}\n_RemoteSolanaMobileWalletAdapterWallet_listeners = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_version = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_name = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_url = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_icon = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_appIdentity = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_authorization = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_authorizationCache = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_connecting = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_connectionGeneration = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_chains = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_chainSelector = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_optionalFeatures = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_onWalletNotFound = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_hostAuthority = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_session = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_on = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_connect = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_performAuthorization = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_handleAuthorizationResult = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_handleWalletCapabilitiesResult = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_performReauthorization = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_disconnect = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_transact = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_assertIsAuthorized = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_accountsToWalletStandardAccounts = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_performSignTransactions = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_performSignAndSendTransaction = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_signAndSendTransaction = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_signTransaction = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_signMessage = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_signIn = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_performSignIn = new WeakMap(), _RemoteSolanaMobileWalletAdapterWallet_instances = new WeakSet(), _RemoteSolanaMobileWalletAdapterWallet_emit = function _RemoteSolanaMobileWalletAdapterWallet_emit(event, ...args) {\n    var _a;\n    // eslint-disable-next-line prefer-spread\n    (_a = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_listeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.forEach((listener)=>listener.apply(null, args));\n}, _RemoteSolanaMobileWalletAdapterWallet_off = function _RemoteSolanaMobileWalletAdapterWallet_off(event, listener) {\n    var _a;\n    __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_listeners, \"f\")[event] = (_a = __classPrivateFieldGet$1(this, _RemoteSolanaMobileWalletAdapterWallet_listeners, \"f\")[event]) === null || _a === void 0 ? void 0 : _a.filter((existingListener)=>listener !== existingListener);\n};\nvar __classPrivateFieldSet =  false || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet =  false || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RegisterWalletEvent_detail;\n/**\n * Register a {@link \"@wallet-standard/base\".Wallet} as a Standard Wallet with the app.\n *\n * This dispatches a {@link \"@wallet-standard/base\".WindowRegisterWalletEvent} to notify the app that the Wallet is\n * ready to be registered.\n *\n * This also adds a listener for {@link \"@wallet-standard/base\".WindowAppReadyEvent} to listen for a notification from\n * the app that the app is ready to register the Wallet.\n *\n * This combination of event dispatch and listener guarantees that the Wallet will be registered synchronously as soon\n * as the app is ready whether the Wallet loads before or after the app.\n *\n * @param wallet Wallet to register.\n *\n * @group Wallet\n */ function registerWallet(wallet) {\n    const callback = ({ register })=>register(wallet);\n    try {\n        window.dispatchEvent(new RegisterWalletEvent(callback));\n    } catch (error) {\n        console.error(\"wallet-standard:register-wallet event could not be dispatched\\n\", error);\n    }\n    try {\n        window.addEventListener(\"wallet-standard:app-ready\", ({ detail: api })=>callback(api));\n    } catch (error) {\n        console.error(\"wallet-standard:app-ready event listener could not be added\\n\", error);\n    }\n}\nclass RegisterWalletEvent extends Event {\n    constructor(callback){\n        super(\"wallet-standard:register-wallet\", {\n            bubbles: false,\n            cancelable: false,\n            composed: false\n        });\n        _RegisterWalletEvent_detail.set(this, void 0);\n        __classPrivateFieldSet(this, _RegisterWalletEvent_detail, callback, \"f\");\n    }\n    get detail() {\n        return __classPrivateFieldGet(this, _RegisterWalletEvent_detail, \"f\");\n    }\n    get type() {\n        return \"wallet-standard:register-wallet\";\n    }\n    /** @deprecated */ preventDefault() {\n        throw new Error(\"preventDefault cannot be called\");\n    }\n    /** @deprecated */ stopImmediatePropagation() {\n        throw new Error(\"stopImmediatePropagation cannot be called\");\n    }\n    /** @deprecated */ stopPropagation() {\n        throw new Error(\"stopPropagation cannot be called\");\n    }\n}\n_RegisterWalletEvent_detail = new WeakMap();\n false || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n false || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nfunction getIsLocalAssociationSupported() {\n    return  false && 0;\n}\nfunction getIsRemoteAssociationSupported() {\n    return  false && 0;\n}\nfunction registerMwa(config) {\n    if (getIsLocalAssociationSupported()) {\n        registerWallet(new LocalSolanaMobileWalletAdapterWallet(config));\n    } else if (getIsRemoteAssociationSupported() && config.remoteHostAuthority !== undefined) {\n        registerWallet(new RemoteSolanaMobileWalletAdapterWallet(Object.assign(Object.assign({}, config), {\n            remoteHostAuthority: config.remoteHostAuthority\n        })));\n    } else ;\n}\nconst WALLET_NOT_FOUND_ERROR_MESSAGE = \"To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.\";\nconst BROWSER_NOT_SUPPORTED_ERROR_MESSAGE = \"This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.\";\nclass ErrorModal extends EmbeddedModal {\n    constructor(){\n        super(...arguments);\n        this.contentStyles = css;\n        this.contentHtml = ErrorDialogHtml;\n    }\n    initWithError(error) {\n        super.init();\n        this.populateError(error);\n    }\n    populateError(error) {\n        var _a, _b;\n        const errorMessageElement = (_a = this.dom) === null || _a === void 0 ? void 0 : _a.getElementById(\"mobile-wallet-adapter-error-message\");\n        const actionBtn = (_b = this.dom) === null || _b === void 0 ? void 0 : _b.getElementById(\"mobile-wallet-adapter-error-action\");\n        if (errorMessageElement) {\n            if (error.name === \"SolanaMobileWalletAdapterError\") {\n                switch(error.code){\n                    case \"ERROR_WALLET_NOT_FOUND\":\n                        errorMessageElement.innerHTML = WALLET_NOT_FOUND_ERROR_MESSAGE;\n                        if (actionBtn) actionBtn.addEventListener(\"click\", ()=>{\n                            window.location.href = \"https://solanamobile.com/wallets\";\n                        });\n                        return;\n                    case \"ERROR_BROWSER_NOT_SUPPORTED\":\n                        errorMessageElement.innerHTML = BROWSER_NOT_SUPPORTED_ERROR_MESSAGE;\n                        if (actionBtn) actionBtn.style.display = \"none\";\n                        return;\n                }\n            }\n            errorMessageElement.innerHTML = `An unexpected error occurred: ${error.message}`;\n        } else {\n            console.log(\"Failed to locate error dialog element\");\n        }\n    }\n}\nconst ErrorDialogHtml = `\n<svg class=\"mobile-wallet-adapter-embedded-modal-error-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"50px\" viewBox=\"0 -960 960 960\" width=\"50px\" fill=\"#000000\"><path d=\"M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z\"/></svg>\n<div class=\"mobile-wallet-adapter-embedded-modal-title\">We can't find a wallet.</div>\n<div id=\"mobile-wallet-adapter-error-message\" class=\"mobile-wallet-adapter-embedded-modal-subtitle\"></div>\n<div>\n    <button data-error-action id=\"mobile-wallet-adapter-error-action\" class=\"mobile-wallet-adapter-embedded-modal-error-action\">\n        Find a wallet\n    </button>\n</div>\n`;\nconst css = `\n.mobile-wallet-adapter-embedded-modal-content {\n    text-align: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-icon {\n    margin-top: 24px;\n}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    margin: 18px 100px auto 100px;\n    color: #000000;\n    font-size: 2.75em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: 30px 60px 40px 60px;\n    color: #000000;\n    font-size: 1.25em;\n    font-weight: 400;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-action {\n    display: block;\n    width: 100%;\n    height: 56px;\n    /*margin-top: 40px;*/\n    font-size: 1.25em;\n    /*line-height: 24px;*/\n    /*letter-spacing: -1%;*/\n    background: #000000;\n    color: #FFFFFF;\n    border-radius: 18px;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n}\n`;\nfunction defaultErrorModalWalletNotFoundHandler() {\n    return __awaiter(this, void 0, void 0, function*() {\n        if (false) {}\n    });\n}\nfunction createDefaultWalletNotFoundHandler() {\n    return ()=>__awaiter(this, void 0, void 0, function*() {\n            defaultErrorModalWalletNotFoundHandler();\n        });\n}\nconst CACHE_KEY = \"SolanaMobileWalletAdapterDefaultAuthorizationCache\";\nfunction createDefaultAuthorizationCache() {\n    let storage;\n    try {\n        storage = window.localStorage;\n    // eslint-disable-next-line no-empty\n    } catch (_a) {}\n    return {\n        clear () {\n            return __awaiter(this, void 0, void 0, function*() {\n                if (!storage) {\n                    return;\n                }\n                try {\n                    storage.removeItem(CACHE_KEY);\n                // eslint-disable-next-line no-empty\n                } catch (_a) {}\n            });\n        },\n        get () {\n            return __awaiter(this, void 0, void 0, function*() {\n                if (!storage) {\n                    return;\n                }\n                try {\n                    const parsed = JSON.parse(storage.getItem(CACHE_KEY));\n                    if (parsed && parsed.accounts) {\n                        const parsedAccounts = parsed.accounts.map((account)=>{\n                            return Object.assign(Object.assign({}, account), {\n                                publicKey: \"publicKey\" in account ? new Uint8Array(Object.values(account.publicKey)) // Rebuild publicKey for WalletAccount\n                                 : new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey(account.address).toBytes()\n                            });\n                        });\n                        return Object.assign(Object.assign({}, parsed), {\n                            accounts: parsedAccounts\n                        });\n                    } else return parsed || undefined;\n                // eslint-disable-next-line no-empty\n                } catch (_a) {}\n            });\n        },\n        set (authorizationResult) {\n            return __awaiter(this, void 0, void 0, function*() {\n                if (!storage) {\n                    return;\n                }\n                try {\n                    storage.setItem(CACHE_KEY, JSON.stringify(authorizationResult));\n                // eslint-disable-next-line no-empty\n                } catch (_a) {}\n            });\n        }\n    };\n}\nfunction createDefaultChainSelector() {\n    return {\n        select (chains) {\n            return __awaiter(this, void 0, void 0, function*() {\n                if (chains.length === 1) {\n                    return chains[0];\n                } else if (chains.includes(_solana_wallet_standard_chains__WEBPACK_IMPORTED_MODULE_11__.SOLANA_MAINNET_CHAIN)) {\n                    return _solana_wallet_standard_chains__WEBPACK_IMPORTED_MODULE_11__.SOLANA_MAINNET_CHAIN;\n                } else return chains[0];\n            });\n        }\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHNvbGFuYS1tb2JpbGUvd2FsbGV0LXN0YW5kYXJkLW1vYmlsZS9saWIvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdJO0FBQ3RFO0FBQ3RDO0FBQ29FO0FBQzFCO0FBQytCO0FBQzNFO0FBRTFCOzs7Ozs7Ozs7Ozs7OzhFQWE4RSxHQUU5RSxTQUFTYyxVQUFVQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsQ0FBQyxFQUFFQyxTQUFTO0lBQ2hELFNBQVNDLE1BQU1DLEtBQUs7UUFBSSxPQUFPQSxpQkFBaUJILElBQUlHLFFBQVEsSUFBSUgsRUFBRSxTQUFVSSxPQUFPO1lBQUlBLFFBQVFEO1FBQVE7SUFBSTtJQUMzRyxPQUFPLElBQUtILENBQUFBLEtBQU1BLENBQUFBLElBQUlLLE9BQU0sQ0FBQyxFQUFHLFNBQVVELE9BQU8sRUFBRUUsTUFBTTtRQUNyRCxTQUFTQyxVQUFVSixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsVUFBVVEsSUFBSSxDQUFDTjtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzFGLFNBQVNDLFNBQVNSLEtBQUs7WUFBSSxJQUFJO2dCQUFFSyxLQUFLUCxTQUFTLENBQUMsUUFBUSxDQUFDRTtZQUFTLEVBQUUsT0FBT08sR0FBRztnQkFBRUosT0FBT0k7WUFBSTtRQUFFO1FBQzdGLFNBQVNGLEtBQUtJLE1BQU07WUFBSUEsT0FBT0MsSUFBSSxHQUFHVCxRQUFRUSxPQUFPVCxLQUFLLElBQUlELE1BQU1VLE9BQU9ULEtBQUssRUFBRVcsSUFBSSxDQUFDUCxXQUFXSTtRQUFXO1FBQzdHSCxLQUFLLENBQUNQLFlBQVlBLFVBQVVjLEtBQUssQ0FBQ2pCLFNBQVNDLGNBQWMsRUFBRSxHQUFHVSxJQUFJO0lBQ3RFO0FBQ0o7QUFFQSxTQUFTTyx5QkFBeUJDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLENBQUM7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LENBQUNuRjtnQkFDMUMsb0NBQW9DO2dCQUN4QyxFQUNBLE9BQU9oTyxJQUFJLENBQUU7WUFDakI7UUFDSjtJQUNKO0FBQ0o7QUFFQSxTQUFTb1Q7SUFDTCxPQUFPO1FBQ0gzSixRQUFPMkMsTUFBTTtZQUNULE9BQU96UCxVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO2dCQUNuQyxJQUFJeVAsT0FBTzlCLE1BQU0sS0FBSyxHQUFHO29CQUNyQixPQUFPOEIsTUFBTSxDQUFDLEVBQUU7Z0JBQ3BCLE9BQ0ssSUFBSUEsT0FBT3ZCLFFBQVEsQ0FBQ3RPLGlGQUFvQkEsR0FBRztvQkFDNUMsT0FBT0EsaUZBQW9CQTtnQkFDL0IsT0FFSSxPQUFPNlAsTUFBTSxDQUFDLEVBQUU7WUFDeEI7UUFDSjtJQUNKO0FBQ0o7QUFFa1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGluay1idWlsZGVyLy4vbm9kZV9tb2R1bGVzL0Bzb2xhbmEtbW9iaWxlL3dhbGxldC1zdGFuZGFyZC1tb2JpbGUvbGliL2VzbS9pbmRleC5qcz9hNjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvbGFuYVNpZ25BbmRTZW5kVHJhbnNhY3Rpb24sIFNvbGFuYVNpZ25UcmFuc2FjdGlvbiwgU29sYW5hU2lnbk1lc3NhZ2UsIFNvbGFuYVNpZ25JbiB9IGZyb20gJ0Bzb2xhbmEvd2FsbGV0LXN0YW5kYXJkLWZlYXR1cmVzJztcbmltcG9ydCB7IFZlcnNpb25lZFRyYW5zYWN0aW9uLCBQdWJsaWNLZXkgfSBmcm9tICdAc29sYW5hL3dlYjMuanMnO1xuaW1wb3J0IFFSQ29kZSBmcm9tICdxcmNvZGUnO1xuaW1wb3J0IHsgU3RhbmRhcmRDb25uZWN0LCBTdGFuZGFyZERpc2Nvbm5lY3QsIFN0YW5kYXJkRXZlbnRzIH0gZnJvbSAnQHdhbGxldC1zdGFuZGFyZC9mZWF0dXJlcyc7XG5pbXBvcnQgeyBTT0xBTkFfTUFJTk5FVF9DSEFJTiB9IGZyb20gJ0Bzb2xhbmEvd2FsbGV0LXN0YW5kYXJkLWNoYWlucyc7XG5pbXBvcnQgeyB0cmFuc2FjdCwgc3RhcnRSZW1vdGVTY2VuYXJpbyB9IGZyb20gJ0Bzb2xhbmEtbW9iaWxlL21vYmlsZS13YWxsZXQtYWRhcHRlci1wcm90b2NvbC13ZWIzanMnO1xuaW1wb3J0IGJhc2U1OCBmcm9tICdiczU4JztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMShyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cblxudmFyIF9FbWJlZGRlZE1vZGFsX2luc3RhbmNlcywgX0VtYmVkZGVkTW9kYWxfcm9vdCwgX0VtYmVkZGVkTW9kYWxfZXZlbnRMaXN0ZW5lcnMsIF9FbWJlZGRlZE1vZGFsX2xpc3RlbmVyc0F0dGFjaGVkLCBfRW1iZWRkZWRNb2RhbF9pbmplY3RIVE1MLCBfRW1iZWRkZWRNb2RhbF9hdHRhY2hFdmVudExpc3RlbmVycywgX0VtYmVkZGVkTW9kYWxfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsIF9FbWJlZGRlZE1vZGFsX2hhbmRsZUtleURvd247XG5jb25zdCBtb2RhbEh0bWwgPSBgXG48ZGl2IGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiIGFyaWEtbGFiZWxsZWRieT1cIm1vZGFsLXRpdGxlXCI+XG4gICAgPGRpdiBkYXRhLW1vZGFsLWNsb3NlIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO1wiPjwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNhcmRcIj5cblx0XHQ8ZGl2PlxuXHRcdFx0PGJ1dHRvbiBkYXRhLW1vZGFsLWNsb3NlIGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNsb3NlXCI+XG5cdFx0XHRcdDxzdmcgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCI+XG5cdFx0XHRcdFx0PHBhdGggZD1cIk0gNi43MTI1LDguMzAzNjk5NSAxLjkwODIsMTMuMTA4MTk5IGMgLTAuMjExMywwLjIxMTIgLTAuNDc2NSwwLjMxNjggLTAuNzk1NywwLjMxNjggLTAuMzE5MiwwIC0wLjU4NDQsLTAuMTA1NiAtMC43OTU4LC0wLjMxNjggQyAwLjEwNTYsMTIuODk2ODk5IDAsMTIuNjMxNjk5IDAsMTIuMzEyNDk5IGMgMCwtMC4zMTkyIDAuMTA1NiwtMC41ODQ0IDAuMzE2NywtMC43OTU4IEwgNS4xMjEyLDYuNzEyNDk5NSAwLjMxNjcsMS45MDgyIEMgMC4xMDU2LDEuNjk2OSAwLDEuNDMxNyAwLDEuMTEyNSAwLDAuNzkzMyAwLjEwNTYsMC41MjgxIDAuMzE2NywwLjMxNjcgMC41MjgxLDAuMTA1NiAwLjc5MzMsMCAxLjExMjUsMCAxLjQzMTcsMCAxLjY5NjksMC4xMDU2IDEuOTA4MiwwLjMxNjcgTCA2LjcxMjUsNS4xMjEyIDExLjUxNjcsMC4zMTY3IEMgMTEuNzI4MSwwLjEwNTYgMTEuOTkzMywwIDEyLjMxMjUsMCBjIDAuMzE5MiwwIDAuNTg0NCwwLjEwNTYgMC43OTU3LDAuMzE2NyAwLjIxMTIsMC4yMTE0IDAuMzE2OCwwLjQ3NjYgMC4zMTY4LDAuNzk1OCAwLDAuMzE5MiAtMC4xMDU2LDAuNTg0NCAtMC4zMTY4LDAuNzk1NyBMIDguMzAzNzAwMSw2LjcxMjQ5OTUgMTMuMTA4MiwxMS41MTY2OTkgYyAwLjIxMTIsMC4yMTE0IDAuMzE2OCwwLjQ3NjYgMC4zMTY4LDAuNzk1OCAwLDAuMzE5MiAtMC4xMDU2LDAuNTg0NCAtMC4zMTY4LDAuNzk1NyAtMC4yMTEzLDAuMjExMiAtMC40NzY1LDAuMzE2OCAtMC43OTU3LDAuMzE2OCAtMC4zMTkyLDAgLTAuNTg0NCwtMC4xMDU2IC0wLjc5NTgsLTAuMzE2OCB6XCIgLz5cblx0XHRcdFx0PC9zdmc+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNvbnRlbnRcIj48L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5cbmA7XG5jb25zdCBjc3MkMiA9IGBcbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4OyAvKiBVc2UgZmxleGJveCB0byBjZW50ZXIgY29udGVudCAqL1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyAvKiBDZW50ZXIgaG9yaXpvbnRhbGx5ICovXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgLyogQ2VudGVyIHZlcnRpY2FsbHkgKi9cbiAgICBwb3NpdGlvbjogZml4ZWQ7IC8qIFN0YXkgaW4gcGxhY2UgKi9cbiAgICB6LWluZGV4OiAxOyAvKiBTaXQgb24gdG9wICovXG4gICAgbGVmdDogMDtcbiAgICB0b3A6IDA7XG4gICAgd2lkdGg6IDEwMCU7IC8qIEZ1bGwgd2lkdGggKi9cbiAgICBoZWlnaHQ6IDEwMCU7IC8qIEZ1bGwgaGVpZ2h0ICovXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjQpOyAvKiBCbGFjayB3LyBvcGFjaXR5ICovXG4gICAgb3ZlcmZsb3cteTogYXV0bzsgLyogZW5hYmxlIHNjcm9sbGluZyAqL1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNhcmQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXJnaW46IGF1dG8gMjBweDtcbiAgICBtYXgtd2lkdGg6IDc4MHB4O1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMjRweDtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICAgIGZvbnQtZmFtaWx5OiBcIkludGVyIFRpZ2h0XCIsIFwiUFQgU2Fuc1wiLCBDYWxpYnJpLCBzYW5zLXNlcmlmO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjAwJSk7XG4gICAgYW5pbWF0aW9uOiBzbGlkZS1pbiAwLjVzIGZvcndhcmRzO1xufVxuXG5Aa2V5ZnJhbWVzIHNsaWRlLWluIHtcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTsgfVxufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNsb3NlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgd2lkdGg6IDMycHg7XG4gICAgaGVpZ2h0OiAzMnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiAjZTRlOWU5O1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtY2xvc2U6Zm9jdXMtdmlzaWJsZSB7XG4gICAgb3V0bGluZS1jb2xvcjogcmVkO1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWNsb3NlIHN2ZyB7XG4gICAgZmlsbDogIzU0NjI2NjtcbiAgICB0cmFuc2l0aW9uOiBmaWxsIDIwMG1zIGVhc2UgMHM7XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtY2xvc2U6aG92ZXIgc3ZnIHtcbiAgICBmaWxsOiAjZmZmO1xufVxuYDtcbmNvbnN0IGZvbnRzID0gYFxuPGxpbmsgcmVsPVwicHJlY29ubmVjdFwiIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tXCI+XG48bGluayByZWw9XCJwcmVjb25uZWN0XCIgaHJlZj1cImh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb21cIiBjcm9zc29yaWdpbj5cbjxsaW5rIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUludGVyK1RpZ2h0Oml0YWwsd2dodEAwLDEwMC4uOTAwOzEsMTAwLi45MDAmZGlzcGxheT1zd2FwXCIgcmVsPVwic3R5bGVzaGVldFwiPlxuYDtcbmNsYXNzIEVtYmVkZGVkTW9kYWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBfRW1iZWRkZWRNb2RhbF9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICBfRW1iZWRkZWRNb2RhbF9yb290LnNldCh0aGlzLCBudWxsKTtcbiAgICAgICAgX0VtYmVkZGVkTW9kYWxfZXZlbnRMaXN0ZW5lcnMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0VtYmVkZGVkTW9kYWxfbGlzdGVuZXJzQXR0YWNoZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kb20gPSBudWxsO1xuICAgICAgICB0aGlzLm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdNb2RhbCBvcGVuJyk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfaW5zdGFuY2VzLCBcIm1cIiwgX0VtYmVkZGVkTW9kYWxfYXR0YWNoRXZlbnRMaXN0ZW5lcnMpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9yb290LCBcImZcIikuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbG9zZSA9IChldmVudCA9IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnTW9kYWwgY2xvc2UnKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9pbnN0YW5jZXMsIFwibVwiLCBfRW1iZWRkZWRNb2RhbF9yZW1vdmVFdmVudExpc3RlbmVycykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfcm9vdCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9hID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX2V2ZW50TGlzdGVuZXJzLCBcImZcIilbJ2Nsb3NlJ10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoZXZlbnQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgX0VtYmVkZGVkTW9kYWxfaGFuZGxlS2V5RG93bi5zZXQodGhpcywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJylcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJpbmQgbWV0aG9kcyB0byBlbnN1cmUgYHRoaXNgIGNvbnRleHQgaXMgY29ycmVjdFxuICAgICAgICB0aGlzLmluaXQgPSB0aGlzLmluaXQuYmluZCh0aGlzKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtcm9vdC11aScpLCBcImZcIik7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW5qZWN0aW5nIG1vZGFsJyk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfaW5zdGFuY2VzLCBcIm1cIiwgX0VtYmVkZGVkTW9kYWxfaW5qZWN0SFRNTCkuY2FsbCh0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKChfYSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9ldmVudExpc3RlbmVycywgXCJmXCIpW2V2ZW50XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2gobGlzdGVuZXIpKSB8fCAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX2V2ZW50TGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gW2xpc3RlbmVyXSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfZXZlbnRMaXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSAoX2EgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfZXZlbnRMaXN0ZW5lcnMsIFwiZlwiKVtldmVudF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maWx0ZXIoKGV4aXN0aW5nTGlzdGVuZXIpID0+IGxpc3RlbmVyICE9PSBleGlzdGluZ0xpc3RlbmVyKTtcbiAgICB9XG59XG5fRW1iZWRkZWRNb2RhbF9yb290ID0gbmV3IFdlYWtNYXAoKSwgX0VtYmVkZGVkTW9kYWxfZXZlbnRMaXN0ZW5lcnMgPSBuZXcgV2Vha01hcCgpLCBfRW1iZWRkZWRNb2RhbF9saXN0ZW5lcnNBdHRhY2hlZCA9IG5ldyBXZWFrTWFwKCksIF9FbWJlZGRlZE1vZGFsX2hhbmRsZUtleURvd24gPSBuZXcgV2Vha01hcCgpLCBfRW1iZWRkZWRNb2RhbF9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfRW1iZWRkZWRNb2RhbF9pbmplY3RIVE1MID0gZnVuY3Rpb24gX0VtYmVkZGVkTW9kYWxfaW5qZWN0SFRNTCgpIHtcbiAgICAvLyBDaGVjayBpZiB0aGUgSFRNTCBoYXMgYWxyZWFkeSBiZWVuIGluamVjdGVkXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtcm9vdC11aScpKSB7XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKSlcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9yb290LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLXJvb3QtdWknKSwgXCJmXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIGNvbnRhaW5lciBmb3IgdGhlIG1vZGFsXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCBcImZcIik7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKS5pZCA9ICdtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtcm9vdC11aSc7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKS5pbm5lckhUTUwgPSBtb2RhbEh0bWw7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIC8vIEFkZCBtb2RhbCBjb250ZW50XG4gICAgY29uc3QgY29udGVudCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9yb290LCBcImZcIikucXVlcnlTZWxlY3RvcignLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1jb250ZW50Jyk7XG4gICAgaWYgKGNvbnRlbnQpXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gdGhpcy5jb250ZW50SHRtbDtcbiAgICAvLyBBcHBseSBzdHlsZXNcbiAgICBjb25zdCBzdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlcy5pZCA9ICdtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtc3R5bGVzJztcbiAgICBzdHlsZXMudGV4dENvbnRlbnQgPSBjc3MkMiArIHRoaXMuY29udGVudFN0eWxlcztcbiAgICAvLyBDcmVhdGUgYSBzaGFkb3cgRE9NIHRvIGVuY2Fwc3VsYXRlIHRoZSBtb2RhbFxuICAgIGNvbnN0IGhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBob3N0LmlubmVySFRNTCA9IGZvbnRzO1xuICAgIHRoaXMuZG9tID0gaG9zdC5hdHRhY2hTaGFkb3coeyBtb2RlOiAnY2xvc2VkJyB9KTtcbiAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChzdHlsZXMpO1xuICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9yb290LCBcImZcIikpO1xuICAgIC8vIEFwcGVuZCB0aGUgc2hhZG93IERPTSBob3N0IHRvIHRoZSBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob3N0KTtcbn0sIF9FbWJlZGRlZE1vZGFsX2F0dGFjaEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX0VtYmVkZGVkTW9kYWxfYXR0YWNoRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfcm9vdCwgXCJmXCIpIHx8IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9saXN0ZW5lcnNBdHRhY2hlZCwgXCJmXCIpKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgY2xvc2VycyA9IFsuLi5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfcm9vdCwgXCJmXCIpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZGFsLWNsb3NlXScpXTtcbiAgICBjbG9zZXJzLmZvckVhY2goY2xvc2VyID0+IGNsb3NlciA9PT0gbnVsbCB8fCBjbG9zZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsb3Nlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuY2xvc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfaGFuZGxlS2V5RG93biwgXCJmXCIpKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfbGlzdGVuZXJzQXR0YWNoZWQsIHRydWUsIFwiZlwiKTtcbn0sIF9FbWJlZGRlZE1vZGFsX3JlbW92ZUV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX0VtYmVkZGVkTW9kYWxfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0VtYmVkZGVkTW9kYWxfbGlzdGVuZXJzQXR0YWNoZWQsIFwiZlwiKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5jbG9zZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfRW1iZWRkZWRNb2RhbF9oYW5kbGVLZXlEb3duLCBcImZcIikpO1xuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNsb3NlcnMgPSBbLi4uX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX3Jvb3QsIFwiZlwiKS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2RhbC1jbG9zZV0nKV07XG4gICAgY2xvc2Vycy5mb3JFYWNoKGNsb3NlciA9PiBjbG9zZXIgPT09IG51bGwgfHwgY2xvc2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbG9zZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKSk7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9FbWJlZGRlZE1vZGFsX2xpc3RlbmVyc0F0dGFjaGVkLCBmYWxzZSwgXCJmXCIpO1xufTtcblxuY2xhc3MgUmVtb3RlQ29ubmVjdGlvbk1vZGFsIGV4dGVuZHMgRW1iZWRkZWRNb2RhbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29udGVudFN0eWxlcyA9IGNzcyQxO1xuICAgICAgICB0aGlzLmNvbnRlbnRIdG1sID0gUVJDb2RlSHRtbDtcbiAgICB9XG4gICAgaW5pdFdpdGhRUihxckNvZGUpIHtcbiAgICAgICAgY29uc3QgX3N1cGVyID0gT2JqZWN0LmNyZWF0ZShudWxsLCB7XG4gICAgICAgICAgICBpbml0OiB7IGdldDogKCkgPT4gc3VwZXIuaW5pdCB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgX3N1cGVyLmluaXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVRUkNvZGUocXJDb2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvcHVsYXRlUVJDb2RlKHFyVXJsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHFyY29kZUNvbnRhaW5lciA9IChfYSA9IHRoaXMuZG9tKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1xci1jb2RlLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgaWYgKHFyY29kZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHFyQ29kZUVsZW1lbnQgPSB5aWVsZCBRUkNvZGUudG9DYW52YXMocXJVcmwsIHsgd2lkdGg6IDIwMCwgbWFyZ2luOiAwIH0pO1xuICAgICAgICAgICAgICAgIGlmIChxcmNvZGVDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcXJjb2RlQ29udGFpbmVyLnJlcGxhY2VDaGlsZChxckNvZGVFbGVtZW50LCBxcmNvZGVDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHFyY29kZUNvbnRhaW5lci5hcHBlbmRDaGlsZChxckNvZGVFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1FSQ29kZSBDb250YWluZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNvbnN0IFFSQ29kZUh0bWwgPSBgXG48ZGl2IGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXFyLWNvbnRlbnRcIj5cbiAgICA8ZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWljb25cIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCI+XG4gICAgICAgICAgICA8Y2lyY2xlIHI9XCI1MlwiIGN4PVwiNTNcIiBjeT1cIjUzXCIgZmlsbD1cIiM5OWIzYmVcIiBzdHJva2U9XCIjMDAwMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz5cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJtIDUzLDgyLjczMDUgYyAtMy4zMTE2LDAgLTYuMTM2MSwtMS4xNjkgLTguNDczNSwtMy41MDcgLTIuMzM4LC0yLjMzOCAtMy41MDcsLTUuMTYyNSAtMy41MDcsLTguNDczNSAwLC0zLjMxMTYgMS4xNjksLTYuMTM2NCAzLjUwNywtOC40NzQ0IDIuMzM3NCwtMi4zMzggNS4xNjE5LC0zLjUwNyA4LjQ3MzUsLTMuNTA3IDMuMzExNiwwIDYuMTM2MSwxLjE2OSA4LjQ3MzUsMy41MDcgMi4zMzgsMi4zMzggMy41MDcsNS4xNjI4IDMuNTA3LDguNDc0NCAwLDMuMzExIC0xLjE2OSw2LjEzNTUgLTMuNTA3LDguNDczNSAtMi4zMzc0LDIuMzM4IC01LjE2MTksMy41MDcgLTguNDczNSwzLjUwNyB6IG0gMC4wMDcsLTUuMjUgYyAxLjg1MzIsMCAzLjQzNywtMC42NTk4IDQuNzUxMiwtMS45NzkzIDEuMzE0OSwtMS4zMTk1IDEuOTcyMywtMi45MDU4IDEuOTcyMywtNC43NTkxIDAsLTEuODUyNiAtMC42NTk4LC0zLjQzNjQgLTEuOTc5MywtNC43NTEyIC0xLjMxOTUsLTEuMzE0OSAtMi45MDU1LC0xLjk3MjMgLTQuNzU4MiwtMS45NzIzIC0xLjg1MzMsMCAtMy40MzcsMC42NTk4IC00Ljc1MTMsMS45NzkzIC0xLjMxNDgsMS4zMTk1IC0xLjk3MjIsMi45MDU4IC0xLjk3MjIsNC43NTkxIDAsMS44NTI3IDAuNjU5NywzLjQzNjQgMS45NzkyLDQuNzUxMiAxLjMxOTUsMS4zMTQ5IDIuOTA1NiwxLjk3MjMgNC43NTgzLDEuOTcyMyB6IG0gLTI4LC0zMy41NzI5IC0zLjg1LC0zLjYzNDcgYyA0LjExOTUsLTQuMDI1IDguODc5MiwtNy4xOTg0IDE0LjI3OTEsLTkuNTIgNS40MDA1LC0yLjMyMjMgMTEuMjU1MSwtMy40ODM0IDE3LjU2MzksLTMuNDgzNCA2LjMwODcsMCAxMi4xNjM0LDEuMTYxMSAxNy41NjM5LDMuNDgzNCA1LjM5OTksMi4zMjE2IDEwLjE1OTYsNS40OTUgMTQuMjc5MSw5LjUyIGwgLTMuODUsMy42MzQ3IEMgNzcuMjk5OSw0MC4zNTggNzMuMDY4NCwzNy41NzI2IDY4LjI5ODUsMzUuNTUxNCA2My41MjkyLDMzLjUzMDEgNTguNDI5NiwzMi41MTk1IDUzLDMyLjUxOTUgYyAtNS40Mjk3LDAgLTEwLjUyOTIsMS4wMTA2IC0xNS4yOTg1LDMuMDMxOSAtNC43Njk5LDIuMDIxMiAtOS4wMDE0LDQuODA2NiAtMTIuNjk0NSw4LjM1NjIgeiBtIDQ0LjYyNSwxMC44NzcxIGMgLTIuMjcwOSwtMi4xMDQ2IC00Ljc5NjIsLTMuNzE2NyAtNy41NzU4LC00LjgzNjEgLTIuNzc5NSwtMS4xMiAtNS43OTgzLC0xLjY4IC05LjA1NjIsLTEuNjggLTMuMjU3OSwwIC02LjI2MjEsMC41NiAtOS4wMTI1LDEuNjggLTIuNzUwNCwxLjExOTQgLTUuMjkwMywyLjczMTUgLTcuNjE5NSw0LjgzNjEgTCAzMi41MTg5LDUxLjE1IGMgMi44MzU1LC0yLjYwMjggNS45Nzc3LC00LjYwODYgOS40MjYzLC02LjAxNzQgMy40NDgxLC0xLjQwODcgNy4xMzMsLTIuMTEzMSAxMS4wNTQ4LC0yLjExMzEgMy45MjE3LDAgNy41OTc5LDAuNzA0NCAxMS4wMjg1LDIuMTEzMSAzLjQzLDEuNDA4OCA2LjU2MzEsMy40MTQ2IDkuMzk5Miw2LjAxNzQgelwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtdGl0bGVcIj5SZW1vdGUgTW9iaWxlIFdhbGxldCBBZGFwdGVyPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1xci1sYWJlbFwiPlxuICAgICAgICAgICAgICAgIE9wZW4geW91ciB3YWxsZXQgYW5kIHNjYW4gdGhpcyBjb2RlXG4gICAgICAgICAgICA8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1xci1jb2RlLWNvbnRhaW5lclwiIGNsYXNzPVwibW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXFyLWNvZGUtY29udGFpbmVyXCI+PC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtZGl2aWRlclwiPjxocj48L2Rpdj5cbjxkaXYgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtZm9vdGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1zdWJ0aXRsZVwiPlxuICAgICAgICBGb2xsb3cgdGhlIGluc3RydWN0aW9ucyBvbiB5b3VyIGRldmljZS4gV2hlbiB5b3UncmUgZmluaXNoZWQsIHRoaXMgc2NyZWVuIHdpbGwgdXBkYXRlLlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtcHJvZ3Jlc3MtYmFkZ2VcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnRXcmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodFdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2lyY2xlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PldhaXRpbmcgZm9yIHNjYW48L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuYDtcbmNvbnN0IGNzcyQxID0gYFxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1xci1jb250ZW50IHtcbiAgICBkaXNwbGF5OiBmbGV4OyBcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtcXItY29udGVudCA+IGRpdjpmaXJzdC1jaGlsZCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGZsZXg6IDI7XG4gICAgbWFyZ2luLXRvcDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtcXItY29udGVudCA+IGRpdjpudGgtY2hpbGQoMikge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBmbGV4OiAxO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWZvb3RlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwYWRkaW5nOiAxMHB4O1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWljb24ge31cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC10aXRsZSB7XG4gICAgY29sb3I6ICMwMDAwMDA7XG4gICAgZm9udC1zaXplOiAyLjVlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXFyLWxhYmVsIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBjb2xvcjogIzAwMDAwMDtcbn1cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1xci1jb2RlLWNvbnRhaW5lciB7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtZGl2aWRlciB7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcbn1cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1kaXZpZGVyIGhyIHtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI0Q5REVERTtcbn1cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1zdWJ0aXRsZSB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogNjBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGNvbG9yOiAjNkU4Mjg2O1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXByb2dyZXNzLWJhZGdlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGJhY2tncm91bmQ6ICNGN0Y4Rjg7XG4gICAgaGVpZ2h0OiA1NnB4O1xuICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7XG4gICAgY29sb3I6ICNBOEI2Qjg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1wcm9ncmVzcy1iYWRnZSA+IGRpdjpmaXJzdC1jaGlsZCB7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuXG4ubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXByb2dyZXNzLWJhZGdlID4gZGl2Om50aC1jaGlsZCgyKSB7XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG4vKiBTbWFsbGVyIHNjcmVlbnMgKi9cbkBtZWRpYSBhbGwgYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gICAgLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1jYXJkIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgICAubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXFyLWNvbnRlbnQge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIH1cbiAgICAubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXFyLWNvbnRlbnQgPiBkaXY6Zmlyc3QtY2hpbGQge1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgfVxuICAgIC5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtcXItY29udGVudCA+IGRpdjpudGgtY2hpbGQoMikge1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgICAgIGZsZXg6IDIgYXV0bztcbiAgICB9XG4gICAgLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1mb290ZXIge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIH1cbiAgICAubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLWljb24ge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgICAubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjVlbTtcbiAgICB9XG4gICAgLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1zdWJ0aXRsZSB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogdW5zZXQ7XG4gICAgfVxuICAgIC5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtcXItbGFiZWwge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICAgIC5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtcXItY29kZS1jb250YWluZXIge1xuICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgfVxufVxuXG4vKiBTcGlubmVyICovXG5Aa2V5ZnJhbWVzIHNwaW5MZWZ0IHtcbiAgICAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDIwZGVnKTtcbiAgICB9XG4gICAgNTAlIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTYwZGVnKTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDIwZGVnKTtcbiAgICB9XG59XG5Aa2V5ZnJhbWVzIHNwaW5SaWdodCB7XG4gICAgMCUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxNjBkZWcpO1xuICAgIH1cbiAgICA1MCUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgyMGRlZyk7XG4gICAgfVxuICAgIDEwMCUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxNjBkZWcpO1xuICAgIH1cbn1cbkBrZXlmcmFtZXMgc3BpbiB7XG4gICAgMCUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDI1MjBkZWcpO1xuICAgIH1cbn1cblxuLnNwaW5uZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMS41ZW07XG4gICAgaGVpZ2h0OiAxLjVlbTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgYW5pbWF0aW9uOiBzcGluIDEwcyBsaW5lYXIgaW5maW5pdGU7XG59XG4uc3Bpbm5lcjo6YmVmb3JlIHtcbiAgICBjb250ZW50OiBcIlwiO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG59XG4ucmlnaHQsIC5yaWdodFdyYXBwZXIsIC5sZWZ0LCAubGVmdFdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB3aWR0aDogLjc1ZW07XG4gICAgaGVpZ2h0OiAxLjVlbTtcbn1cbi5sZWZ0LCAubGVmdFdyYXBwZXIge1xuICAgIGxlZnQ6IDA7XG59XG4ucmlnaHQge1xuICAgIGxlZnQ6IC0xMnB4O1xufVxuLnJpZ2h0V3JhcHBlciB7XG4gICAgcmlnaHQ6IDA7XG59XG4uY2lyY2xlIHtcbiAgICBib3JkZXI6IC4xMjVlbSBzb2xpZCAjQThCNkI4O1xuICAgIHdpZHRoOiAxLjI1ZW07IC8qIDEuNWVtIC0gMiowLjEyNWVtIGJvcmRlciAqL1xuICAgIGhlaWdodDogMS4yNWVtOyAvKiAxLjVlbSAtIDIqMC4xMjVlbSBib3JkZXIgKi9cbiAgICBib3JkZXItcmFkaXVzOiAwLjc1ZW07IC8qIDAuNSoxLjVlbSBzcGlubmVyIHNpemUgOCAqL1xufVxuLmxlZnQge1xuICAgIHRyYW5zZm9ybS1vcmlnaW46IDEwMCUgNTAlO1xuICAgIGFuaW1hdGlvbjogc3BpbkxlZnQgMi41cyBjdWJpYy1iZXppZXIoLjIsMCwuOCwxKSBpbmZpbml0ZTtcbn1cbi5yaWdodCB7XG4gICAgdHJhbnNmb3JtLW9yaWdpbjogMTAwJSA1MCU7XG4gICAgYW5pbWF0aW9uOiBzcGluUmlnaHQgMi41cyBjdWJpYy1iZXppZXIoLjIsMCwuOCwxKSBpbmZpbml0ZTtcbn1cbmA7XG5cbmNvbnN0IGljb24gPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTWpRaUlHaGxhV2RvZEQwaU1qUWlJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lnWm1sc2JEMGlibTl1WlNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWo0S1BIQmhkR2dnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWlCamJHbHdMWEoxYkdVOUltVjJaVzV2WkdRaUlHUTlJazAzSURJdU5VZ3hOME14Tnk0NE1qZzBJREl1TlNBeE9DNDFJRE11TVRjeE5UY2dNVGd1TlNBMFZqSXdRekU0TGpVZ01qQXVPREk0TkNBeE55NDRNamcwSURJeExqVWdNVGNnTWpFdU5VZzNRell1TVRjeE5UY2dNakV1TlNBMUxqVWdNakF1T0RJNE5DQTFMalVnTWpCV05FTTFMalVnTXk0eE56RTFOeUEyTGpFM01UVTNJREl1TlNBM0lESXVOVnBOTXlBMFF6TWdNUzQzT1RBNE5pQTBMamM1TURnMklEQWdOeUF3U0RFM1F6RTVMakl3T1RFZ01DQXlNU0F4TGpjNU1EZzJJREl4SURSV01qQkRNakVnTWpJdU1qQTVNU0F4T1M0eU1Ea3hJREkwSURFM0lESTBTRGRETkM0M09UQTROaUF5TkNBeklESXlMakl3T1RFZ015QXlNRlkwV2sweE1TQTBMall4TlRNNFF6RXdMalEwTnpjZ05DNDJNVFV6T0NBeE1DQTFMakEyTXpFZ01UQWdOUzQyTVRVek9GWTJMak00TkRZeVF6RXdJRFl1T1RNMk9TQXhNQzQwTkRjM0lEY3VNemcwTmpJZ01URWdOeTR6T0RRMk1rZ3hNME14TXk0MU5USXpJRGN1TXpnME5qSWdNVFFnTmk0NU16WTVJREUwSURZdU16ZzBOakpXTlM0Mk1UVXpPRU14TkNBMUxqQTJNekVnTVRNdU5UVXlNeUEwTGpZeE5UTTRJREV6SURRdU5qRTFNemhJTVRGYUlpQm1hV3hzUFNJalJFTkNPRVpHSWk4K0Nqd3ZjM1puUGdvPSc7XG5cbmZ1bmN0aW9uIGlzVmVyc2lvbmVkVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gJ3ZlcnNpb24nIGluIHRyYW5zYWN0aW9uO1xufVxuXG5mdW5jdGlvbiBmcm9tVWludDhBcnJheShieXRlQXJyYXkpIHtcbiAgICByZXR1cm4gd2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5jYWxsKG51bGwsIC4uLmJ5dGVBcnJheSkpO1xufVxuZnVuY3Rpb24gdG9VaW50OEFycmF5KGJhc2U2NEVuY29kZWRCeXRlQXJyYXkpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2luZG93XG4gICAgICAgIC5hdG9iKGJhc2U2NEVuY29kZWRCeXRlQXJyYXkpXG4gICAgICAgIC5zcGxpdCgnJylcbiAgICAgICAgLm1hcCgoYykgPT4gYy5jaGFyQ29kZUF0KDApKSk7XG59XG5cbnZhciBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2luc3RhbmNlcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9saXN0ZW5lcnMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdmVyc2lvbiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9uYW1lLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3VybCwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pY29uLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FwcElkZW50aXR5LCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmcsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGlvbkdlbmVyYXRpb24sIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWluU2VsZWN0b3IsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb3B0aW9uYWxGZWF0dXJlcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vbldhbGxldE5vdEZvdW5kLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29uLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2VtaXQsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb2ZmLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3QsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybUF1dGhvcml6YXRpb24sIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVXYWxsZXRDYXBhYmlsaXRpZXNSZXN1bHQsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9kaXNjb25uZWN0LCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3RyYW5zYWN0LCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hY2NvdW50c1RvV2FsbGV0U3RhbmRhcmRBY2NvdW50cywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25UcmFuc2FjdGlvbiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduTWVzc2FnZSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduSW4sIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25JbiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaW5zdGFuY2VzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9saXN0ZW5lcnMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3ZlcnNpb24sIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X25hbWUsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3VybCwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaWNvbiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXBwSWRlbnRpdHksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGluZywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGlvbkdlbmVyYXRpb24sIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWlucywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5TZWxlY3RvciwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb3B0aW9uYWxGZWF0dXJlcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb25XYWxsZXROb3RGb3VuZCwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaG9zdEF1dGhvcml0eSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2Vzc2lvbiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb24sIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2VtaXQsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29mZiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdCwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybUF1dGhvcml6YXRpb24sIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZUF1dGhvcml6YXRpb25SZXN1bHQsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZVdhbGxldENhcGFiaWxpdGllc1Jlc3VsdCwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZGlzY29ubmVjdCwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3QsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYWNjb3VudHNUb1dhbGxldFN0YW5kYXJkQWNjb3VudHMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduVHJhbnNhY3Rpb25zLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnblRyYW5zYWN0aW9uLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduTWVzc2FnZSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkluLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkluO1xuY29uc3QgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldE5hbWUgPSAnTW9iaWxlIFdhbGxldCBBZGFwdGVyJztcbmNvbnN0IFNJR05BVFVSRV9MRU5HVEhfSU5fQllURVMgPSA2NDtcbmNvbnN0IERFRkFVTFRfRkVBVFVSRVMgPSBbU29sYW5hU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgU29sYW5hU2lnblRyYW5zYWN0aW9uLCBTb2xhbmFTaWduTWVzc2FnZSwgU29sYW5hU2lnbkluXTtcbmNsYXNzIExvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9saXN0ZW5lcnMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF92ZXJzaW9uLnNldCh0aGlzLCAnMS4wLjAnKTsgLy8gd2FsbGV0LXN0YW5kYXJkIHZlcnNpb25cbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9uYW1lLnNldCh0aGlzLCBTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0TmFtZSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdXJsLnNldCh0aGlzLCAnaHR0cHM6Ly9zb2xhbmFtb2JpbGUuY29tL3dhbGxldHMnKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pY29uLnNldCh0aGlzLCBpY29uKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hcHBJZGVudGl0eS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nLnNldCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVyeSB0aW1lIHRoZSBjb25uZWN0aW9uIGlzIHJlY3ljbGVkIGluIHNvbWUgd2F5IChlZy4gYGRpc2Nvbm5lY3QoKWAgaXMgY2FsbGVkKVxuICAgICAgICAgKiBpbmNyZW1lbnQgdGhpcyBhbmQgdXNlIGl0IHRvIG1ha2Ugc3VyZSB0aGF0IGB0cmFuc2FjdGAgY2FsbHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAgICAgICogJ2dlbmVyYXRpb24nIGRvbid0IGNvbnRpbnVlIHRvIGRvIHdvcmsgYW5kIHRocm93IGV4Y2VwdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3Rpb25HZW5lcmF0aW9uLnNldCh0aGlzLCAwKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpbnMuc2V0KHRoaXMsIFtdKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpblNlbGVjdG9yLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29wdGlvbmFsRmVhdHVyZXMuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb25XYWxsZXROb3RGb3VuZC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vbi5zZXQodGhpcywgKGV2ZW50LCBsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKChfYSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnB1c2gobGlzdGVuZXIpKSB8fCAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gW2xpc3RlbmVyXSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaW5zdGFuY2VzLCBcIm1cIiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vZmYpLmNhbGwodGhpcywgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdC5zZXQodGhpcywgKHsgc2lsZW50IH0gPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmcsIFwiZlwiKSB8fCB0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGFjY291bnRzOiB0aGlzLmFjY291bnRzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzaWxlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkQXV0aG9yaXphdGlvbiA9IHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSwgXCJmXCIpLmdldCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkQXV0aG9yaXphdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCwgXCJmXCIpLmNhbGwodGhpcywgY2FjaGVkQXV0aG9yaXphdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBhY2NvdW50czogdGhpcy5hY2NvdW50cyB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtQXV0aG9yaXphdGlvbiwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UpIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nLCBmYWxzZSwgXCJmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgYWNjb3VudHM6IHRoaXMuYWNjb3VudHMgfTtcbiAgICAgICAgfSkpO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1BdXRob3JpemF0aW9uLnNldCh0aGlzLCAoc2lnbkluUGF5bG9hZCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0ID0geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBcImZcIikuZ2V0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZEF1dGhvcml6YXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRXZhbHVhdGUgd2hldGhlciB0aGVyZSdzIGFueSB0aHJlYXQgdG8gbm90IGBhd2FpdGluZ2AgdGhpcyBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZUF1dGhvcml6YXRpb25SZXN1bHQsIFwiZlwiKS5jYWxsKHRoaXMsIGNhY2hlZEF1dGhvcml6YXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkQXV0aG9yaXphdGlvblJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDaGFpbiA9IHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWluU2VsZWN0b3IsIFwiZlwiKS5zZWxlY3QoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zLCBcImZcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF90cmFuc2FjdCwgXCJmXCIpLmNhbGwodGhpcywgKHdhbGxldCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY2FwYWJpbGl0aWVzLCBtd2FBdXRob3JpemF0aW9uUmVzdWx0XSA9IHlpZWxkIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxldC5nZXRDYXBhYmlsaXRpZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxldC5hdXRob3JpemUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluOiBzZWxlY3RlZENoYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hcHBJZGVudGl0eSwgXCJmXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25faW5fcGF5bG9hZDogc2lnbkluUGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FjY291bnRzVG9XYWxsZXRTdGFuZGFyZEFjY291bnRzLCBcImZcIikuY2FsbCh0aGlzLCBtd2FBdXRob3JpemF0aW9uUmVzdWx0LmFjY291bnRzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbXdhQXV0aG9yaXphdGlvblJlc3VsdCksIHsgYWNjb3VudHMsIGNoYWluOiBzZWxlY3RlZENoYWluIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBFdmFsdWF0ZSB3aGV0aGVyIHRoZXJlJ3MgYW55IHRocmVhdCB0byBub3QgYGF3YWl0aW5nYCB0aGlzIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlV2FsbGV0Q2FwYWJpbGl0aWVzUmVzdWx0LCBcImZcIikuY2FsbCh0aGlzLCBjYXBhYmlsaXRpZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBcImZcIikuc2V0KGF1dGhvcml6YXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCwgXCJmXCIpLmNhbGwodGhpcywgYXV0aG9yaXphdGlvbiksXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0aG9yaXphdGlvbjtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubWVzc2FnZSkgfHwgJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZUF1dGhvcml6YXRpb25SZXN1bHQuc2V0KHRoaXMsIChhdXRob3JpemF0aW9uKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBkaWRQdWJsaWNLZXlzQ2hhbmdlID0gXG4gICAgICAgICAgICAvLyBDYXNlIDE6IFdlIHN0YXJ0ZWQgZnJvbSBoYXZpbmcgbm8gYXV0aG9yaXphdGlvbi5cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKSA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgLy8gQ2FzZSAyOiBUaGUgbnVtYmVyIG9mIGF1dGhvcml6ZWQgYWNjb3VudHMgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICAoKF9hID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgXCJmXCIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjb3VudHMubGVuZ3RoKSAhPT0gYXV0aG9yaXphdGlvbi5hY2NvdW50cy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDM6IFRoZSBuZXcgbGlzdCBvZiBhZGRyZXNzZXMgaXNuJ3QgZXhhY3RseSB0aGUgc2FtZSBhcyB0aGUgb2xkIGxpc3QsIGluIHRoZSBzYW1lIG9yZGVyLlxuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKS5hY2NvdW50cy5zb21lKChhY2NvdW50LCBpaSkgPT4gYWNjb3VudC5hZGRyZXNzICE9PSBhdXRob3JpemF0aW9uLmFjY291bnRzW2lpXS5hZGRyZXNzKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIGF1dGhvcml6YXRpb24sIFwiZlwiKTtcbiAgICAgICAgICAgIGlmIChkaWRQdWJsaWNLZXlzQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaW5zdGFuY2VzLCBcIm1cIiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9lbWl0KS5jYWxsKHRoaXMsICdjaGFuZ2UnLCB7IGFjY291bnRzOiB0aGlzLmFjY291bnRzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlV2FsbGV0Q2FwYWJpbGl0aWVzUmVzdWx0LnNldCh0aGlzLCAoY2FwYWJpbGl0aWVzKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpbnZlc3RpZ2F0ZSB3aHkgdXNpbmcgU29sYW5hU2lnblRyYW5zYWN0aW9ucyBjb25zdGFudCBicmVha3MgdHJlZXNoYWtpbmdcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRzU2lnblRyYW5zYWN0aW9uID0gY2FwYWJpbGl0aWVzLmZlYXR1cmVzLmluY2x1ZGVzKCdzb2xhbmE6c2lnblRyYW5zYWN0aW9ucycpOyAvL1NvbGFuYVNpZ25UcmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgY29uc3Qgc3VwcG9ydHNTaWduQW5kU2VuZFRyYW5zYWN0aW9uID0gY2FwYWJpbGl0aWVzLnN1cHBvcnRzX3NpZ25fYW5kX3NlbmRfdHJhbnNhY3Rpb25zO1xuICAgICAgICAgICAgY29uc3QgZGlkQ2FwYWJpbGl0aWVzQ2hhbmdlID0gU29sYW5hU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiBpbiB0aGlzLmZlYXR1cmVzICE9PSBzdXBwb3J0c1NpZ25BbmRTZW5kVHJhbnNhY3Rpb24gfHxcbiAgICAgICAgICAgICAgICBTb2xhbmFTaWduVHJhbnNhY3Rpb24gaW4gdGhpcy5mZWF0dXJlcyAhPT0gc3VwcG9ydHNTaWduVHJhbnNhY3Rpb247XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vcHRpb25hbEZlYXR1cmVzLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgoc3VwcG9ydHNTaWduQW5kU2VuZFRyYW5zYWN0aW9uIHx8ICghc3VwcG9ydHNTaWduQW5kU2VuZFRyYW5zYWN0aW9uICYmICFzdXBwb3J0c1NpZ25UcmFuc2FjdGlvbikpICYmIHtcbiAgICAgICAgICAgICAgICBbU29sYW5hU2lnbkFuZFNlbmRUcmFuc2FjdGlvbl06IHtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkVHJhbnNhY3Rpb25WZXJzaW9uczogWydsZWdhY3knLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgXCJmXCIpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSksIChzdXBwb3J0c1NpZ25UcmFuc2FjdGlvbiAmJiB7XG4gICAgICAgICAgICAgICAgW1NvbGFuYVNpZ25UcmFuc2FjdGlvbl06IHtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkVHJhbnNhY3Rpb25WZXJzaW9uczogWydsZWdhY3knLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgc2lnblRyYW5zYWN0aW9uOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduVHJhbnNhY3Rpb24sIFwiZlwiKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkpLCBcImZcIik7XG4gICAgICAgICAgICBpZiAoZGlkQ2FwYWJpbGl0aWVzQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaW5zdGFuY2VzLCBcIm1cIiwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9lbWl0KS5jYWxsKHRoaXMsICdjaGFuZ2UnLCB7IGZlYXR1cmVzOiB0aGlzLmZlYXR1cmVzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbi5zZXQodGhpcywgKHdhbGxldCwgYXV0aFRva2VuLCBjaGFpbikgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtd2FBdXRob3JpemF0aW9uUmVzdWx0ID0geWllbGQgd2FsbGV0LmF1dGhvcml6ZSh7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhfdG9rZW46IGF1dGhUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHk6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FwcElkZW50aXR5LCBcImZcIiksXG4gICAgICAgICAgICAgICAgICAgIGNoYWluOiBjaGFpblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYWNjb3VudHNUb1dhbGxldFN0YW5kYXJkQWNjb3VudHMsIFwiZlwiKS5jYWxsKHRoaXMsIG13YUF1dGhvcml6YXRpb25SZXN1bHQuYWNjb3VudHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG13YUF1dGhvcml6YXRpb25SZXN1bHQpLCB7IGFjY291bnRzOiBhY2NvdW50cywgY2hhaW46IGNoYWluIH0pO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEV2YWx1YXRlIHdoZXRoZXIgdGhlcmUncyBhbnkgdGhyZWF0IHRvIG5vdCBgYXdhaXRpbmdgIHRoaXMgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBcImZcIikuc2V0KGF1dGhvcml6YXRpb24pLFxuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVBdXRob3JpemF0aW9uUmVzdWx0LCBcImZcIikuY2FsbCh0aGlzLCBhdXRob3JpemF0aW9uKSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZGlzY29ubmVjdCwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZGlzY29ubmVjdC5zZXQodGhpcywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBcImZcIikuY2xlYXIoKTsgLy8gVE9ETzogRXZhbHVhdGUgd2hldGhlciB0aGVyZSdzIGFueSB0aHJlYXQgdG8gbm90IGBhd2FpdGluZ2AgdGhpcyBleHByZXNzaW9uXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nLCBmYWxzZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGlvbkdlbmVyYXRpb24sIChfYiA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3Rpb25HZW5lcmF0aW9uLCBcImZcIiksIF9iKyssIF9iKSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pbnN0YW5jZXMsIFwibVwiLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2VtaXQpLmNhbGwodGhpcywgJ2NoYW5nZScsIHsgYWNjb3VudHM6IHRoaXMuYWNjb3VudHMgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF90cmFuc2FjdC5zZXQodGhpcywgKGNhbGxiYWNrKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2M7XG4gICAgICAgICAgICBjb25zdCB3YWxsZXRVcmlCYXNlID0gKF9jID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgXCJmXCIpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Mud2FsbGV0X3VyaV9iYXNlO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gd2FsbGV0VXJpQmFzZSA/IHsgYmFzZVVyaTogd2FsbGV0VXJpQmFzZSB9IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbm5lY3Rpb25HZW5lcmF0aW9uID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGlvbkdlbmVyYXRpb24sIFwiZlwiKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRyYW5zYWN0KGNhbGxiYWNrLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGlvbkdlbmVyYXRpb24sIFwiZlwiKSAhPT0gY3VycmVudENvbm5lY3Rpb25HZW5lcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIG5ldyBQcm9taXNlKCgpID0+IHsgfSk7IC8vIE5ldmVyIHJlc29sdmUuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgZS5uYW1lID09PSAnU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yJyAmJlxuICAgICAgICAgICAgICAgICAgICBlLmNvZGUgPT09ICdFUlJPUl9XQUxMRVRfTk9UX0ZPVU5EJykge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vbldhbGxldE5vdEZvdW5kLCBcImZcIikuY2FsbCh0aGlzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZC5zZXQodGhpcywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXYWxsZXQgbm90IGNvbm5lY3RlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHsgYXV0aFRva2VuOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIikuYXV0aF90b2tlbiwgY2hhaW46IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKS5jaGFpbiB9O1xuICAgICAgICB9KTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hY2NvdW50c1RvV2FsbGV0U3RhbmRhcmRBY2NvdW50cy5zZXQodGhpcywgKGFjY291bnRzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYWNjb3VudHMubWFwKChhY2NvdW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSB0b1VpbnQ4QXJyYXkoYWNjb3VudC5hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBiYXNlNTguZW5jb2RlKHB1YmxpY0tleSksXG4gICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGFjY291bnQubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGljb246IGFjY291bnQuaWNvbixcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5zOiAoX2EgPSBhY2NvdW50LmNoYWlucykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zLCBcImZcIiksXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGdldCBzdXBwb3J0ZWQgZmVhdHVyZXMgZnJvbSBnZXRDYXBhYmlsaXRpZXMgQVBJIFxuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlczogKF9iID0gYWNjb3VudC5mZWF0dXJlcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogREVGQVVMVF9GRUFUVVJFU1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25UcmFuc2FjdGlvbnMuc2V0KHRoaXMsICh0cmFuc2FjdGlvbnMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXV0aFRva2VuLCBjaGFpbiB9ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXNzZXJ0SXNBdXRob3JpemVkLCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3RyYW5zYWN0LCBcImZcIikuY2FsbCh0aGlzLCAod2FsbGV0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1SZWF1dGhvcml6YXRpb24sIFwiZlwiKS5jYWxsKHRoaXMsIHdhbGxldCwgYXV0aFRva2VuLCBjaGFpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZFRyYW5zYWN0aW9ucyA9IHlpZWxkIHdhbGxldC5zaWduVHJhbnNhY3Rpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnM7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UpIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbi5zZXQodGhpcywgKHRyYW5zYWN0aW9uLCBvcHRpb25zKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGF1dGhUb2tlbiwgY2hhaW4gfSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF90cmFuc2FjdCwgXCJmXCIpLmNhbGwodGhpcywgKHdhbGxldCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY2FwYWJpbGl0aWVzLCBfMV0gPSB5aWVsZCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsZXQuZ2V0Q2FwYWJpbGl0aWVzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtUmVhdXRob3JpemF0aW9uLCBcImZcIikuY2FsbCh0aGlzLCB3YWxsZXQsIGF1dGhUb2tlbiwgY2hhaW4pXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FwYWJpbGl0aWVzLnN1cHBvcnRzX3NpZ25fYW5kX3NlbmRfdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWduYXR1cmVzID0geWllbGQgd2FsbGV0LnNpZ25BbmRTZW5kVHJhbnNhY3Rpb25zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgdHJhbnNhY3Rpb25zOiBbdHJhbnNhY3Rpb25dIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduYXR1cmVzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb25uZWN0ZWQgd2FsbGV0IGRvZXMgbm90IHN1cHBvcnQgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UpIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uLnNldCh0aGlzLCAoLi4uaW5wdXRzKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIGlucHV0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gVmVyc2lvbmVkVHJhbnNhY3Rpb24uZGVzZXJpYWxpemUoaW5wdXQudHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9ICh5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgXCJmXCIpLmNhbGwodGhpcywgdHJhbnNhY3Rpb24sIGlucHV0Lm9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRzLnB1c2goeyBzaWduYXR1cmU6IGJhc2U1OC5kZWNvZGUoc2lnbmF0dXJlKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRzO1xuICAgICAgICB9KSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnblRyYW5zYWN0aW9uLnNldCh0aGlzLCAoLi4uaW5wdXRzKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBpbnB1dHMubWFwKCh7IHRyYW5zYWN0aW9uIH0pID0+IFZlcnNpb25lZFRyYW5zYWN0aW9uLmRlc2VyaWFsaXplKHRyYW5zYWN0aW9uKSk7XG4gICAgICAgICAgICBjb25zdCBzaWduZWRUcmFuc2FjdGlvbnMgPSB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucywgXCJmXCIpLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnMubWFwKChzaWduZWRUcmFuc2FjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbiA9IGlzVmVyc2lvbmVkVHJhbnNhY3Rpb24oc2lnbmVkVHJhbnNhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgID8gc2lnbmVkVHJhbnNhY3Rpb24uc2VyaWFsaXplKClcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheShzaWduZWRUcmFuc2FjdGlvbi5zZXJpYWxpemUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZUFsbFNpZ25hdHVyZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5U2lnbmF0dXJlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzaWduZWRUcmFuc2FjdGlvbjogc2VyaWFsaXplZFRyYW5zYWN0aW9uIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25NZXNzYWdlLnNldCh0aGlzLCAoLi4uaW5wdXRzKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGF1dGhUb2tlbiwgY2hhaW4gfSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSBpbnB1dHMubWFwKCh7IGFjY291bnQgfSkgPT4gZnJvbVVpbnQ4QXJyYXkoYWNjb3VudC5wdWJsaWNLZXkpKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gaW5wdXRzLm1hcCgoeyBtZXNzYWdlIH0pID0+IG1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3QsIFwiZlwiKS5jYWxsKHRoaXMsICh3YWxsZXQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiwgXCJmXCIpLmNhbGwodGhpcywgd2FsbGV0LCBhdXRoVG9rZW4sIGNoYWluKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkTWVzc2FnZXMgPSB5aWVsZCB3YWxsZXQuc2lnbk1lc3NhZ2VzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NlczogYWRkcmVzc2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZHM6IG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25lZE1lc3NhZ2VzLm1hcCgoc2lnbmVkTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc2lnbmVkTWVzc2FnZTogc2lnbmVkTWVzc2FnZSwgc2lnbmF0dXJlOiBzaWduZWRNZXNzYWdlLnNsaWNlKC1TSUdOQVRVUkVfTEVOR1RIX0lOX0JZVEVTKSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubWVzc2FnZSkgfHwgJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25Jbi5zZXQodGhpcywgKC4uLmlucHV0cykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0cyA9IFtdO1xuICAgICAgICAgICAgaWYgKGlucHV0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0cy5wdXNoKHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduSW4sIFwiZlwiKS5jYWxsKHRoaXMsIGlucHV0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkluLCBcImZcIikuY2FsbCh0aGlzLCBpbnB1dHNbMF0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRzO1xuICAgICAgICB9KSk7XG4gICAgICAgIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25Jbi5zZXQodGhpcywgKGlucHV0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2QsIF9lO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGluZywgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uUmVzdWx0ID0geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybUF1dGhvcml6YXRpb24sIFwiZlwiKS5jYWxsKHRoaXMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5wdXQpLCB7IGRvbWFpbjogKF9kID0gaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LmRvbWFpbikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogd2luZG93LmxvY2F0aW9uLmhvc3QgfSkpO1xuICAgICAgICAgICAgICAgIGlmICghYXV0aG9yaXphdGlvblJlc3VsdC5zaWduX2luX3Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduIGluIGZhaWxlZCwgbm8gc2lnbiBpbiByZXN1bHQgcmV0dXJuZWQgYnkgd2FsbGV0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzaWduZWRJbkFkZHJlc3MgPSBhdXRob3JpemF0aW9uUmVzdWx0LnNpZ25faW5fcmVzdWx0LmFkZHJlc3M7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkSW5BY2NvdW50ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoX2UgPSBhdXRob3JpemF0aW9uUmVzdWx0LmFjY291bnRzLmZpbmQoYWNjID0+IGFjYy5hZGRyZXNzID09IHNpZ25lZEluQWRkcmVzcykpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogc2lnbmVkSW5BZGRyZXNzXG4gICAgICAgICAgICAgICAgfSksIHsgcHVibGljS2V5OiB0b1VpbnQ4QXJyYXkoc2lnbmVkSW5BZGRyZXNzKSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBzaWduZWRJbkFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZE1lc3NhZ2U6IHRvVWludDhBcnJheShhdXRob3JpemF0aW9uUmVzdWx0LnNpZ25faW5fcmVzdWx0LnNpZ25lZF9tZXNzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiB0b1VpbnQ4QXJyYXkoYXV0aG9yaXphdGlvblJlc3VsdC5zaWduX2luX3Jlc3VsdC5zaWduYXR1cmUpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGluZywgZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uQ2FjaGUsIGNvbmZpZy5hdXRob3JpemF0aW9uQ2FjaGUsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXBwSWRlbnRpdHksIGNvbmZpZy5hcHBJZGVudGl0eSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpbnMsIGNvbmZpZy5jaGFpbnMsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5TZWxlY3RvciwgY29uZmlnLmNoYWluU2VsZWN0b3IsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb25XYWxsZXROb3RGb3VuZCwgY29uZmlnLm9uV2FsbGV0Tm90Rm91bmQsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb3B0aW9uYWxGZWF0dXJlcywge1xuICAgICAgICAgICAgLy8gV2UgYXJlIGZvcmNlZCB0byBwcm92aWRlIGVpdGhlciBTb2xhbmFTaWduQW5kU2VuZFRyYW5zYWN0aW9uIG9yIFNvbGFuYVNpZ25UcmFuc2FjdGlvblxuICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGUgd2FsbGV0LWFkYXB0ZXIgY29tcGF0aWJsZSB3YWxsZXQtc3RhbmRhcmQgd2FsbGV0IHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBvZiB0aGVtLlxuICAgICAgICAgICAgLy8gTVdBIDIuMCsgd2FsbGV0cyBtdXN0IGltcGxlbWVudCBzaWduQW5kU2VuZCBhbmQgcHJlIDIuMCB3YWxsZXRzIGhhdmUgYWx3YXlzIHByb3ZpZGVkIGl0IHNvIFxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHNhZmUgYXNzdW1wdGlvbi4gV2UgbGF0ZXIgdXBkYXRlIHRoZSBmZWF0dXJlcyBhZnRlciB3ZSBnZXQgdGhlIHdhbGxldHMgY2FwYWJpbGl0aWVzLiBcbiAgICAgICAgICAgIFtTb2xhbmFTaWduQW5kU2VuZFRyYW5zYWN0aW9uXToge1xuICAgICAgICAgICAgICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgICAgICAgICAgICAgc3VwcG9ydGVkVHJhbnNhY3Rpb25WZXJzaW9uczogWydsZWdhY3knLCAwXSxcbiAgICAgICAgICAgICAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9uOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uLCBcImZcIiksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCBcImZcIik7XG4gICAgfVxuICAgIGdldCB2ZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdmVyc2lvbiwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X25hbWUsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IHVybCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3VybCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgaWNvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2ljb24sIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGNoYWlucygpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWlucywgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgZmVhdHVyZXMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgW1N0YW5kYXJkQ29ubmVjdF06IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Q6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3QsIFwiZlwiKSxcbiAgICAgICAgICAgIH0sIFtTdGFuZGFyZERpc2Nvbm5lY3RdOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9kaXNjb25uZWN0LCBcImZcIiksXG4gICAgICAgICAgICB9LCBbU3RhbmRhcmRFdmVudHNdOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICBvbjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb24sIFwiZlwiKSxcbiAgICAgICAgICAgIH0sIFtTb2xhbmFTaWduTWVzc2FnZV06IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICAgICAgICAgIHNpZ25NZXNzYWdlOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduTWVzc2FnZSwgXCJmXCIpLFxuICAgICAgICAgICAgfSwgW1NvbGFuYVNpZ25Jbl06IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICAgICAgICAgIHNpZ25JbjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkluLCBcImZcIiksXG4gICAgICAgICAgICB9IH0sIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29wdGlvbmFsRmVhdHVyZXMsIFwiZlwiKSk7XG4gICAgfVxuICAgIGdldCBhY2NvdW50cygpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFjY291bnRzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICB9XG4gICAgZ2V0IGNvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgaXNBdXRob3JpemVkKCkge1xuICAgICAgICByZXR1cm4gISFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjdXJyZW50QXV0aG9yaXphdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGNhY2hlZEF1dGhvcml6YXRpb25SZXN1bHQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uQ2FjaGUsIFwiZlwiKS5nZXQoKTtcbiAgICB9XG59XG5fTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2xpc3RlbmVycyA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdmVyc2lvbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbmFtZSA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdXJsID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pY29uID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hcHBJZGVudGl0eSA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW9uR2VuZXJhdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpblNlbGVjdG9yID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vcHRpb25hbEZlYXR1cmVzID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vbldhbGxldE5vdEZvdW5kID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdCA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybUF1dGhvcml6YXRpb24gPSBuZXcgV2Vha01hcCgpLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZUF1dGhvcml6YXRpb25SZXN1bHQgPSBuZXcgV2Vha01hcCgpLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZVdhbGxldENhcGFiaWxpdGllc1Jlc3VsdCA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZGlzY29ubmVjdCA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3QgPSBuZXcgV2Vha01hcCgpLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYWNjb3VudHNUb1dhbGxldFN0YW5kYXJkQWNjb3VudHMgPSBuZXcgV2Vha01hcCgpLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduVHJhbnNhY3Rpb25zID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnblRyYW5zYWN0aW9uID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduTWVzc2FnZSA9IG5ldyBXZWFrTWFwKCksIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkluID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkluID0gbmV3IFdlYWtNYXAoKSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2VtaXQgPSBmdW5jdGlvbiBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2VtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICAoX2EgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIuYXBwbHkobnVsbCwgYXJncykpO1xufSwgX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vZmYgPSBmdW5jdGlvbiBfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICB2YXIgX2E7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gKF9hID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmlsdGVyKChleGlzdGluZ0xpc3RlbmVyKSA9PiBsaXN0ZW5lciAhPT0gZXhpc3RpbmdMaXN0ZW5lcik7XG59O1xuY2xhc3MgUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2xpc3RlbmVycy5zZXQodGhpcywge30pO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF92ZXJzaW9uLnNldCh0aGlzLCAnMS4wLjAnKTsgLy8gd2FsbGV0LXN0YW5kYXJkIHZlcnNpb25cbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbmFtZS5zZXQodGhpcywgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldE5hbWUpO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF91cmwuc2V0KHRoaXMsICdodHRwczovL3NvbGFuYW1vYmlsZS5jb20vd2FsbGV0cycpO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pY29uLnNldCh0aGlzLCBpY29uKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXBwSWRlbnRpdHkuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24uc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGluZy5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXZlcnkgdGltZSB0aGUgY29ubmVjdGlvbiBpcyByZWN5Y2xlZCBpbiBzb21lIHdheSAoZWcuIGBkaXNjb25uZWN0KClgIGlzIGNhbGxlZClcbiAgICAgICAgICogaW5jcmVtZW50IHRoaXMgYW5kIHVzZSBpdCB0byBtYWtlIHN1cmUgdGhhdCBgdHJhbnNhY3RgIGNhbGxzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAgICAqICdnZW5lcmF0aW9uJyBkb24ndCBjb250aW51ZSB0byBkbyB3b3JrIGFuZCB0aHJvdyBleGNlcHRpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGlvbkdlbmVyYXRpb24uc2V0KHRoaXMsIDApO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpbnMuc2V0KHRoaXMsIFtdKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5TZWxlY3Rvci5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb3B0aW9uYWxGZWF0dXJlcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb25XYWxsZXROb3RGb3VuZC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaG9zdEF1dGhvcml0eS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2Vzc2lvbi5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb24uc2V0KHRoaXMsIChldmVudCwgbGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICgoX2EgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaChsaXN0ZW5lcikpIHx8IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gW2xpc3RlbmVyXSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2luc3RhbmNlcywgXCJtXCIsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29mZikuY2FsbCh0aGlzLCBldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdC5zZXQodGhpcywgKHsgc2lsZW50IH0gPSB7fSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nLCBcImZcIikgfHwgdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBhY2NvdW50czogdGhpcy5hY2NvdW50cyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmcsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1BdXRob3JpemF0aW9uLCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmcsIGZhbHNlLCBcImZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBhY2NvdW50czogdGhpcy5hY2NvdW50cyB9O1xuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1BdXRob3JpemF0aW9uLnNldCh0aGlzLCAoc2lnbkluUGF5bG9hZCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0ID0geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSwgXCJmXCIpLmdldCgpO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEV2YWx1YXRlIHdoZXRoZXIgdGhlcmUncyBhbnkgdGhyZWF0IHRvIG5vdCBgYXdhaXRpbmdgIHRoaXMgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCwgXCJmXCIpLmNhbGwodGhpcywgY2FjaGVkQXV0aG9yaXphdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3Nlc3Npb24sIFwiZlwiKSlcbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3Nlc3Npb24sIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2hhaW4gPSB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5TZWxlY3RvciwgXCJmXCIpLnNlbGVjdChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zLCBcImZcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3QsIFwiZlwiKS5jYWxsKHRoaXMsICh3YWxsZXQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW2NhcGFiaWxpdGllcywgbXdhQXV0aG9yaXphdGlvblJlc3VsdF0gPSB5aWVsZCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsZXQuZ2V0Q2FwYWJpbGl0aWVzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsZXQuYXV0aG9yaXplKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbjogc2VsZWN0ZWRDaGFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eTogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FwcElkZW50aXR5LCBcImZcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbl9pbl9wYXlsb2FkOiBzaWduSW5QYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnRzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FjY291bnRzVG9XYWxsZXRTdGFuZGFyZEFjY291bnRzLCBcImZcIikuY2FsbCh0aGlzLCBtd2FBdXRob3JpemF0aW9uUmVzdWx0LmFjY291bnRzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvblJlc3VsdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbXdhQXV0aG9yaXphdGlvblJlc3VsdCksIHsgYWNjb3VudHMsIGNoYWluOiBzZWxlY3RlZENoYWluIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBFdmFsdWF0ZSB3aGV0aGVyIHRoZXJlJ3MgYW55IHRocmVhdCB0byBub3QgYGF3YWl0aW5nYCB0aGlzIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZVdhbGxldENhcGFiaWxpdGllc1Jlc3VsdCwgXCJmXCIpLmNhbGwodGhpcywgY2FwYWJpbGl0aWVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uQ2FjaGUsIFwiZlwiKS5zZXQoYXV0aG9yaXphdGlvblJlc3VsdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCwgXCJmXCIpLmNhbGwodGhpcywgYXV0aG9yaXphdGlvblJlc3VsdCksXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0aG9yaXphdGlvblJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubWVzc2FnZSkgfHwgJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVBdXRob3JpemF0aW9uUmVzdWx0LnNldCh0aGlzLCAoYXV0aG9yaXphdGlvbikgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgZGlkUHVibGljS2V5c0NoYW5nZSA9IFxuICAgICAgICAgICAgLy8gQ2FzZSAxOiBXZSBzdGFydGVkIGZyb20gaGF2aW5nIG5vIGF1dGhvcml6YXRpb24uXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgXCJmXCIpID09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDI6IFRoZSBudW1iZXIgb2YgYXV0aG9yaXplZCBhY2NvdW50cyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICgoX2EgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgXCJmXCIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjb3VudHMubGVuZ3RoKSAhPT0gYXV0aG9yaXphdGlvbi5hY2NvdW50cy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDM6IFRoZSBuZXcgbGlzdCBvZiBhZGRyZXNzZXMgaXNuJ3QgZXhhY3RseSB0aGUgc2FtZSBhcyB0aGUgb2xkIGxpc3QsIGluIHRoZSBzYW1lIG9yZGVyLlxuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIikuYWNjb3VudHMuc29tZSgoYWNjb3VudCwgaWkpID0+IGFjY291bnQuYWRkcmVzcyAhPT0gYXV0aG9yaXphdGlvbi5hY2NvdW50c1tpaV0uYWRkcmVzcyk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgYXV0aG9yaXphdGlvbiwgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKGRpZFB1YmxpY0tleXNDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaW5zdGFuY2VzLCBcIm1cIiwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZW1pdCkuY2FsbCh0aGlzLCAnY2hhbmdlJywgeyBhY2NvdW50czogdGhpcy5hY2NvdW50cyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVXYWxsZXRDYXBhYmlsaXRpZXNSZXN1bHQuc2V0KHRoaXMsIChjYXBhYmlsaXRpZXMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGludmVzdGlnYXRlIHdoeSB1c2luZyBTb2xhbmFTaWduVHJhbnNhY3Rpb25zIGNvbnN0YW50IGJyZWFrcyB0cmVlc2hha2luZ1xuICAgICAgICAgICAgY29uc3Qgc3VwcG9ydHNTaWduVHJhbnNhY3Rpb24gPSBjYXBhYmlsaXRpZXMuZmVhdHVyZXMuaW5jbHVkZXMoJ3NvbGFuYTpzaWduVHJhbnNhY3Rpb25zJyk7IC8vU29sYW5hU2lnblRyYW5zYWN0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBzdXBwb3J0c1NpZ25BbmRTZW5kVHJhbnNhY3Rpb24gPSBjYXBhYmlsaXRpZXMuc3VwcG9ydHNfc2lnbl9hbmRfc2VuZF90cmFuc2FjdGlvbnMgfHxcbiAgICAgICAgICAgICAgICBjYXBhYmlsaXRpZXMuZmVhdHVyZXMuaW5jbHVkZXMoJ3NvbGFuYTpzaWduQW5kU2VuZFRyYW5zYWN0aW9uJyk7XG4gICAgICAgICAgICBjb25zdCBkaWRDYXBhYmlsaXRpZXNDaGFuZ2UgPSBTb2xhbmFTaWduQW5kU2VuZFRyYW5zYWN0aW9uIGluIHRoaXMuZmVhdHVyZXMgIT09IHN1cHBvcnRzU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiB8fFxuICAgICAgICAgICAgICAgIFNvbGFuYVNpZ25UcmFuc2FjdGlvbiBpbiB0aGlzLmZlYXR1cmVzICE9PSBzdXBwb3J0c1NpZ25UcmFuc2FjdGlvbjtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vcHRpb25hbEZlYXR1cmVzLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChzdXBwb3J0c1NpZ25BbmRTZW5kVHJhbnNhY3Rpb24gJiYge1xuICAgICAgICAgICAgICAgIFtTb2xhbmFTaWduQW5kU2VuZFRyYW5zYWN0aW9uXToge1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWRUcmFuc2FjdGlvblZlcnNpb25zOiBjYXBhYmlsaXRpZXMuc3VwcG9ydGVkX3RyYW5zYWN0aW9uX3ZlcnNpb25zLFxuICAgICAgICAgICAgICAgICAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9uOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgXCJmXCIpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSksIChzdXBwb3J0c1NpZ25UcmFuc2FjdGlvbiAmJiB7XG4gICAgICAgICAgICAgICAgW1NvbGFuYVNpZ25UcmFuc2FjdGlvbl06IHtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkVHJhbnNhY3Rpb25WZXJzaW9uczogY2FwYWJpbGl0aWVzLnN1cHBvcnRlZF90cmFuc2FjdGlvbl92ZXJzaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc2lnblRyYW5zYWN0aW9uOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnblRyYW5zYWN0aW9uLCBcImZcIiksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pKSwgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKGRpZENhcGFiaWxpdGllc0NoYW5nZSkge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pbnN0YW5jZXMsIFwibVwiLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9lbWl0KS5jYWxsKHRoaXMsICdjaGFuZ2UnLCB7IGZlYXR1cmVzOiB0aGlzLmZlYXR1cmVzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1SZWF1dGhvcml6YXRpb24uc2V0KHRoaXMsICh3YWxsZXQsIGF1dGhUb2tlbiwgY2hhaW4pID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXdhQXV0aG9yaXphdGlvblJlc3VsdCA9IHlpZWxkIHdhbGxldC5hdXRob3JpemUoe1xuICAgICAgICAgICAgICAgICAgICBhdXRoX3Rva2VuOiBhdXRoVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aXR5OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXBwSWRlbnRpdHksIFwiZlwiKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50cyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hY2NvdW50c1RvV2FsbGV0U3RhbmRhcmRBY2NvdW50cywgXCJmXCIpLmNhbGwodGhpcywgbXdhQXV0aG9yaXphdGlvblJlc3VsdC5hY2NvdW50cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbXdhQXV0aG9yaXphdGlvblJlc3VsdCksIHsgYWNjb3VudHM6IGFjY291bnRzLCBjaGFpbjogY2hhaW4gfSk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRXZhbHVhdGUgd2hldGhlciB0aGVyZSdzIGFueSB0aHJlYXQgdG8gbm90IGBhd2FpdGluZ2AgdGhpcyBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBcImZcIikuc2V0KGF1dGhvcml6YXRpb24pLFxuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCwgXCJmXCIpLmNhbGwodGhpcywgYXV0aG9yaXphdGlvbiksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9kaXNjb25uZWN0LCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UpIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZGlzY29ubmVjdC5zZXQodGhpcywgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgICAgKF9iID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3Nlc3Npb24sIFwiZlwiKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsb3NlKCk7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbkNhY2hlLCBcImZcIikuY2xlYXIoKTsgLy8gVE9ETzogRXZhbHVhdGUgd2hldGhlciB0aGVyZSdzIGFueSB0aHJlYXQgdG8gbm90IGBhd2FpdGluZ2AgdGhpcyBleHByZXNzaW9uXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdGluZywgZmFsc2UsIFwiZlwiKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW9uR2VuZXJhdGlvbiwgKF9jID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3Rpb25HZW5lcmF0aW9uLCBcImZcIiksIF9jKyssIF9jKSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3Nlc3Npb24sIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2luc3RhbmNlcywgXCJtXCIsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2VtaXQpLmNhbGwodGhpcywgJ2NoYW5nZScsIHsgYWNjb3VudHM6IHRoaXMuYWNjb3VudHMgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3Quc2V0KHRoaXMsIChjYWxsYmFjaykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9kO1xuICAgICAgICAgICAgY29uc3Qgd2FsbGV0VXJpQmFzZSA9IChfZCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIikpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC53YWxsZXRfdXJpX2Jhc2U7XG4gICAgICAgICAgICBjb25zdCBiYXNlQ29uZmlnID0gd2FsbGV0VXJpQmFzZSA/IHsgYmFzZVVyaTogd2FsbGV0VXJpQmFzZSB9IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlQ29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBiYXNlQ29uZmlnKSwgeyByZW1vdGVIb3N0QXV0aG9yaXR5OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaG9zdEF1dGhvcml0eSwgXCJmXCIpIH0pO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENvbm5lY3Rpb25HZW5lcmF0aW9uID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3Rpb25HZW5lcmF0aW9uLCBcImZcIik7XG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBSZW1vdGVDb25uZWN0aW9uTW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2Vzc2lvbiwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zZXNzaW9uLCBcImZcIikud2FsbGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhc3NvY2lhdGlvblVybCwgY2xvc2UsIHdhbGxldCB9ID0geWllbGQgc3RhcnRSZW1vdGVTY2VuYXJpbyhyZW1vdGVDb25maWcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZUNsb3NlTGlzdGVuZXIgPSBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vZGFsLmluaXRXaXRoUVIoYXNzb2NpYXRpb25VcmwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zZXNzaW9uLCB7IGNsb3NlLCB3YWxsZXQ6IHlpZWxkIHdhbGxldCB9LCBcImZcIik7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xvc2VMaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zZXNzaW9uLCBcImZcIikud2FsbGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3Rpb25HZW5lcmF0aW9uLCBcImZcIikgIT09IGN1cnJlbnRDb25uZWN0aW9uR2VuZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgoKSA9PiB7IH0pOyAvLyBOZXZlciByZXNvbHZlLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIGUubmFtZSA9PT0gJ1NvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvcicgJiZcbiAgICAgICAgICAgICAgICAgICAgZS5jb2RlID09PSAnRVJST1JfV0FMTEVUX05PVF9GT1VORCcpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29uV2FsbGV0Tm90Rm91bmQsIFwiZlwiKS5jYWxsKHRoaXMsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZC5zZXQodGhpcywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiwgXCJmXCIpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2FsbGV0IG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgIHJldHVybiB7IGF1dGhUb2tlbjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKS5hdXRoX3Rva2VuLCBjaGFpbjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKS5jaGFpbiB9O1xuICAgICAgICB9KTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYWNjb3VudHNUb1dhbGxldFN0YW5kYXJkQWNjb3VudHMuc2V0KHRoaXMsIChhY2NvdW50cykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFjY291bnRzLm1hcCgoYWNjb3VudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gdG9VaW50OEFycmF5KGFjY291bnQuYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYmFzZTU4LmVuY29kZShwdWJsaWNLZXkpLFxuICAgICAgICAgICAgICAgICAgICBwdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBhY2NvdW50LmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBhY2NvdW50Lmljb24sXG4gICAgICAgICAgICAgICAgICAgIGNoYWluczogKF9hID0gYWNjb3VudC5jaGFpbnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpbnMsIFwiZlwiKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogZ2V0IHN1cHBvcnRlZCBmZWF0dXJlcyBmcm9tIGdldENhcGFiaWxpdGllcyBBUEkgXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzOiAoX2IgPSBhY2NvdW50LmZlYXR1cmVzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBERUZBVUxUX0ZFQVRVUkVTXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25UcmFuc2FjdGlvbnMuc2V0KHRoaXMsICh0cmFuc2FjdGlvbnMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXV0aFRva2VuLCBjaGFpbiB9ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3QsIFwiZlwiKS5jYWxsKHRoaXMsICh3YWxsZXQpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1SZWF1dGhvcml6YXRpb24sIFwiZlwiKS5jYWxsKHRoaXMsIHdhbGxldCwgYXV0aFRva2VuLCBjaGFpbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZFRyYW5zYWN0aW9ucyA9IHlpZWxkIHdhbGxldC5zaWduVHJhbnNhY3Rpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnM7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm1lc3NhZ2UpIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25BbmRTZW5kVHJhbnNhY3Rpb24uc2V0KHRoaXMsICh0cmFuc2FjdGlvbiwgb3B0aW9ucykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgeyBhdXRoVG9rZW4sIGNoYWluIH0gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXNzZXJ0SXNBdXRob3JpemVkLCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF90cmFuc2FjdCwgXCJmXCIpLmNhbGwodGhpcywgKHdhbGxldCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY2FwYWJpbGl0aWVzLCBfMV0gPSB5aWVsZCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWxsZXQuZ2V0Q2FwYWJpbGl0aWVzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiwgXCJmXCIpLmNhbGwodGhpcywgd2FsbGV0LCBhdXRoVG9rZW4sIGNoYWluKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcGFiaWxpdGllcy5zdXBwb3J0c19zaWduX2FuZF9zZW5kX3RyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlcyA9IHlpZWxkIHdhbGxldC5zaWduQW5kU2VuZFRyYW5zYWN0aW9ucyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHRyYW5zYWN0aW9uczogW3RyYW5zYWN0aW9uXSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmF0dXJlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY29ubmVjdGVkIHdhbGxldCBkb2VzIG5vdCBzdXBwb3J0IHNpZ25BbmRTZW5kVHJhbnNhY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25BbmRTZW5kVHJhbnNhY3Rpb24uc2V0KHRoaXMsICguLi5pbnB1dHMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBWZXJzaW9uZWRUcmFuc2FjdGlvbi5kZXNlcmlhbGl6ZShpbnB1dC50cmFuc2FjdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gKHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiwgXCJmXCIpLmNhbGwodGhpcywgdHJhbnNhY3Rpb24sIGlucHV0Lm9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRzLnB1c2goeyBzaWduYXR1cmU6IGJhc2U1OC5kZWNvZGUoc2lnbmF0dXJlKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRzO1xuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25UcmFuc2FjdGlvbi5zZXQodGhpcywgKC4uLmlucHV0cykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gaW5wdXRzLm1hcCgoeyB0cmFuc2FjdGlvbiB9KSA9PiBWZXJzaW9uZWRUcmFuc2FjdGlvbi5kZXNlcmlhbGl6ZSh0cmFuc2FjdGlvbikpO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb25zID0geWllbGQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduVHJhbnNhY3Rpb25zLCBcImZcIikuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHNpZ25lZFRyYW5zYWN0aW9ucy5tYXAoKHNpZ25lZFRyYW5zYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZFRyYW5zYWN0aW9uID0gaXNWZXJzaW9uZWRUcmFuc2FjdGlvbihzaWduZWRUcmFuc2FjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyBzaWduZWRUcmFuc2FjdGlvbi5zZXJpYWxpemUoKVxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KHNpZ25lZFRyYW5zYWN0aW9uLnNlcmlhbGl6ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlQWxsU2lnbmF0dXJlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlTaWduYXR1cmVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNpZ25lZFRyYW5zYWN0aW9uOiBzZXJpYWxpemVkVHJhbnNhY3Rpb24gfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25NZXNzYWdlLnNldCh0aGlzLCAoLi4uaW5wdXRzKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGF1dGhUb2tlbiwgY2hhaW4gfSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hc3NlcnRJc0F1dGhvcml6ZWQsIFwiZlwiKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzc2VzID0gaW5wdXRzLm1hcCgoeyBhY2NvdW50IH0pID0+IGZyb21VaW50OEFycmF5KGFjY291bnQucHVibGljS2V5KSk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGlucHV0cy5tYXAoKHsgbWVzc2FnZSB9KSA9PiBtZXNzYWdlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF90cmFuc2FjdCwgXCJmXCIpLmNhbGwodGhpcywgKHdhbGxldCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiwgXCJmXCIpLmNhbGwodGhpcywgd2FsbGV0LCBhdXRoVG9rZW4sIGNoYWluKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkTWVzc2FnZXMgPSB5aWVsZCB3YWxsZXQuc2lnbk1lc3NhZ2VzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NlczogYWRkcmVzc2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZHM6IG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25lZE1lc3NhZ2VzLm1hcCgoc2lnbmVkTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc2lnbmVkTWVzc2FnZTogc2lnbmVkTWVzc2FnZSwgc2lnbmF0dXJlOiBzaWduZWRNZXNzYWdlLnNsaWNlKC1TSUdOQVRVUkVfTEVOR1RIX0lOX0JZVEVTKSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubWVzc2FnZSkgfHwgJ1Vua25vd24gZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduSW4uc2V0KHRoaXMsICguLi5pbnB1dHMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dHMgPSBbXTtcbiAgICAgICAgICAgIGlmIChpbnB1dHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dHMucHVzaCh5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25JbiwgXCJmXCIpLmNhbGwodGhpcywgaW5wdXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3lpZWxkIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkluLCBcImZcIikuY2FsbCh0aGlzLCBpbnB1dHNbMF0pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRzO1xuICAgICAgICB9KSk7XG4gICAgICAgIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduSW4uc2V0KHRoaXMsIChpbnB1dCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9lLCBfZjtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW5nLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25SZXN1bHQgPSB5aWVsZCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybUF1dGhvcml6YXRpb24sIFwiZlwiKS5jYWxsKHRoaXMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5wdXQpLCB7IGRvbWFpbjogKF9lID0gaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LmRvbWFpbikgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogd2luZG93LmxvY2F0aW9uLmhvc3QgfSkpO1xuICAgICAgICAgICAgICAgIGlmICghYXV0aG9yaXphdGlvblJlc3VsdC5zaWduX2luX3Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaWduIGluIGZhaWxlZCwgbm8gc2lnbiBpbiByZXN1bHQgcmV0dXJuZWQgYnkgd2FsbGV0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzaWduZWRJbkFkZHJlc3MgPSBhdXRob3JpemF0aW9uUmVzdWx0LnNpZ25faW5fcmVzdWx0LmFkZHJlc3M7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkSW5BY2NvdW50ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoX2YgPSBhdXRob3JpemF0aW9uUmVzdWx0LmFjY291bnRzLmZpbmQoYWNjID0+IGFjYy5hZGRyZXNzID09IHNpZ25lZEluQWRkcmVzcykpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogc2lnbmVkSW5BZGRyZXNzXG4gICAgICAgICAgICAgICAgfSksIHsgcHVibGljS2V5OiB0b1VpbnQ4QXJyYXkoc2lnbmVkSW5BZGRyZXNzKSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiBzaWduZWRJbkFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZE1lc3NhZ2U6IHRvVWludDhBcnJheShhdXRob3JpemF0aW9uUmVzdWx0LnNpZ25faW5fcmVzdWx0LnNpZ25lZF9tZXNzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiB0b1VpbnQ4QXJyYXkoYXV0aG9yaXphdGlvblJlc3VsdC5zaWduX2luX3Jlc3VsdC5zaWduYXR1cmUpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5tZXNzYWdlKSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmcsIGZhbHNlLCBcImZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSwgY29uZmlnLmF1dGhvcml6YXRpb25DYWNoZSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXBwSWRlbnRpdHksIGNvbmZpZy5hcHBJZGVudGl0eSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zLCBjb25maWcuY2hhaW5zLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpblNlbGVjdG9yLCBjb25maWcuY2hhaW5TZWxlY3RvciwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaG9zdEF1dGhvcml0eSwgY29uZmlnLnJlbW90ZUhvc3RBdXRob3JpdHksIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29uV2FsbGV0Tm90Rm91bmQsIGNvbmZpZy5vbldhbGxldE5vdEZvdW5kLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vcHRpb25hbEZlYXR1cmVzLCB7XG4gICAgICAgICAgICAvLyBXZSBhcmUgZm9yY2VkIHRvIHByb3ZpZGUgZWl0aGVyIFNvbGFuYVNpZ25BbmRTZW5kVHJhbnNhY3Rpb24gb3IgU29sYW5hU2lnblRyYW5zYWN0aW9uXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoZSB3YWxsZXQtYWRhcHRlciBjb21wYXRpYmxlIHdhbGxldC1zdGFuZGFyZCB3YWxsZXQgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIG9mIHRoZW0uXG4gICAgICAgICAgICAvLyBNV0EgMi4wKyB3YWxsZXRzIG11c3QgaW1wbGVtZW50IHNpZ25BbmRTZW5kIGFuZCBwcmUgMi4wIHdhbGxldHMgaGF2ZSBhbHdheXMgcHJvdmlkZWQgaXQgc28gXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgc2FmZSBhc3N1bXB0aW9uLiBXZSBsYXRlciB1cGRhdGUgdGhlIGZlYXR1cmVzIGFmdGVyIHdlIGdldCB0aGUgd2FsbGV0cyBjYXBhYmlsaXRpZXMuIFxuICAgICAgICAgICAgW1NvbGFuYVNpZ25BbmRTZW5kVHJhbnNhY3Rpb25dOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWRUcmFuc2FjdGlvblZlcnNpb25zOiBbJ2xlZ2FjeScsIDBdLFxuICAgICAgICAgICAgICAgIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb246IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uLCBcImZcIiksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCBcImZcIik7XG4gICAgfVxuICAgIGdldCB2ZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3ZlcnNpb24sIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbmFtZSwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgdXJsKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3VybCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgaWNvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pY29uLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjaGFpbnMoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY2hhaW5zLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBmZWF0dXJlcygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBbU3RhbmRhcmRDb25uZWN0XToge1xuICAgICAgICAgICAgICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgICAgICAgICAgICAgY29ubmVjdDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3QsIFwiZlwiKSxcbiAgICAgICAgICAgIH0sIFtTdGFuZGFyZERpc2Nvbm5lY3RdOiB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgICAgICAgICAgICBkaXNjb25uZWN0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZGlzY29ubmVjdCwgXCJmXCIpLFxuICAgICAgICAgICAgfSwgW1N0YW5kYXJkRXZlbnRzXToge1xuICAgICAgICAgICAgICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgICAgICAgICAgICAgb246IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vbiwgXCJmXCIpLFxuICAgICAgICAgICAgfSwgW1NvbGFuYVNpZ25NZXNzYWdlXToge1xuICAgICAgICAgICAgICAgIHZlcnNpb246ICcxLjAuMCcsXG4gICAgICAgICAgICAgICAgc2lnbk1lc3NhZ2U6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduTWVzc2FnZSwgXCJmXCIpLFxuICAgICAgICAgICAgfSwgW1NvbGFuYVNpZ25Jbl06IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICAgICAgICAgIHNpZ25JbjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25JbiwgXCJmXCIpLFxuICAgICAgICAgICAgfSB9LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb3B0aW9uYWxGZWF0dXJlcywgXCJmXCIpKTtcbiAgICB9XG4gICAgZ2V0IGFjY291bnRzKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb24sIFwiZlwiKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFjY291bnRzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICB9XG4gICAgZ2V0IGNvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3Nlc3Npb24sIFwiZlwiKSAmJiAhIV9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBpc0F1dGhvcml6ZWQoKSB7XG4gICAgICAgIHJldHVybiAhIV9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjdXJyZW50QXV0aG9yaXphdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSwgXCJmXCIpLmdldCgpO1xuICAgIH1cbn1cbl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2xpc3RlbmVycyA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3ZlcnNpb24gPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9uYW1lID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdXJsID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaWNvbiA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FwcElkZW50aXR5ID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmcgPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW9uR2VuZXJhdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWlucyA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWluU2VsZWN0b3IgPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vcHRpb25hbEZlYXR1cmVzID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb25XYWxsZXROb3RGb3VuZCA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hvc3RBdXRob3JpdHkgPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zZXNzaW9uID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb24gPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0ID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybUF1dGhvcml6YXRpb24gPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVBdXRob3JpemF0aW9uUmVzdWx0ID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlV2FsbGV0Q2FwYWJpbGl0aWVzUmVzdWx0ID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVJlYXV0aG9yaXphdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Rpc2Nvbm5lY3QgPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF90cmFuc2FjdCA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Fzc2VydElzQXV0aG9yaXplZCA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FjY291bnRzVG9XYWxsZXRTdGFuZGFyZEFjY291bnRzID0gbmV3IFdlYWtNYXAoKSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25UcmFuc2FjdGlvbnMgPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25BbmRTZW5kVHJhbnNhY3Rpb24gPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduVHJhbnNhY3Rpb24gPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduTWVzc2FnZSA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25JbiA9IG5ldyBXZWFrTWFwKCksIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduSW4gPSBuZXcgV2Vha01hcCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9lbWl0ID0gZnVuY3Rpb24gX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfZW1pdChldmVudCwgLi4uYXJncykge1xuICAgIHZhciBfYTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgIChfYSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQkMSh0aGlzLCBfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIuYXBwbHkobnVsbCwgYXJncykpO1xufSwgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb2ZmID0gZnVuY3Rpb24gX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIHZhciBfYTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0JDEodGhpcywgX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gKF9hID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxKHRoaXMsIF9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbHRlcigoZXhpc3RpbmdMaXN0ZW5lcikgPT4gbGlzdGVuZXIgIT09IGV4aXN0aW5nTGlzdGVuZXIpO1xufTtcblxudmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX1JlZ2lzdGVyV2FsbGV0RXZlbnRfZGV0YWlsO1xuLyoqXG4gKiBSZWdpc3RlciBhIHtAbGluayBcIkB3YWxsZXQtc3RhbmRhcmQvYmFzZVwiLldhbGxldH0gYXMgYSBTdGFuZGFyZCBXYWxsZXQgd2l0aCB0aGUgYXBwLlxuICpcbiAqIFRoaXMgZGlzcGF0Y2hlcyBhIHtAbGluayBcIkB3YWxsZXQtc3RhbmRhcmQvYmFzZVwiLldpbmRvd1JlZ2lzdGVyV2FsbGV0RXZlbnR9IHRvIG5vdGlmeSB0aGUgYXBwIHRoYXQgdGhlIFdhbGxldCBpc1xuICogcmVhZHkgdG8gYmUgcmVnaXN0ZXJlZC5cbiAqXG4gKiBUaGlzIGFsc28gYWRkcyBhIGxpc3RlbmVyIGZvciB7QGxpbmsgXCJAd2FsbGV0LXN0YW5kYXJkL2Jhc2VcIi5XaW5kb3dBcHBSZWFkeUV2ZW50fSB0byBsaXN0ZW4gZm9yIGEgbm90aWZpY2F0aW9uIGZyb21cbiAqIHRoZSBhcHAgdGhhdCB0aGUgYXBwIGlzIHJlYWR5IHRvIHJlZ2lzdGVyIHRoZSBXYWxsZXQuXG4gKlxuICogVGhpcyBjb21iaW5hdGlvbiBvZiBldmVudCBkaXNwYXRjaCBhbmQgbGlzdGVuZXIgZ3VhcmFudGVlcyB0aGF0IHRoZSBXYWxsZXQgd2lsbCBiZSByZWdpc3RlcmVkIHN5bmNocm9ub3VzbHkgYXMgc29vblxuICogYXMgdGhlIGFwcCBpcyByZWFkeSB3aGV0aGVyIHRoZSBXYWxsZXQgbG9hZHMgYmVmb3JlIG9yIGFmdGVyIHRoZSBhcHAuXG4gKlxuICogQHBhcmFtIHdhbGxldCBXYWxsZXQgdG8gcmVnaXN0ZXIuXG4gKlxuICogQGdyb3VwIFdhbGxldFxuICovXG5mdW5jdGlvbiByZWdpc3RlcldhbGxldCh3YWxsZXQpIHtcbiAgICBjb25zdCBjYWxsYmFjayA9ICh7IHJlZ2lzdGVyIH0pID0+IHJlZ2lzdGVyKHdhbGxldCk7XG4gICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IFJlZ2lzdGVyV2FsbGV0RXZlbnQoY2FsbGJhY2spKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3dhbGxldC1zdGFuZGFyZDpyZWdpc3Rlci13YWxsZXQgZXZlbnQgY291bGQgbm90IGJlIGRpc3BhdGNoZWRcXG4nLCBlcnJvcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3YWxsZXQtc3RhbmRhcmQ6YXBwLXJlYWR5JywgKHsgZGV0YWlsOiBhcGkgfSkgPT4gY2FsbGJhY2soYXBpKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCd3YWxsZXQtc3RhbmRhcmQ6YXBwLXJlYWR5IGV2ZW50IGxpc3RlbmVyIGNvdWxkIG5vdCBiZSBhZGRlZFxcbicsIGVycm9yKTtcbiAgICB9XG59XG5jbGFzcyBSZWdpc3RlcldhbGxldEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHN1cGVyKCd3YWxsZXQtc3RhbmRhcmQ6cmVnaXN0ZXItd2FsbGV0Jywge1xuICAgICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbXBvc2VkOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIF9SZWdpc3RlcldhbGxldEV2ZW50X2RldGFpbC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVnaXN0ZXJXYWxsZXRFdmVudF9kZXRhaWwsIGNhbGxiYWNrLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBkZXRhaWwoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWdpc3RlcldhbGxldEV2ZW50X2RldGFpbCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICd3YWxsZXQtc3RhbmRhcmQ6cmVnaXN0ZXItd2FsbGV0JztcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncHJldmVudERlZmF1bHQgY2Fubm90IGJlIGNhbGxlZCcpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIGNhbm5vdCBiZSBjYWxsZWQnKTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0b3BQcm9wYWdhdGlvbiBjYW5ub3QgYmUgY2FsbGVkJyk7XG4gICAgfVxufVxuX1JlZ2lzdGVyV2FsbGV0RXZlbnRfZGV0YWlsID0gbmV3IFdlYWtNYXAoKTtcblxuKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xuKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcblxuZnVuY3Rpb24gZ2V0SXNMb2NhbEFzc29jaWF0aW9uU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LmlzU2VjdXJlQ29udGV4dCAmJlxuICAgICAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC9hbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7XG59XG5mdW5jdGlvbiBnZXRJc1JlbW90ZUFzc29jaWF0aW9uU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LmlzU2VjdXJlQ29udGV4dCAmJlxuICAgICAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICEvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlck13YShjb25maWcpIHtcbiAgICBpZiAoZ2V0SXNMb2NhbEFzc29jaWF0aW9uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmVnaXN0ZXJXYWxsZXQobmV3IExvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldChjb25maWcpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZ2V0SXNSZW1vdGVBc3NvY2lhdGlvblN1cHBvcnRlZCgpICYmIGNvbmZpZy5yZW1vdGVIb3N0QXV0aG9yaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVnaXN0ZXJXYWxsZXQobmV3IFJlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb25maWcpLCB7IHJlbW90ZUhvc3RBdXRob3JpdHk6IGNvbmZpZy5yZW1vdGVIb3N0QXV0aG9yaXR5IH0pKSk7XG4gICAgfVxuICAgIGVsc2UgO1xufVxuXG5jb25zdCBXQUxMRVRfTk9UX0ZPVU5EX0VSUk9SX01FU1NBR0UgPSAnVG8gdXNlIG1vYmlsZSB3YWxsZXQgYWRhcHRlciwgeW91IG11c3QgaGF2ZSBhIGNvbXBhdGlibGUgbW9iaWxlIHdhbGxldCBhcHBsaWNhdGlvbiBpbnN0YWxsZWQgb24geW91ciBkZXZpY2UuJztcbmNvbnN0IEJST1dTRVJfTk9UX1NVUFBPUlRFRF9FUlJPUl9NRVNTQUdFID0gJ1RoaXMgYnJvd3NlciBhcHBlYXJzIHRvIGJlIGluY29tcGF0aWJsZSB3aXRoIG1vYmlsZSB3YWxsZXQgYWRhcHRlci4gT3BlbiB0aGlzIHBhZ2UgaW4gYSBjb21wYXRpYmxlIG1vYmlsZSBicm93c2VyIGFwcCBhbmQgdHJ5IGFnYWluLic7XG5jbGFzcyBFcnJvck1vZGFsIGV4dGVuZHMgRW1iZWRkZWRNb2RhbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29udGVudFN0eWxlcyA9IGNzcztcbiAgICAgICAgdGhpcy5jb250ZW50SHRtbCA9IEVycm9yRGlhbG9nSHRtbDtcbiAgICB9XG4gICAgaW5pdFdpdGhFcnJvcihlcnJvcikge1xuICAgICAgICBzdXBlci5pbml0KCk7XG4gICAgICAgIHRoaXMucG9wdWxhdGVFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIHBvcHVsYXRlRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IChfYSA9IHRoaXMuZG9tKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS13YWxsZXQtYWRhcHRlci1lcnJvci1tZXNzYWdlJyk7XG4gICAgICAgIGNvbnN0IGFjdGlvbkJ0biA9IChfYiA9IHRoaXMuZG9tKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS13YWxsZXQtYWRhcHRlci1lcnJvci1hY3Rpb24nKTtcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yJykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdFUlJPUl9XQUxMRVRfTk9UX0ZPVU5EJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gV0FMTEVUX05PVF9GT1VORF9FUlJPUl9NRVNTQUdFO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbkJ0bilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vc29sYW5hbW9iaWxlLmNvbS93YWxsZXRzJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRVJST1JfQlJPV1NFUl9OT1RfU1VQUE9SVEVEJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gQlJPV1NFUl9OT1RfU1VQUE9SVEVEX0VSUk9SX01FU1NBR0U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uQnRuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3IubWVzc2FnZX1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBsb2NhdGUgZXJyb3IgZGlhbG9nIGVsZW1lbnQnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IEVycm9yRGlhbG9nSHRtbCA9IGBcbjxzdmcgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtZXJyb3ItaWNvblwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBoZWlnaHQ9XCI1MHB4XCIgdmlld0JveD1cIjAgLTk2MCA5NjAgOTYwXCIgd2lkdGg9XCI1MHB4XCIgZmlsbD1cIiMwMDAwMDBcIj48cGF0aCBkPVwiTSAyODAsLTgwIFEgMTk3LC04MCAxMzguNSwtMTM4LjUgODAsLTE5NyA4MCwtMjgwIDgwLC0zNjMgMTM4LjUsLTQyMS41IDE5NywtNDgwIDI4MCwtNDgwIHEgODMsMCAxNDEuNSw1OC41IDU4LjUsNTguNSA1OC41LDE0MS41IDAsODMgLTU4LjUsMTQxLjUgUSAzNjMsLTgwIDI4MCwtODAgWiBNIDgyNCwtMTIwIDU2OCwtMzc2IFEgNTU2LC0zODkgNTQyLjUsLTQwMi41IDUyOSwtNDE2IDUxNiwtNDI4IHEgMzgsLTI0IDYxLC02NCAyMywtNDAgMjMsLTg4IDAsLTc1IC01Mi41LC0xMjcuNSBRIDQ5NSwtNzYwIDQyMCwtNzYwIDM0NSwtNzYwIDI5Mi41LC03MDcuNSAyNDAsLTY1NSAyNDAsLTU4MCBxIDAsNiAwLjUsMTEuNSAwLjUsNS41IDEuNSwxMS41IC0xOCwyIC0zOS41LDggLTIxLjUsNiAtMzguNSwxNCAtMiwtMTEgLTMsLTIyIC0xLC0xMSAtMSwtMjMgMCwtMTA5IDc1LjUsLTE4NC41IFEgMzExLC04NDAgNDIwLC04NDAgcSAxMDksMCAxODQuNSw3NS41IDc1LjUsNzUuNSA3NS41LDE4NC41IDAsNDMgLTEzLjUsODEuNSBRIDY1MywtNDYwIDYyOSwtNDI4IGwgMjUxLDI1MiB6IG0gLTYxNSwtNjEgNzEsLTcxIDcwLDcxIDI5LC0yOCAtNzEsLTcxIDcxLC03MSAtMjgsLTI4IC03MSw3MSAtNzEsLTcxIC0yOCwyOCA3MSw3MSAtNzEsNzEgelwiLz48L3N2Zz5cbjxkaXYgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtdGl0bGVcIj5XZSBjYW4ndCBmaW5kIGEgd2FsbGV0LjwvZGl2PlxuPGRpdiBpZD1cIm1vYmlsZS13YWxsZXQtYWRhcHRlci1lcnJvci1tZXNzYWdlXCIgY2xhc3M9XCJtb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtc3VidGl0bGVcIj48L2Rpdj5cbjxkaXY+XG4gICAgPGJ1dHRvbiBkYXRhLWVycm9yLWFjdGlvbiBpZD1cIm1vYmlsZS13YWxsZXQtYWRhcHRlci1lcnJvci1hY3Rpb25cIiBjbGFzcz1cIm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1lcnJvci1hY3Rpb25cIj5cbiAgICAgICAgRmluZCBhIHdhbGxldFxuICAgIDwvYnV0dG9uPlxuPC9kaXY+XG5gO1xuY29uc3QgY3NzID0gYFxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1jb250ZW50IHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtZXJyb3ItaWNvbiB7XG4gICAgbWFyZ2luLXRvcDogMjRweDtcbn1cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC10aXRsZSB7XG4gICAgbWFyZ2luOiAxOHB4IDEwMHB4IGF1dG8gMTAwcHg7XG4gICAgY29sb3I6ICMwMDAwMDA7XG4gICAgZm9udC1zaXplOiAyLjc1ZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLm1vYmlsZS13YWxsZXQtYWRhcHRlci1lbWJlZGRlZC1tb2RhbC1zdWJ0aXRsZSB7XG4gICAgbWFyZ2luOiAzMHB4IDYwcHggNDBweCA2MHB4O1xuICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgIGZvbnQtc2l6ZTogMS4yNWVtO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG5cbi5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtZXJyb3ItYWN0aW9uIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDU2cHg7XG4gICAgLyptYXJnaW4tdG9wOiA0MHB4OyovXG4gICAgZm9udC1zaXplOiAxLjI1ZW07XG4gICAgLypsaW5lLWhlaWdodDogMjRweDsqL1xuICAgIC8qbGV0dGVyLXNwYWNpbmc6IC0xJTsqL1xuICAgIGJhY2tncm91bmQ6ICMwMDAwMDA7XG4gICAgY29sb3I6ICNGRkZGRkY7XG4gICAgYm9yZGVyLXJhZGl1czogMThweDtcbn1cblxuLyogU21hbGxlciBzY3JlZW5zICovXG5AbWVkaWEgYWxsIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xuICAgIC5tb2JpbGUtd2FsbGV0LWFkYXB0ZXItZW1iZWRkZWQtbW9kYWwtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDEuNWVtO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMnB4O1xuICAgIH1cbiAgICAubW9iaWxlLXdhbGxldC1hZGFwdGVyLWVtYmVkZGVkLW1vZGFsLXN1YnRpdGxlIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTJweDtcbiAgICB9XG59XG5gO1xuXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JNb2RhbFdhbGxldE5vdEZvdW5kSGFuZGxlcigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBjb25zdCBlcnJvckRpYWxvZyA9IG5ldyBFcnJvck1vZGFsKCk7XG4gICAgICAgICAgICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCd3dicpKSB7IC8vIEFuZHJvaWQgV2ViVmlld1xuICAgICAgICAgICAgICAgIC8vIE1XQSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciBzbyB3ZSBpbmZvcm0gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAvLyBlcnJvckRpYWxvZy5pbml0V2l0aEVycm9yKFxuICAgICAgICAgICAgICAgIC8vICAgICBuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yQ29kZS5FUlJPUl9CUk9XU0VSX05PVF9TVVBQT1JURUQsIFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgJydcbiAgICAgICAgICAgICAgICAvLyAgICAgKVxuICAgICAgICAgICAgICAgIC8vICk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaW52ZXN0aWdhdGUgd2h5IGluc3RhbnRpYXRpbmcgYSBuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yIGhlcmUgYnJlYWtzIHRyZWVzaGFraW5nIFxuICAgICAgICAgICAgICAgIGVycm9yRGlhbG9nLmluaXRXaXRoRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogJ0VSUk9SX0JST1dTRVJfTk9UX1NVUFBPUlRFRCcsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHsgLy8gQnJvd3NlciwgdXNlciBkb2VzIG5vdCBoYXZlIGEgd2FsbGV0IGluc3RhbGxlZC5cbiAgICAgICAgICAgICAgICAvLyBlcnJvckRpYWxvZy5pbml0V2l0aEVycm9yKFxuICAgICAgICAgICAgICAgIC8vICAgICBuZXcgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yKFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlckVycm9yQ29kZS5FUlJPUl9XQUxMRVRfTk9UX0ZPVU5ELCBcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgLy8gICAgIClcbiAgICAgICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGludmVzdGlnYXRlIHdoeSBpbnN0YW50aWF0aW5nIGEgbmV3IFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvciBoZXJlIGJyZWFrcyB0cmVlc2hha2luZyBcbiAgICAgICAgICAgICAgICBlcnJvckRpYWxvZy5pbml0V2l0aEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6ICdFUlJPUl9XQUxMRVRfTk9UX0ZPVU5EJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVycm9yRGlhbG9nLm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFdhbGxldE5vdEZvdW5kSGFuZGxlcigpIHtcbiAgICByZXR1cm4gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyBkZWZhdWx0RXJyb3JNb2RhbFdhbGxldE5vdEZvdW5kSGFuZGxlcigpOyB9KTtcbn1cblxuY29uc3QgQ0FDSEVfS0VZID0gJ1NvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJEZWZhdWx0QXV0aG9yaXphdGlvbkNhY2hlJztcbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRBdXRob3JpemF0aW9uQ2FjaGUoKSB7XG4gICAgbGV0IHN0b3JhZ2U7XG4gICAgdHJ5IHtcbiAgICAgICAgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH1cbiAgICBjYXRjaCAoX2EpIHsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNsZWFyKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oQ0FDSEVfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbShDQUNIRV9LRVkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZCAmJiBwYXJzZWQuYWNjb3VudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFjY291bnRzID0gcGFyc2VkLmFjY291bnRzLm1hcCgoYWNjb3VudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFjY291bnQpLCB7IHB1YmxpY0tleTogJ3B1YmxpY0tleScgaW4gYWNjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgVWludDhBcnJheShPYmplY3QudmFsdWVzKGFjY291bnQucHVibGljS2V5KSkgLy8gUmVidWlsZCBwdWJsaWNLZXkgZm9yIFdhbGxldEFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IFB1YmxpY0tleShhY2NvdW50LmFkZHJlc3MpLnRvQnl0ZXMoKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VkKSwgeyBhY2NvdW50czogcGFyc2VkQWNjb3VudHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZCB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChhdXRob3JpemF0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShDQUNIRV9LRVksIEpTT04uc3RyaW5naWZ5KGF1dGhvcml6YXRpb25SZXN1bHQpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0Q2hhaW5TZWxlY3RvcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3QoY2hhaW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFpbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbnNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYWlucy5pbmNsdWRlcyhTT0xBTkFfTUFJTk5FVF9DSEFJTikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNPTEFOQV9NQUlOTkVUX0NIQUlOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbnNbMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBMb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXQsIFJlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXQsIFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXROYW1lLCBjcmVhdGVEZWZhdWx0QXV0aG9yaXphdGlvbkNhY2hlLCBjcmVhdGVEZWZhdWx0Q2hhaW5TZWxlY3RvciwgY3JlYXRlRGVmYXVsdFdhbGxldE5vdEZvdW5kSGFuZGxlciwgZGVmYXVsdEVycm9yTW9kYWxXYWxsZXROb3RGb3VuZEhhbmRsZXIsIHJlZ2lzdGVyTXdhIH07XG4iXSwibmFtZXMiOlsiU29sYW5hU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiIsIlNvbGFuYVNpZ25UcmFuc2FjdGlvbiIsIlNvbGFuYVNpZ25NZXNzYWdlIiwiU29sYW5hU2lnbkluIiwiVmVyc2lvbmVkVHJhbnNhY3Rpb24iLCJQdWJsaWNLZXkiLCJRUkNvZGUiLCJTdGFuZGFyZENvbm5lY3QiLCJTdGFuZGFyZERpc2Nvbm5lY3QiLCJTdGFuZGFyZEV2ZW50cyIsIlNPTEFOQV9NQUlOTkVUX0NIQUlOIiwidHJhbnNhY3QiLCJzdGFydFJlbW90ZVNjZW5hcmlvIiwiYmFzZTU4IiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiYWRvcHQiLCJ2YWx1ZSIsInJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCQxIiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsImdldCIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQkMSIsInNldCIsIl9FbWJlZGRlZE1vZGFsX2luc3RhbmNlcyIsIl9FbWJlZGRlZE1vZGFsX3Jvb3QiLCJfRW1iZWRkZWRNb2RhbF9ldmVudExpc3RlbmVycyIsIl9FbWJlZGRlZE1vZGFsX2xpc3RlbmVyc0F0dGFjaGVkIiwiX0VtYmVkZGVkTW9kYWxfaW5qZWN0SFRNTCIsIl9FbWJlZGRlZE1vZGFsX2F0dGFjaEV2ZW50TGlzdGVuZXJzIiwiX0VtYmVkZGVkTW9kYWxfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfRW1iZWRkZWRNb2RhbF9oYW5kbGVLZXlEb3duIiwibW9kYWxIdG1sIiwiY3NzJDIiLCJmb250cyIsIkVtYmVkZGVkTW9kYWwiLCJjb25zdHJ1Y3RvciIsImFkZCIsImRvbSIsIm9wZW4iLCJjb25zb2xlIiwiZGVidWciLCJzdHlsZSIsImRpc3BsYXkiLCJjbG9zZSIsImV2ZW50IiwidW5kZWZpbmVkIiwiX2EiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJrZXkiLCJpbml0IiwiYmluZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJsb2ciLCJhZGRFdmVudExpc3RlbmVyIiwicHVzaCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmaWx0ZXIiLCJleGlzdGluZ0xpc3RlbmVyIiwiV2Vha01hcCIsIldlYWtTZXQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJpbm5lckhUTUwiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnRIdG1sIiwic3R5bGVzIiwidGV4dENvbnRlbnQiLCJjb250ZW50U3R5bGVzIiwiaG9zdCIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJjbG9zZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImNsb3NlciIsIndpbmRvdyIsIlJlbW90ZUNvbm5lY3Rpb25Nb2RhbCIsImFyZ3VtZW50cyIsImNzcyQxIiwiUVJDb2RlSHRtbCIsImluaXRXaXRoUVIiLCJxckNvZGUiLCJfc3VwZXIiLCJPYmplY3QiLCJjcmVhdGUiLCJwb3B1bGF0ZVFSQ29kZSIsInFyVXJsIiwicXJjb2RlQ29udGFpbmVyIiwicXJDb2RlRWxlbWVudCIsInRvQ2FudmFzIiwid2lkdGgiLCJtYXJnaW4iLCJmaXJzdEVsZW1lbnRDaGlsZCIsInJlcGxhY2VDaGlsZCIsImVycm9yIiwiaWNvbiIsImlzVmVyc2lvbmVkVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbiIsImZyb21VaW50OEFycmF5IiwiYnl0ZUFycmF5IiwiYnRvYSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInRvVWludDhBcnJheSIsImJhc2U2NEVuY29kZWRCeXRlQXJyYXkiLCJVaW50OEFycmF5IiwiYXRvYiIsInNwbGl0IiwibWFwIiwiYyIsImNoYXJDb2RlQXQiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2luc3RhbmNlcyIsIl9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfbGlzdGVuZXJzIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF92ZXJzaW9uIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9uYW1lIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF91cmwiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2ljb24iLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FwcElkZW50aXR5IiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hdXRob3JpemF0aW9uQ2FjaGUiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmciLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3Rpb25HZW5lcmF0aW9uIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jaGFpbnMiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWluU2VsZWN0b3IiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29wdGlvbmFsRmVhdHVyZXMiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29uV2FsbGV0Tm90Rm91bmQiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X29uIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9lbWl0IiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vZmYiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3QiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1BdXRob3JpemF0aW9uIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVBdXRob3JpemF0aW9uUmVzdWx0IiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9oYW5kbGVXYWxsZXRDYXBhYmlsaXRpZXNSZXN1bHQiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1SZWF1dGhvcml6YXRpb24iLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Rpc2Nvbm5lY3QiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3RyYW5zYWN0IiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hc3NlcnRJc0F1dGhvcml6ZWQiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FjY291bnRzVG9XYWxsZXRTdGFuZGFyZEFjY291bnRzIiwiX0xvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnblRyYW5zYWN0aW9ucyIsIl9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25BbmRTZW5kVHJhbnNhY3Rpb24iLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25BbmRTZW5kVHJhbnNhY3Rpb24iLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25UcmFuc2FjdGlvbiIsIl9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbk1lc3NhZ2UiLCJfTG9jYWxTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3NpZ25JbiIsIl9Mb2NhbFNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25JbiIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2luc3RhbmNlcyIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2xpc3RlbmVycyIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3ZlcnNpb24iLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9uYW1lIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdXJsIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaWNvbiIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2FwcElkZW50aXR5IiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfYXV0aG9yaXphdGlvbiIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2F1dGhvcml6YXRpb25DYWNoZSIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2Nvbm5lY3RpbmciLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9jb25uZWN0aW9uR2VuZXJhdGlvbiIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWlucyIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2NoYWluU2VsZWN0b3IiLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9vcHRpb25hbEZlYXR1cmVzIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb25XYWxsZXROb3RGb3VuZCIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hvc3RBdXRob3JpdHkiLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zZXNzaW9uIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb24iLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9lbWl0IiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfb2ZmIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfY29ubmVjdCIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1BdXRob3JpemF0aW9uIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfaGFuZGxlQXV0aG9yaXphdGlvblJlc3VsdCIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X2hhbmRsZVdhbGxldENhcGFiaWxpdGllc1Jlc3VsdCIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1SZWF1dGhvcml6YXRpb24iLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9kaXNjb25uZWN0IiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfdHJhbnNhY3QiLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hc3NlcnRJc0F1dGhvcml6ZWQiLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9hY2NvdW50c1RvV2FsbGV0U3RhbmRhcmRBY2NvdW50cyIsIl9SZW1vdGVTb2xhbmFNb2JpbGVXYWxsZXRBZGFwdGVyV2FsbGV0X3BlcmZvcm1TaWduVHJhbnNhY3Rpb25zIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfcGVyZm9ybVNpZ25BbmRTZW5kVHJhbnNhY3Rpb24iLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduQW5kU2VuZFRyYW5zYWN0aW9uIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnblRyYW5zYWN0aW9uIiwiX1JlbW90ZVNvbGFuYU1vYmlsZVdhbGxldEFkYXB0ZXJXYWxsZXRfc2lnbk1lc3NhZ2UiLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9zaWduSW4iLCJfUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldF9wZXJmb3JtU2lnbkluIiwiU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldE5hbWUiLCJTSUdOQVRVUkVfTEVOR1RIX0lOX0JZVEVTIiwiREVGQVVMVF9GRUFUVVJFUyIsIkxvY2FsU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldCIsImNvbmZpZyIsInNpbGVudCIsImNvbm5lY3RlZCIsImFjY291bnRzIiwiY2FjaGVkQXV0aG9yaXphdGlvbiIsIkVycm9yIiwibWVzc2FnZSIsInNpZ25JblBheWxvYWQiLCJjYWNoZWRBdXRob3JpemF0aW9uUmVzdWx0Iiwic2VsZWN0ZWRDaGFpbiIsInNlbGVjdCIsIndhbGxldCIsImNhcGFiaWxpdGllcyIsIm13YUF1dGhvcml6YXRpb25SZXN1bHQiLCJhbGwiLCJnZXRDYXBhYmlsaXRpZXMiLCJhdXRob3JpemUiLCJjaGFpbiIsImlkZW50aXR5Iiwic2lnbl9pbl9wYXlsb2FkIiwiYXV0aG9yaXphdGlvbiIsImFzc2lnbiIsImRpZFB1YmxpY0tleXNDaGFuZ2UiLCJsZW5ndGgiLCJzb21lIiwiYWNjb3VudCIsImlpIiwiYWRkcmVzcyIsInN1cHBvcnRzU2lnblRyYW5zYWN0aW9uIiwiZmVhdHVyZXMiLCJpbmNsdWRlcyIsInN1cHBvcnRzU2lnbkFuZFNlbmRUcmFuc2FjdGlvbiIsInN1cHBvcnRzX3NpZ25fYW5kX3NlbmRfdHJhbnNhY3Rpb25zIiwiZGlkQ2FwYWJpbGl0aWVzQ2hhbmdlIiwidmVyc2lvbiIsInN1cHBvcnRlZFRyYW5zYWN0aW9uVmVyc2lvbnMiLCJzaWduQW5kU2VuZFRyYW5zYWN0aW9uIiwic2lnblRyYW5zYWN0aW9uIiwiYXV0aFRva2VuIiwiYXV0aF90b2tlbiIsIl9iIiwiY2xlYXIiLCJjYWxsYmFjayIsIl9jIiwid2FsbGV0VXJpQmFzZSIsIndhbGxldF91cmlfYmFzZSIsImJhc2VVcmkiLCJjdXJyZW50Q29ubmVjdGlvbkdlbmVyYXRpb24iLCJuYW1lIiwiY29kZSIsInB1YmxpY0tleSIsImVuY29kZSIsImxhYmVsIiwiY2hhaW5zIiwidHJhbnNhY3Rpb25zIiwic2lnbmVkVHJhbnNhY3Rpb25zIiwic2lnblRyYW5zYWN0aW9ucyIsIm9wdGlvbnMiLCJfMSIsInNpZ25hdHVyZXMiLCJzaWduQW5kU2VuZFRyYW5zYWN0aW9ucyIsImlucHV0cyIsIm91dHB1dHMiLCJpbnB1dCIsImRlc2VyaWFsaXplIiwic2lnbmF0dXJlIiwiZGVjb2RlIiwic2lnbmVkVHJhbnNhY3Rpb24iLCJzZXJpYWxpemVkVHJhbnNhY3Rpb24iLCJzZXJpYWxpemUiLCJyZXF1aXJlQWxsU2lnbmF0dXJlcyIsInZlcmlmeVNpZ25hdHVyZXMiLCJhZGRyZXNzZXMiLCJtZXNzYWdlcyIsInNpZ25lZE1lc3NhZ2VzIiwic2lnbk1lc3NhZ2VzIiwicGF5bG9hZHMiLCJzaWduZWRNZXNzYWdlIiwic2xpY2UiLCJfZCIsIl9lIiwiYXV0aG9yaXphdGlvblJlc3VsdCIsImRvbWFpbiIsImxvY2F0aW9uIiwic2lnbl9pbl9yZXN1bHQiLCJzaWduZWRJbkFkZHJlc3MiLCJzaWduZWRJbkFjY291bnQiLCJmaW5kIiwiYWNjIiwic2lnbmVkX21lc3NhZ2UiLCJhdXRob3JpemF0aW9uQ2FjaGUiLCJhcHBJZGVudGl0eSIsImNoYWluU2VsZWN0b3IiLCJvbldhbGxldE5vdEZvdW5kIiwidXJsIiwiY29ubmVjdCIsImRpc2Nvbm5lY3QiLCJvbiIsInNpZ25NZXNzYWdlIiwic2lnbkluIiwiaXNBdXRob3JpemVkIiwiY3VycmVudEF1dGhvcml6YXRpb24iLCJhcmdzIiwiUmVtb3RlU29sYW5hTW9iaWxlV2FsbGV0QWRhcHRlcldhbGxldCIsInN1cHBvcnRlZF90cmFuc2FjdGlvbl92ZXJzaW9ucyIsImJhc2VDb25maWciLCJyZW1vdGVDb25maWciLCJyZW1vdGVIb3N0QXV0aG9yaXR5IiwibW9kYWwiLCJhc3NvY2lhdGlvblVybCIsInJlbW92ZUNsb3NlTGlzdGVuZXIiLCJ0b1N0cmluZyIsIl9mIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJfUmVnaXN0ZXJXYWxsZXRFdmVudF9kZXRhaWwiLCJyZWdpc3RlcldhbGxldCIsInJlZ2lzdGVyIiwiZGlzcGF0Y2hFdmVudCIsIlJlZ2lzdGVyV2FsbGV0RXZlbnQiLCJkZXRhaWwiLCJhcGkiLCJFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiY29tcG9zZWQiLCJ0eXBlIiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJnZXRJc0xvY2FsQXNzb2NpYXRpb25TdXBwb3J0ZWQiLCJpc1NlY3VyZUNvbnRleHQiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZ2V0SXNSZW1vdGVBc3NvY2lhdGlvblN1cHBvcnRlZCIsInJlZ2lzdGVyTXdhIiwiV0FMTEVUX05PVF9GT1VORF9FUlJPUl9NRVNTQUdFIiwiQlJPV1NFUl9OT1RfU1VQUE9SVEVEX0VSUk9SX01FU1NBR0UiLCJFcnJvck1vZGFsIiwiY3NzIiwiRXJyb3JEaWFsb2dIdG1sIiwiaW5pdFdpdGhFcnJvciIsInBvcHVsYXRlRXJyb3IiLCJlcnJvck1lc3NhZ2VFbGVtZW50IiwiYWN0aW9uQnRuIiwiaHJlZiIsImRlZmF1bHRFcnJvck1vZGFsV2FsbGV0Tm90Rm91bmRIYW5kbGVyIiwidG9Mb3dlckNhc2UiLCJlcnJvckRpYWxvZyIsImNyZWF0ZURlZmF1bHRXYWxsZXROb3RGb3VuZEhhbmRsZXIiLCJDQUNIRV9LRVkiLCJjcmVhdGVEZWZhdWx0QXV0aG9yaXphdGlvbkNhY2hlIiwic3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJnZXRJdGVtIiwicGFyc2VkQWNjb3VudHMiLCJ2YWx1ZXMiLCJ0b0J5dGVzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImNyZWF0ZURlZmF1bHRDaGFpblNlbGVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@solana-mobile/wallet-standard-mobile/lib/esm/index.js\n");

/***/ })

};
;